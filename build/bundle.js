!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=91)}([function(e,t,s){"use strict";e.exports={applyToDefaults:s(47),assert:s(1),Bench:s(95),block:s(96),clone:s(4),contain:s(97),deepEqual:s(17),Error:s(33),escapeHeaderAttribute:s(98),escapeHtml:s(50),escapeJson:s(99),escapeRegex:s(25),flatten:s(100),ignore:s(35),intersect:s(101),merge:s(34),once:s(102),reach:s(15),reachTemplate:s(103),stringify:s(48),wait:s(104)}},function(e,t,s){"use strict";const n=s(33);e.exports=function(e,...t){if(!e){if(1===t.length&&t[0]instanceof Error)throw t[0];throw new n(t)}}},function(e,t,s){"use strict";const n=s(0),i={codes:new Map([[100,"Continue"],[101,"Switching Protocols"],[102,"Processing"],[200,"OK"],[201,"Created"],[202,"Accepted"],[203,"Non-Authoritative Information"],[204,"No Content"],[205,"Reset Content"],[206,"Partial Content"],[207,"Multi-Status"],[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Moved Temporarily"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Time-out"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request-URI Too Large"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Unordered Collection"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Time-out"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]])};e.exports=i.Boom=class extends Error{constructor(e,t={}){if(e instanceof Error)return i.Boom.boomify(n.clone(e),t);const{statusCode:s=500,data:a=null,ctor:r=i.Boom}=t,o=new Error(e||void 0);Error.captureStackTrace(o,r),o.data=a;const c=i.initialize(o,s);return Object.defineProperty(c,"typeof",{value:r}),t.decorate&&Object.assign(c,t.decorate),c}static[Symbol.hasInstance](e){return i.Boom.isBoom(e)}static isBoom(e){return e instanceof Error&&!!e.isBoom}static boomify(e,t){return n.assert(e instanceof Error,"Cannot wrap non-Error object"),void 0!==(t=t||{}).data&&(e.data=t.data),t.decorate&&Object.assign(e,t.decorate),e.isBoom?!1===t.override||!t.statusCode&&!t.message?e:i.initialize(e,t.statusCode||e.output.statusCode,t.message):i.initialize(e,t.statusCode||500,t.message)}static badRequest(e,t){return new i.Boom(e,{statusCode:400,data:t,ctor:i.Boom.badRequest})}static unauthorized(e,t,s){const a=new i.Boom(e,{statusCode:401,ctor:i.Boom.unauthorized});if(!t)return a;if("string"!=typeof t)return a.output.headers["WWW-Authenticate"]=t.join(", "),a;let r=`${t} `;return(s||e)&&(a.output.payload.attributes={}),s&&("string"==typeof s?(r+=n.escapeHeaderAttribute(s),a.output.payload.attributes=s):r+=Object.keys(s).map(e=>{let t=s[e];return null==t&&(t=""),a.output.payload.attributes[e]=t,`${e}="${n.escapeHeaderAttribute(t.toString())}"`}).join(", ")),e?(s&&(r+=", "),r+=`error="${n.escapeHeaderAttribute(e)}"`,a.output.payload.attributes.error=e):a.isMissing=!0,a.output.headers["WWW-Authenticate"]=r,a}static paymentRequired(e,t){return new i.Boom(e,{statusCode:402,data:t,ctor:i.Boom.paymentRequired})}static forbidden(e,t){return new i.Boom(e,{statusCode:403,data:t,ctor:i.Boom.forbidden})}static notFound(e,t){return new i.Boom(e,{statusCode:404,data:t,ctor:i.Boom.notFound})}static methodNotAllowed(e,t,s){const n=new i.Boom(e,{statusCode:405,data:t,ctor:i.Boom.methodNotAllowed});return"string"==typeof s&&(s=[s]),Array.isArray(s)&&(n.output.headers.Allow=s.join(", ")),n}static notAcceptable(e,t){return new i.Boom(e,{statusCode:406,data:t,ctor:i.Boom.notAcceptable})}static proxyAuthRequired(e,t){return new i.Boom(e,{statusCode:407,data:t,ctor:i.Boom.proxyAuthRequired})}static clientTimeout(e,t){return new i.Boom(e,{statusCode:408,data:t,ctor:i.Boom.clientTimeout})}static conflict(e,t){return new i.Boom(e,{statusCode:409,data:t,ctor:i.Boom.conflict})}static resourceGone(e,t){return new i.Boom(e,{statusCode:410,data:t,ctor:i.Boom.resourceGone})}static lengthRequired(e,t){return new i.Boom(e,{statusCode:411,data:t,ctor:i.Boom.lengthRequired})}static preconditionFailed(e,t){return new i.Boom(e,{statusCode:412,data:t,ctor:i.Boom.preconditionFailed})}static entityTooLarge(e,t){return new i.Boom(e,{statusCode:413,data:t,ctor:i.Boom.entityTooLarge})}static uriTooLong(e,t){return new i.Boom(e,{statusCode:414,data:t,ctor:i.Boom.uriTooLong})}static unsupportedMediaType(e,t){return new i.Boom(e,{statusCode:415,data:t,ctor:i.Boom.unsupportedMediaType})}static rangeNotSatisfiable(e,t){return new i.Boom(e,{statusCode:416,data:t,ctor:i.Boom.rangeNotSatisfiable})}static expectationFailed(e,t){return new i.Boom(e,{statusCode:417,data:t,ctor:i.Boom.expectationFailed})}static teapot(e,t){return new i.Boom(e,{statusCode:418,data:t,ctor:i.Boom.teapot})}static badData(e,t){return new i.Boom(e,{statusCode:422,data:t,ctor:i.Boom.badData})}static locked(e,t){return new i.Boom(e,{statusCode:423,data:t,ctor:i.Boom.locked})}static failedDependency(e,t){return new i.Boom(e,{statusCode:424,data:t,ctor:i.Boom.failedDependency})}static preconditionRequired(e,t){return new i.Boom(e,{statusCode:428,data:t,ctor:i.Boom.preconditionRequired})}static tooManyRequests(e,t){return new i.Boom(e,{statusCode:429,data:t,ctor:i.Boom.tooManyRequests})}static illegal(e,t){return new i.Boom(e,{statusCode:451,data:t,ctor:i.Boom.illegal})}static internal(e,t,s=500){return i.serverError(e,t,s,i.Boom.internal)}static notImplemented(e,t){return i.serverError(e,t,501,i.Boom.notImplemented)}static badGateway(e,t){return i.serverError(e,t,502,i.Boom.badGateway)}static serverUnavailable(e,t){return i.serverError(e,t,503,i.Boom.serverUnavailable)}static gatewayTimeout(e,t){return i.serverError(e,t,504,i.Boom.gatewayTimeout)}static badImplementation(e,t){const s=i.serverError(e,t,500,i.Boom.badImplementation);return s.isDeveloperError=!0,s}},i.Boom.default=i.Boom,i.initialize=function(e,t,s){const a=parseInt(t,10);if(n.assert(!isNaN(a)&&a>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=a>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:a,payload:{},headers:{}},Object.defineProperty(e,"reformat",{value:i.reformat}),s||e.message||(e.reformat(),s=e.output.payload.error),s){const t=Object.getOwnPropertyDescriptor(e,"message")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"message");n.assert(t.configurable&&!t.get,"The error is not compatible with boom"),e.message=s+(e.message?": "+e.message:""),e.output.payload.message=e.message}return e.reformat(),e},i.reformat=function(e=!1){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=i.codes.get(this.output.statusCode)||"Unknown",500===this.output.statusCode&&!0!==e?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)},i.serverError=function(e,t,s,n){return t instanceof Error&&!t.isBoom?i.Boom.boomify(t,{statusCode:s,message:e}):new i.Boom(e,{statusCode:s,data:t,ctor:n})}},function(e,t,s){"use strict";const n=s(1),i=s(33),a=s(120);let r,o;const c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=a.version,t.defaults={abortEarly:!0,allowUnknown:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrapArrays:!0},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),literal:Symbol("literal"),override:Symbol("override"),prefs:Symbol("prefs"),ref:Symbol("ref"),values:Symbol("values"),template:Symbol("template")},t.assertOptions=function(e,t,s="Options"){n(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const i=Object.keys(e).filter(e=>!t.includes(e));n(0===i.length,`${s} contain unknown keys: ${i}`)},t.checkPreferences=function(e){const t=(o=o||s(40)).preferences.validate(e);if(t.error)throw new i([t.error.details[0].message])},t.compare=function(e,t,s){switch(s){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return c.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e,s={}){const i=e&&e[t.symbols.any];return!!i&&(n(s.legacy||i.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,n){r=r||s(23),e=e||{},n=n||{};const i=Object.assign({},e,n);return n.errors&&e.errors&&(i.errors=Object.assign({},e.errors,n.errors)),n.messages&&(i.messages=r.compile(n.messages,e.messages)),delete i[t.symbols.prefs],i},t.tryWithPath=function(e,t,s={}){try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,s.append&&(e.message=`${e.message} (${e.path})`),e}},t.validateArg=function(e,s,{assert:n,message:i}){if(t.isSchema(n)){const t=n.validate(e);if(!t.error)return;return t.error.message}if(!n(e))return s?`${s} ${i}`:i},t.verifyFlat=function(e,t){for(const s of e)n(!Array.isArray(s),"Method no longer accepts array arguments:",t)}},function(e,t,s){"use strict";const n=s(49),i=s(24),a={needsProtoHack:new Set([n.set,n.map,n.weakSet,n.weakMap])};e.exports=a.clone=function(e,t={},s=null){if("object"!=typeof e||null===e)return e;let r=a.clone,o=s;if(t.shallow){if(!0!==t.shallow)return a.cloneWithShallow(e,t);r=e=>e}else{const t=(o=o||new Map).get(e);if(t)return t}const c=n.getInternalProto(e);let l;switch(c){case n.buffer:return Buffer&&Buffer.from(e);case n.date:return new Date(e.getTime());case n.regex:return new RegExp(e);case n.array:l=[];break;default:if(!1!==t.prototype){const t=Object.getPrototypeOf(e);if(t&&t.isImmutable)return e;a.needsProtoHack.has(c)?(l=new t.constructor,t!==c&&Object.setPrototypeOf(l,t)):l=Object.create(t)}else l=a.needsProtoHack.has(c)?new c.constructor:{}}if(o&&o.set(e,l),c===n.set)for(const s of e)l.add(r(s,t,o));else if(c===n.map)for(const[s,n]of e)l.set(s,r(n,t,o));const u=i.keys(e,t);for(let s=0;s<u.length;++s){const i=u[s];if(c===n.array&&"length"===i)continue;const a=Object.getOwnPropertyDescriptor(e,i);a&&(a.get||a.set)?Object.defineProperty(l,i,a):Object.defineProperty(l,i,{enumerable:!a||a.enumerable,writable:!0,configurable:!0,value:r(e[i],t,o)})}return c===n.array&&(l.length=e.length),l},a.cloneWithShallow=function(e,t){const s=t.shallow;(t=Object.assign({},t)).shallow=!1;const n=i.store(e,s),r=a.clone(e,t);return i.restore(r,e,n),r}},function(e,t){e.exports=require("stream")},function(e,t,s){"use strict";const n=s(69),i=s(2),a=s(0),r={system:[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,n.AssertionError,a.Error]};t.rethrow=function(e,t,s={}){return r.catch(e,t,s,!0)},t.ignore=function(e,t,s={}){return r.catch(e,t,s,!1)},r.catch=function(e,t,s,n){if(r.match(e,t)===n){if(s.override&&(e=s.override),s.decorate&&Object.assign(e,s.decorate),s.return)return e;throw e}},t.background=async function(e,s="rethrow",n="system",i={}){try{"function"==typeof e?await e():await e}catch(e){t[s](e,n,i)}},t.isBoom=function(e){return i.isBoom(e)},t.isError=function(e){return e instanceof Error},t.isSystem=function(e){if(!e)return!1;if(e.isBoom)return!1;for(let t=0;t<r.system.length;++t)if(e instanceof r.system[t])return!0;return!1},r.rules={system:t.isSystem,boom:t.isBoom},r.match=function(e,t){if(!t)return!0;t=Array.isArray(t)?t:[t];for(let s=0;s<t.length;++s){const n=t[s];if("string"==typeof n){if(r.rules[n](e))return!0}else if("object"==typeof n){if(a.contain(e,n,{deep:!0,part:!0}))return!0}else if(e instanceof n)return!0}return!1}},function(e,t,s){"use strict";const n=s(0),i=s(22),a=s(105),r=s(9),o=s(36),c=s(37),l=s(51),u=s(52);let p=null,d=null;const h={Set:s(53),symbol:Symbol.for("@hapi/joi/schema"),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",noDefaults:!1,escapeHtml:!1}};e.exports=h.Any=class{constructor(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new h.Set,this._invalids=new h.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(e,t,s,n,i=this._flags){return o.create(e,t,s,n,i)}createOverrideError(e,t,s,n,i,a){return o.create(e,t,s,n,this._flags,i,a)}checkOptions(e){const t=(d=d||s(107)).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)}clone(){const e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};const t=Object.keys(this._inner);for(let s=0;s<t.length;++s){const n=t[s];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e}concat(e){n.assert(e instanceof h.Any,"Invalid schema object"),n.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);let t=this.clone();if("any"===this._type&&"any"!==e._type){const s=e.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"];for(let e=0;e<n.length;++e)s[n[e]]=t[n[e]];t=s}if(t._settings=t._settings?a.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests.push(...e._tests),t._refs.push(...e._refs),t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const s=Object.assign({},e._flags);delete s.empty,n.merge(t._flags,s)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const s=Object.assign({},e._flags);delete s.empty,n.merge(t._flags,s)}else n.merge(t._flags,e._flags);t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes.push(...e._notes),t._tags.push(...e._tags),t._examples.push(...e._examples),t._meta.push(...e._meta);const s=Object.keys(e._inner),i="object"===t._type;for(let n=0;n<s.length;++n){const a=s[n],r=e._inner[a];if(r){const e=t._inner[a];if(e)if(i&&"children"===a){const t={};for(let s=0;s<e.length;++s)t[e[s].key]=s;for(let s=0;s<r.length;++s){const n=r[s].key;t[n]>=0?e[t[n]]={key:n,schema:e[t[n]].schema.concat(r[s].schema)}:e.push(r[s])}}else t._inner[a]=t._inner[a].concat(r);else t._inner[a]=r.slice()}}return t}_test(e,t,s,n){const i=this.clone();return i._tests.push({func:s,name:e,arg:t,options:n}),i}_testUnique(e,t,s,n){const i=this.clone();return i._tests=i._tests.filter(t=>t.name!==e),i._tests.push({func:s,name:e,arg:t,options:n}),i}options(e){n.assert(!e.context,"Cannot override context"),this.checkOptions(e);const t=this.clone();return t._settings=a.concat(t._settings,e),t}strict(e){const t=this.clone(),s=void 0!==e&&!e;return t._settings=a.concat(t._settings,{convert:s}),t}raw(e){const t=void 0===e||e;if(this._flags.raw===t)return this;const s=this.clone();return s._flags.raw=t,s}error(e,t={self:!1}){n.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");const s=Object.keys(t).filter(e=>!["self"].includes(e));n.assert(0===s.length,`Options ${s} are unknown`);const i=this.clone();return i._flags.error=e,t.self&&(i._flags.selfError=!0),i}allow(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call allow/valid/invalid with undefined"),t._invalids.remove(i),t._valids.add(i,t._refs)}return t}valid(...e){const t=this.allow(...e);return t._flags.allowOnly=!0,t}invalid(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call allow/valid/invalid with undefined"),t._valids.remove(i),t._invalids.add(i,t._refs)}return t}required(){if("required"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="required",e}optional(){if("optional"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="optional",e}forbidden(){if("forbidden"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="forbidden",e}strip(){if(this._flags.strip)return this;const e=this.clone();return e._flags.strip=!0,e}applyFunctionToChildren(e,t,s=[],n){if(1!==(e=[].concat(e)).length||""!==e[0]){n=n?n+".":"";const t=(""===e[0]?e.slice(1):e).map(e=>n+e);throw new Error("unknown key(s) "+t.join(", "))}return this[t](...s)}default(e,t){"function"!=typeof e||r.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||n.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));const s=this.clone();return s._flags.default=e,r.push(s._refs,e),s}empty(e){const t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=i.schema(this._currentJoi,e),t}when(e,t){n.assert(t&&"object"==typeof t,"Invalid options"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const a=t.hasOwnProperty("then")?this.concat(i.schema(this._currentJoi,t.then)):void 0,r=t.hasOwnProperty("otherwise")?this.concat(i.schema(this._currentJoi,t.otherwise)):void 0;p=p||s(54);const o={then:a,otherwise:r};Object.prototype.hasOwnProperty.call(t,"is")&&(o.is=t.is);const c=p.when(e,o);return c._flags.presence="ignore",c._baseType=this,c}description(e){n.assert(e&&"string"==typeof e,"Description must be a non-empty string");const t=this.clone();return t._description=e,t}notes(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");const t=this.clone();return t._notes=t._notes.concat(e),t}tags(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");const t=this.clone();return t._tags=t._tags.concat(e),t}meta(e){n.assert(void 0!==e,"Meta cannot be undefined");const t=this.clone();return t._meta=t._meta.concat(e),t}example(...e){n.assert(e.length>0,"Missing examples");const t=[];for(let s=0;s<e.length;++s){const i=[].concat(e[s]);n.assert(i.length<=2,`Bad example format at index ${s}`);const r=i[0];let l=i[1];if(void 0!==l){n.assert(l&&"object"==typeof l,`Options for example at index ${s} must be an object`);const e=Object.keys(l).filter(e=>!["parent","context"].includes(e));n.assert(0===e.length,`Unknown example options ${e} at index ${s}`)}else l={};const u=new c("",[],l.parent||null),p=this._validate(r,u,a.concat(h.defaults,l.context?{context:l.context}:null));n.assert(!p.errors,`Bad example at index ${s}:`,p.errors&&o.process(p.errors,r));const d={value:r};Object.keys(l).length&&(d.options=l),t.push(d)}const s=this.clone();return s._examples=t,s}unit(e){n.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");const t=this.clone();return t._unit=e,t}_prepareEmptyValue(e){return"string"==typeof e&&this._flags.trim?e.trim():e}_validate(e,t,s,n){const i=e;if(t=t||new c("",[],null,n),this._settings){const e=s===h.defaults;e&&this._settings[l.settingsCache]?s=this._settings[l.settingsCache]:(s=a.concat(this._language?a.concat({language:this._language},s):s,this._settings),e&&(this._settings[l.settingsCache]=s))}else this._language&&(s=a.concat({language:this._language},s));let r=[];if(this._coerce){const n=this._coerce(e,t,s);if(n.errors)return e=n.value,r=r.concat(n.errors),this._finalizeValue(e,i,r,t,s);e=n.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,h.defaults).errors&&(e=void 0);const u=this._flags.presence||s.presence;if("optional"===u){if(void 0===e){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return this._finalizeValue(e,i,r,t,s);e={}}}else{if("required"===u&&void 0===e)return r.push(this.createError("any.required",null,t,s)),this._finalizeValue(e,i,r,t,s);if("forbidden"===u)return void 0===e?this._finalizeValue(e,i,r,t,s):(r.push(this.createError("any.unknown",null,t,s)),this._finalizeValue(e,i,r,t,s))}let p=this._valids.get(e,t,s,this._flags.insensitive);if(p)return s.convert&&(e=p.value),this._finalizeValue(e,i,r,t,s);if(this._invalids.has(e,t,s,this._flags.insensitive)&&(r.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,i,r,t,s);if(this._base){const n=this._base(e,t,s);if(n.errors)return e=n.value,r=r.concat(n.errors),this._finalizeValue(e,i,r,t,s);if(n.value!==e){if(e=n.value,p=this._valids.get(e,t,s,this._flags.insensitive))return e=p.value,this._finalizeValue(e,i,r,t,s);if(this._invalids.has(e,t,s,this._flags.insensitive)&&(r.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,i,r,t,s)}}if(this._flags.allowOnly&&(r.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,s)),s.abortEarly))return this._finalizeValue(e,i,r,t,s);for(let n=0;n<this._tests.length;++n){const a=this._tests[n].func.call(this,e,t,s);if(a instanceof o.Err){if(r.push(a),s.abortEarly)return this._finalizeValue(e,i,r,t,s)}else e=a}return this._finalizeValue(e,i,r,t,s)}_finalizeValue(e,t,s,i,a){let o;if(void 0!==e)o=this._flags.raw?t:e;else if(a.noDefaults)o=e;else if(r.isRef(this._flags.default))o=this._flags.default(i.parent,a);else if("function"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)o=n.clone(this._flags.default);else{let e;null!==i.parent&&this._flags.default.length>0&&(e=[n.clone(i.parent),a]);const t=h._try(this._flags.default,e);o=t.value,t.error&&s.push(this.createError("any.default",{error:t.error},i,a))}if(s.length&&"function"==typeof this._flags.error&&(!this._flags.selfError||s.some(e=>i.path.length===e.path.length))){const e=this._flags.error.call(this,s);s="string"==typeof e?[this.createOverrideError("override",{reason:s},i,a,e)]:[].concat(e).map(e=>e instanceof Error?e:this.createOverrideError(e.type||"override",e.context,i,a,e.message,e.template))}return{value:this._flags.strip?void 0:o,finalValue:o,errors:s.length?s:null}}_validateWithOptions(e,t,s){t&&this.checkOptions(t);const n=a.concat(h.defaults,t),i=this._validate(e,null,n),r=o.process(i.errors,e);return s?s(r,i.value):{error:r,value:i.value,then:(e,t)=>r?Promise.reject(r).catch(t):Promise.resolve(i.value).then(e),catch:e=>r?Promise.reject(r).catch(e):Promise.resolve(i.value)}}validate(e,t,s){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,s)}describe(){const e={type:this._type},t=Object.keys(this._flags);if(t.length)if(["empty","default","lazy","label"].some(e=>this._flags.hasOwnProperty(e))){e.flags={};for(let s=0;s<t.length;++s){const n=t[s];"empty"===n?e.flags[n]=this._flags[n].describe():"default"===n?r.isRef(this._flags[n])?e.flags[n]=this._flags[n].toString():"function"==typeof this._flags[n]?e.flags[n]={description:this._flags[n].description,function:this._flags[n]}:e.flags[n]=this._flags[n]:"lazy"===n||"label"===n||(e.flags[n]=this._flags[n])}}else e.flags=this._flags;this._settings&&(e.options=n.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);const s=this._valids.values();s.length&&(e.valids=s.map(e=>r.isRef(e)?e.toString():e));const i=this._invalids.values();i.length&&(e.invalids=i.map(e=>r.isRef(e)?e.toString():e)),e.rules=[];for(let t=0;t<this._tests.length;++t){const s=this._tests[t],n={name:s.name};void 0!==s.arg&&(n.arg=r.isRef(s.arg)?s.arg.toString():s.arg);const i=s.options;if(i){if(i.hasRef){n.arg={};const e=Object.keys(s.arg);for(let t=0;t<e.length;++t){const i=e[t],a=s.arg[i];n.arg[i]=r.isRef(a)?a.toString():a}}"string"==typeof i.description?n.description=i.description:"function"==typeof i.description&&(n.description=i.description(n.arg))}e.rules.push(n)}e.rules.length||delete e.rules;const a=this._getLabel();return a&&(e.label=a),e}label(e){n.assert(e&&"string"==typeof e,"Label name must be a non-empty string");const t=this.clone();return t._flags.label=e,t}_getLabel(e){return this._flags.label||e}},h.Any.prototype.isImmutable=!0,h.Any.prototype.only=h.Any.prototype.equal=h.Any.prototype.valid,h.Any.prototype.disallow=h.Any.prototype.not=h.Any.prototype.invalid,h.Any.prototype.exist=h.Any.prototype.required,h.Any.prototype[h.symbol]={version:u.version,compile:i.schema,root:"_currentJoi"},h._try=function(e,t=[]){let s,n;try{n=e(...t)}catch(e){s=e}return{value:n,error:s}}},function(e,t,s){"use strict";const n=s(1),i=s(124),a=s(3),r=s(23);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:s}){try{return s(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){n(a.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,{code:s,local:n})=>t.error(s,n),args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=r.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(const s in t){const n=t[s];if(["examples","externals","metas","notes","tags"].includes(s))for(const t of n)e=e[s.slice(0,-1)](t);else if("alterations"!==s)if("whens"!==s){if("shared"===s)for(const t of n)e=e.shared(t)}else for(const t of n){const{ref:s,is:n,not:i,then:a,otherwise:r,concat:o}=t;e=o?e.concat(o):s?e.when(s,{is:n,not:i,then:a,otherwise:r,switch:t.switch,break:t.break}):e.when(n,{then:a,otherwise:r,break:t.break})}else{const t={};for(const{target:e,adjuster:s}of n)t[e]=s;e=e.alter(t)}}return e}},messages:{"any.custom":'"{{#label}}" failed custom validation because {{#error.message}}',"any.default":'"{{#label}}" threw an error when running default method',"any.failover":'"{{#label}}" threw an error when running failover method',"any.invalid":'"{{#label}}" contains an invalid value',"any.only":'"{{#label}}" must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":'"{{#label}}" {{#arg}} references "{{#ref}}" which {{#reason}}',"any.required":'"{{#label}}" is required',"any.unknown":'"{{#label}}" is not allowed'}})},function(e,t,s){"use strict";const n=s(0);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);const s=n.clone(t),i=function(e,t){return n.reach(i.isContext?t.context:e,i.key,s)};return i.isContext=e[0]===(s&&s.contextPrefix||"$"),i.key=i.isContext?e.slice(1):e,i.path=i.key.split(s&&s.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,s){t.isRef(s)&&!s.isContext&&e.push(s.root)}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(61),r=s(3),o=s(19),c=s(11),l=s(62),u=s(63),p=s(12),d=s(16),h=s(64);let m;const f={types:{alternatives:s(123),any:s(8),array:s(128),boolean:s(129),date:s(130),function:s(131),link:s(132),number:s(133),object:s(134),string:s(135),symbol:s(137)}};Buffer&&(f.types.binary=s(138)),f.root=function(){const e={_types:new Set(Object.keys(f.types))};for(const t of e._types)e[t]=function(...e){return n(!e.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),f.generate(this,f.types[t],e)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...e){return this.any()[t](...e)};return Object.assign(e,f.methods),e.alt=e.alternatives,e.bool=e.boolean,e.func=e.function,e.x=e.expression,h.setup&&h.setup(e),e},f.methods={ValidationError:c.ValidationError,version:r.version,cache:a.provider,assert(e,t,...s){f.assert(e,t,!0,s)},attempt:(e,t,...s)=>f.assert(e,t,!1,s),build(e){return n("function"==typeof u.build,"Manifest functionality disabled"),u.build(this,e)},checkPreferences(e){r.checkPreferences(e)},compile(e,t){return o.compile(this,e,t)},defaults(e){n("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const s of t._types){const i=e(t[s]());n(r.isSchema(i),"modifier must return a valid schema object"),t[s]=function(...e){return f.generate(this,i,e)}}return t},expression:(...e)=>new d(...e),extend(...e){r.verifyFlat(e,"extend"),m=m||s(40),n(e.length,"You need to provide at least one extension"),this.assert(e,m.extensions);const t=Object.assign({},this);t._types=new Set(t._types);for(let s of e){"function"==typeof s&&(s=s(t)),this.assert(s,m.extension),n(void 0===t[s.type]||t._types.has(s.type),"Cannot override name",s.type);const e=s.base||this.any(),i=l.type(e,s);t._types.add(s.type),t[s.type]=function(...e){return f.generate(this,i,e)}}return t},isExpression:d.isTemplate,isRef:p.isRef,isSchema:r.isSchema,in:(...e)=>p.in(...e),override:r.symbols.override,ref:(...e)=>p.create(...e),types(){const e={};for(const t of this._types)e[t]=this[t]();return e}},f.assert=function(e,t,s,n){const a=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,o=a?n[1]:n[0],l=t.validate(e,r.preferences({errors:{stack:!0}},o||{}));let u=l.error;if(!u)return l.value;if(a instanceof Error)throw a;const p=(s=s&&"function"==typeof u.annotate)?u.annotate():u.message;throw u instanceof c.ValidationError==!1&&(u=i(u)),u.message=a?`${a} ${p}`:p,u},f.generate=function(e,t,s){return n(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&s.length?t._definition.args(t,...s):t},e.exports=f.root()},function(e,t,s){"use strict";const n=s(4),i=s(3),a=s(16),r={annotations:Symbol("annotations")};t.Report=class{constructor(e,s,n,i,a,r,o){if(this.code=e,this.flags=i,this.messages=a,this.path=r.path,this.prefs=o,this.state=r,this.value=s,this.message=null,this.template=null,this.local=n||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,s){return t.template(this.value,e,s||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const s of e)"object"!=typeof s&&("string"==typeof s?(t&&(t+="."),t+=s):t+=`[${s}]`);return t},t.template=function(e,t,s,n,r){if(!t)return;if(a.isTemplate(t))return"root"!==s?t:null;let o=r.errors.language;return i.isResolvable(o)&&(o=o.resolve(e,n,r)),o&&t[o]&&void 0!==t[o][s]?t[o][s]:t[s]},t.label=function(e,s,n,i){if(e.label)return e.label;if(!n.errors.label)return"";let a=s.path;return"key"===n.errors.label&&s.path.length>1&&(a=s.path.slice(-1)),t.path(a)||t.template(null,n.messages,"root",s,n)||i&&t.template(null,i,"root",s,n)||"value"},t.process=function(e,s,n){if(!e)return null;const{override:i,message:a,details:r}=t.details(e);if(i)return i;if(n.errors.stack)return new t.ValidationError(a,r,s);const o=Error.stackTraceLimit;Error.stackTraceLimit=0;const c=new t.ValidationError(a,r,s);return Error.stackTraceLimit=o,c},t.details=function(e,t={}){let s=[];const n=[];for(const i of e){if(i instanceof Error){if(!1!==t.override)return{override:i};const e=i.toString();s.push(e),n.push({message:e,type:"override",context:{error:i}});continue}const e=i.toString();s.push(e),n.push({message:e,path:i.path.filter(e=>"object"!=typeof e),type:i.code,context:i.local})}return s.length>1&&(s=[...new Set(s)]),{message:s.join(". "),details:n}},t.ValidationError=class extends Error{constructor(e,t,s){super(e),this._original=s,this.details=t}annotate(e){if(!this._original||"object"!=typeof this._original)return this.details[0].message;const t=e?"":"[31m",s=e?"":"[41m",a=e?"":"[0m",o=n(this._original);for(let e=this.details.length-1;e>=0;--e){const t=e+1,s=this.details[e],n=s.path;let a=o;for(let e=0;;++e){const o=n[e];if(i.isSchema(a)&&(a=a.clone()),!(e+1<n.length&&"string"!=typeof a[o])){const e=a[r.annotations]||{errors:{},missing:{}};a[r.annotations]=e;const n=o||s.context.key;void 0!==a[o]?(e.errors[n]=e.errors[n]||[],e.errors[n].push(t)):e.missing[n]=t;break}a=a[o]}}const c=/_\$key\$_([, \d]+)_\$end\$_"/g,l=/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,u=/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,p=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g;let d=r.safeStringify(o,2).replace(c,(e,s)=>`" ${t}[${s}]${a}`).replace(l,(e,n,i)=>`${s}"${n}"${a}${t} [${i}]: -- missing --${a}`).replace(u,(e,s,n)=>`\n${n} ${t}[${s}]${a}`).replace(p,(e,t)=>t);d=`${d}\n${t}`;for(let e=0;e<this.details.length;++e){d=`${d}\n[${e+1}] ${this.details[e].message}`}return d+=a}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",r.safeStringify=function(e,t){return JSON.stringify(e,r.serializer(),t)},r.serializer=function(){const e=[],t=[],s=(s,n)=>t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]";return function(n,i){if(t.length>0){const a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=n):(t.push(this),e.push(n)),~t.indexOf(i)&&(i=s.call(this,n,i))}else t.push(i);if(i){const e=i[r.annotations];if(e){if(Array.isArray(i)){const t=[];for(let s=0;s<i.length;++s)e.errors[s]&&t.push(`_$idx$_${e.errors[s].sort().join(", ")}_$end$_`),t.push(i[s]);i=t}else{for(const t in e.errors)i[`${t}_$key$_${e.errors[t].sort().join(", ")}_$end$_`]=i[t],i[t]=void 0;for(const t in e.missing)i[`_$miss$_${t}|${e.missing[t]}_$end$_`]="__missing__"}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"==typeof i||"symbol"==typeof i?"["+i.toString()+"]":i}}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(15),r=s(3);let o;const c={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e,t={}){n("string"==typeof e,"Invalid reference key:",e),r.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","separator"]),n(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const s=Object.assign({},c.defaults,t);delete s.prefix;const i=s.separator,a=c.context(e,i,t.prefix);if(s.type=a.type,e=a.key,"value"===s.type)if(a.root&&(n(!i||e[0]!==i,"Cannot specify relative path with root prefix"),s.ancestor="root",e||(e=null)),i&&i===e)e=null,s.ancestor=0;else if(void 0!==s.ancestor)n(!i||!e||e[0]!==i,"Cannot combine prefix with ancestor option");else{const[t,n]=c.ancestor(e,i);n&&""===(e=e.slice(n))&&(e=null),s.ancestor=t}return s.path=i?null===e?[]:e.split(i):[e],new c.Ref(s)},t.in=function(e,s={}){return t.create(e,Object.assign({},s,{in:!0}))},t.isRef=function(e){return!!e&&!!e[r.symbols.ref]},c.Ref=class{constructor(e){n("object"==typeof e,"Invalid reference construction"),r.assertOptions(e,["adjust","ancestor","in","iterables","map","path","separator","type","depth","key","root","display"]),n([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),n(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),n(!e.map||Array.isArray(e.map),"options.map must be an array"),n(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,c.defaults,e),n("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,s,i,a={}){return n(!this.in||a.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(s.context,t,a):"local"===this.type?this._resolve(i,t,a):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,a):(n(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,a)):this._resolve(e,t,a)}_resolve(e,t,s){let n;if("value"===this.type&&t.mainstay.shadow&&!1!==s.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=a(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){const e=this.map.get(n);void 0!==e&&(n=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new c.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables"])null!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display=`ref:${this.type}:${e}`);if(!this.separator)return void(this.display=`ref:${e}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${e}`);if("root"===this.ancestor)return void(this.display=`ref:root:${e}`);if(1===this.ancestor)return void(this.display=`ref:${e||".."}`);const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}},c.Ref.prototype[r.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},c.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new c.Ref(e)},c.context=function(e,t,s={}){e=e.trim();const n=void 0===s.global?"$":s.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};const i=void 0===s.local?"#":s.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};const a=void 0===s.root?"/":s.root;return a!==t&&e.startsWith(a)?{key:e.slice(a.length),type:"value",root:!0}:{key:e,type:"value"}},c.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let s=2;for(;e[s]===t;)++s;return[s-1,s]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,n){if(e)if(n=void 0===n?t.toParent:n,Array.isArray(e))for(const t of e)this.register(t,n);else if(r.isSchema(e))for(const t of e._refs.refs)t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-n>=0&&this.refs.push({ancestor:e.ancestor-n,root:e.root}),(o=o||s(16)).isTemplate(e)&&this.register(e.refs(),n)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=i(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}},function(e,t){e.exports=require("path")},function(e,t,s){"use strict";e.exports=s(183)},function(e,t,s){"use strict";const n=s(1),i={};e.exports=function(e,t,s){if(!1===t||null==t)return e;"string"==typeof(s=s||{})&&(s={separator:s});const a=Array.isArray(t);n(!a||!s.separator,"Separator option no valid for array-based chain");const r=a?t:t.split(s.separator||".");let o=e;for(let e=0;e<r.length;++e){let a=r[e];const c=s.iterables&&i.iterables(o);if(Array.isArray(o)||"set"===c){const e=Number(a);Number.isInteger(e)&&(a=e<0?o.length+e:e)}if(!o||"function"==typeof o&&!1===s.functions||!c&&void 0===o[a]){n(!s.strict||e+1===r.length,"Missing segment",a,"in reach path ",t),n("object"==typeof o||!0===s.functions||"function"!=typeof o,"Invalid segment",a,"in reach path ",t),o=s.default;break}o=c?"set"===c?[...o][a]:o.get(a):o[a]}return o},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(50),r=s(121),o=s(3),c=s(11),l=s(12),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(e,t){n("string"==typeof e,"Template source must be a string"),n(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=i(t),this._parse()}_parse(){if(!this.source.includes("{"))return;const e=u.encode(this.source),t=u.split(e);let s=!1;const n=[],i=t.shift();i&&n.push(i);for(const e of t){const t="{"!==e[0],i=t?"}":"}}",a=e.indexOf(i);if(-1===a||"{"===e[1]){n.push(`{${u.decode(e)}`);continue}const r=e.slice(t?0:1,a),o=this._ref(u.decode(r),t);n.push(o),"string"!=typeof o&&(s=!0);const c=e.slice(a+i.length);c&&n.push(u.decode(c))}s?this._template=n:this.rendered=n.join("")}static date(e,t){return u.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),t}static build(e){return new u.Template(e.template,e.options)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[o.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,s,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,s,n,{}):this.render(e,t,s,n)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,s,n,i={}){if(!this.isDynamic())return this.rendered;const r=[];for(const o of this._template)if("string"==typeof o)r.push(o);else{const c=this._part(o,e,t,s,n,i),l=u.stringify(c,s,i.errors);if(void 0!==l){const e=o.raw||!1===(i.errors&&i.errors.escapeHtml)?l:a(l);r.push(e)}}return r.join("")}_ref(e,t){const s=[],n=e=>{const t=l.create(e,this._settings);return s.push(t),e=>t.resolve(...e)};try{var i=new r(e,{reference:n,functions:u.functions,constants:u.constants})}catch(t){throw t.message=`Invalid template variable "${e}" fails due to: ${t.message}`,t}return i.single?"reference"===i.single.type?{ref:s[0],raw:t,refs:s}:u.stringify(i.single.value):{formula:i,raw:t,refs:s}}toString(){return this.source}},u.Template.prototype[o.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(e){return e.replace(/\\(\{+)/g,(e,t)=>u.opens.slice(0,t.length)).replace(/\\(\}+)/g,(e,t)=>u.closes.slice(0,t.length))},u.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(e){const t=[];let s="";for(let n=0;n<e.length;++n){const i=e[n];if("{"===i){let i="";for(;n+1<e.length&&"{"===e[n+1];)i+="{",++n;t.push(s),s=i}else s+=i}return t.push(s),t},u.stringify=function(e,t,s){const n=typeof e;if(null===e)return"null";if("string"===n)return e;if("number"===n||"function"===n||"symbol"===n)return e.toString();if("object"!==n)return JSON.stringify(e);if(e instanceof Date)return u.Template.date(e,t);if(e instanceof Map){const t=[];for(const[s,n]of e.entries())t.push(`${s.toString()} -> ${n.toString()}`);e=t}if(!Array.isArray(e))return e.toString();let i="";for(const n of e)i=i+(i.length?", ":"")+u.stringify(n,t,s);return s.wrapArrays?"["+i+"]":i},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(e,t,s)=>e?t:s,msg(e){const[t,s,n,i,a]=this,r=a.messages;if(!r)return"";const o=c.template(t,r[0],e,s,n)||c.template(t,r[1],e,s,n);return o?o.render(t,s,n,i,a):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},function(e,t,s){"use strict";const n=s(49),i={mismatched:null};e.exports=function(e,t,s){return s=Object.assign({prototype:!0},s),!!i.isDeepEqual(e,t,s,[])},i.isDeepEqual=function(e,t,s,a){if(e===t)return 0!==e||1/e==1/t;const r=typeof e;if(r!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===r){if(!s.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==r)return e!=e&&t!=t;const o=i.getSharedType(e,t,!!s.prototype);switch(o){case n.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(let s=a.length-1;s>=0;--s)if(a[s].isSame(e,t))return!0;a.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(o,e,t,s,a)}finally{a.pop()}},i.getSharedType=function(e,t,s){if(s)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);const a=n.getInternalProto(e);return a!==n.getInternalProto(t)?i.mismatched:a},i.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){for(const s of e)if(!t.has(s))return!1;return!0},i.isDeepEqualObj=function(e,t,s,a,r){const{isDeepEqual:o,valueOf:c,hasOwnEnumerableProperty:l}=i,{keys:u,getOwnPropertySymbols:p}=Object;if(e===n.array){if(!a.part){if(t.length!==s.length)return!1;for(let e=0;e<t.length;++e)if(!o(t[e],s[e],a,r))return!1;return!0}for(const e of t)for(const t of s)if(o(e,t,a,r))return!0}else if(e===n.set){if(t.size!==s.size)return!1;if(!i.isSetSimpleEqual(t,s)){const e=new Set(s);for(const s of t){if(e.delete(s))continue;let t=!1;for(const n of e)if(o(s,n,a,r)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.map){if(t.size!==s.size)return!1;for(const[e,n]of t){if(void 0===n&&!s.has(e))return!1;if(!o(n,s.get(e),a,r))return!1}}else if(e===n.error&&(t.name!==s.name||t.message!==s.message))return!1;const d=c(t),h=c(s);if((t!==d||s!==h)&&!o(d,h,a,r))return!1;const m=u(t);if(!a.part&&m.length!==u(s).length&&!a.skip)return!1;let f=0;for(const e of m)if(a.skip&&a.skip.includes(e))void 0===s[e]&&++f;else{if(!l(s,e))return!1;if(!o(t[e],s[e],a,r))return!1}if(!a.part&&m.length-f!==u(s).length)return!1;if(!1!==a.symbols){const e=p(t),n=new Set(p(s));for(const i of e){if(!a.skip||!a.skip.includes(i))if(l(t,i)){if(!l(s,i))return!1;if(!o(t[i],s[i],a,r))return!1}else if(l(s,i))return!1;n.delete(i)}for(const e of n)if(l(s,e))return!1}return!0},i.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},function(e,t,s){"use strict";const n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/;t.parse=function(e,s,i){i||(s&&"object"==typeof s?(i=s,s=void 0):i={});const a=JSON.parse(e,s);return"ignore"===i.protoAction?a:a&&"object"==typeof a&&e.match(n)?(t.scan(a,i),a):a},t.scan=function(e,t){t=t||{};let s=[e];for(;s.length;){const e=s;s=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__")){if("remove"!==t.protoAction)throw new SyntaxError("Object contains forbidden prototype property");delete n.__proto__}for(const e in n){const t=n[e];t&&"object"==typeof t&&s.push(n[e])}}}},t.safeParse=function(e,s){try{return t.parse(e,s)}catch(e){return null}}},function(e,t,s){"use strict";const n=s(1),i=s(3),a=s(12),r={};t.schema=function(e,t,s={}){i.assertOptions(s,["appendPath","override"]);try{return r.schema(e,t,s)}catch(e){throw s.appendPath&&void 0!==e.path&&(e.message=`${e.message} (${e.path})`),e}},r.schema=function(e,t,s){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const a=(t,...n)=>!1!==s.override?t.valid(e.override,...n):t.valid(...n);if(r.simple(t))return a(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return a(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){for(const s of t)if(!r.simple(s))return e.alternatives().try(...t);return a(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?a(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return a.isRef(e)?e:a.create(e,t)},t.compile=function(e,s,a={}){i.assertOptions(a,["legacy"]);const o=s&&s[i.symbols.any];if(o)return n(a.legacy||o.version===i.version,"Cannot mix different versions of joi schemas"),s;if("object"!=typeof s||!a.legacy)return t.schema(e,s,{appendPath:!0});const c=r.walk(s);return c?c.compile(c.root,s):t.schema(e,s,{appendPath:!0})},r.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=r.walk(t);if(e)return e}return null}const t=e[i.symbols.any];if(t)return{root:e[t.root],compile:t.compile};n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const t in e){const s=r.walk(e[t]);if(s)return s}return null},r.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,s,o){if(void 0===o&&(n(s&&"object"==typeof s,"Missing options"),o=s,s=a.create(".")),Array.isArray(o)&&(o={switch:o}),i.assertOptions(o,["is","not","then","otherwise","switch","break"]),i.isSchema(s))return n(void 0===o.is,'"is" can not be used with a schema condition'),n(void 0===o.not,'"not" can not be used with a schema condition'),n(void 0===o.switch,'"switch" can not be used with a schema condition'),r.condition(e,{is:s,then:o.then,otherwise:o.otherwise,break:o.break});if(n(a.isRef(s)||"string"==typeof s,"Invalid condition:",s),n(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){let c=o;void 0!==o.not&&(c={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});let l=void 0!==c.is?e.$_compile(c.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==c.then||void 0!==c.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===c.break||void 0===c.then||void 0===c.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||a.isRef(o.is)||i.isSchema(o.is)||(l=l.required()),r.condition(e,{ref:t.ref(s),is:l,then:c.then,otherwise:c.otherwise,break:c.break})}n(Array.isArray(o.switch),'"switch" must be an array'),n(void 0===o.is,'Cannot combine "switch" with "is"'),n(void 0===o.not,'Cannot combine "switch" with "not"'),n(void 0===o.then,'Cannot combine "switch" with "then"');const c={ref:t.ref(s),switch:[],break:o.break};for(let t=0;t<o.switch.length;++t){const s=o.switch[t],r=t===o.switch.length-1;i.assertOptions(s,r?["is","then","otherwise"]:["is","then"]),n(void 0!==s.is,'Switch statement missing "is"'),n(void 0!==s.then,'Switch statement missing "then"');const l={is:e.$_compile(s.is),then:e.$_compile(s.then)};if(a.isRef(s.is)||i.isSchema(s.is)||(l.is=l.is.required()),r){n(void 0===o.otherwise||void 0===s.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==o.otherwise?o.otherwise:s.otherwise;void 0!==t&&(n(void 0===c.break,"Cannot specify both otherwise and break"),l.otherwise=e.$_compile(t))}c.switch.push(l)}return c},r.condition=function(e,t){for(const s of["then","otherwise"])void 0===t[s]?delete t[s]:t[s]=e.$_compile(t[s]);return t}},function(e,t,s){"use strict";const n=s(42),i=s(21),a={};t.symbol=Symbol("hapi-response"),t.apply=function(e,t,...s){const n=i.validate(t,a[e]);if(n.error)throw new Error(`Invalid ${e} options ${s.length?"("+s.join(" ")+")":""} ${n.error.annotate()}`);return n.value},t.enable=function(e){const t=e?Object.assign({},e):{};return!0===t.security&&(t.security={}),!0===t.cors&&(t.cors={}),t},a.access=i.object({entity:i.valid("user","app","any"),scope:[!1,i.array().items(i.string()).single().min(1)]}),a.auth=i.alternatives([i.string(),a.access.keys({mode:i.valid("required","optional","try"),strategy:i.string(),strategies:i.array().items(i.string()).min(1),access:i.array().items(a.access.min(1)).single().min(1),payload:[i.valid("required","optional"),i.boolean()]}).without("strategy","strategies").without("access",["scope","entity"])]),a.event=i.object({method:i.array().items(i.func()).single(),options:i.object({before:i.array().items(i.string()).single(),after:i.array().items(i.string()).single(),bind:i.any(),sandbox:i.valid("server","plugin"),timeout:i.number().integer().min(1)}).default({})}),a.exts=i.array().items(a.event.keys({type:i.string().required()})).single(),a.failAction=i.alternatives([i.valid("error","log","ignore"),i.func()]).default("error"),a.routeBase=i.object({app:i.object().allow(null),auth:a.auth.allow(!1),bind:i.object().allow(null),cache:i.object({expiresIn:i.number(),expiresAt:i.string(),privacy:i.valid("default","public","private"),statuses:i.array().items(i.number().integer().min(200)).min(1).single().default([200,204]),otherwise:i.string().default("no-cache")}).allow(!1).default(),compression:i.object().pattern(/.+/,i.object()).default(),cors:i.object({origin:i.array().min(1).allow("ignore").default(["*"]),maxAge:i.number().default(86400),headers:i.array().items(i.string()).default(["Accept","Authorization","Content-Type","If-None-Match"]),additionalHeaders:i.array().items(i.string()).default([]),exposedHeaders:i.array().items(i.string()).default(["WWW-Authenticate","Server-Authorization"]),additionalExposedHeaders:i.array().items(i.string()).default([]),credentials:i.boolean().when("origin",{is:"ignore",then:!1}).default(!1)}).allow(!1,!0).default(!1),ext:i.object({onPreAuth:i.array().items(a.event).single(),onCredentials:i.array().items(a.event).single(),onPostAuth:i.array().items(a.event).single(),onPreHandler:i.array().items(a.event).single(),onPostHandler:i.array().items(a.event).single(),onPreResponse:i.array().items(a.event).single()}).default({}),files:i.object({relativeTo:i.string().regex(/^([\/\.])|([A-Za-z]:\\)|(\\\\)/).default(".")}).default(),json:i.object({replacer:i.alternatives(i.func(),i.array()).allow(null).default(null),space:i.number().allow(null).default(null),suffix:i.string().allow(null).default(null),escape:i.boolean().default(!1)}).default(),jsonp:i.string(),log:i.object({collect:i.boolean().default(!1)}).default(),payload:i.object({output:i.valid("data","stream","file").default("data"),parse:i.boolean().allow("gunzip").default(!0),multipart:i.object({output:i.valid("data","stream","file","annotated").required()}).allow(!1),allow:i.array().items(i.string()).single(),override:i.string(),protoAction:i.valid("error","remove","ignore").default("error"),maxBytes:i.number().integer().positive().default(1048576),uploads:i.string().default(n.tmpdir()),failAction:a.failAction,timeout:i.number().integer().positive().allow(!1).default(1e4),defaultContentType:i.string().default("application/json"),compression:i.object().pattern(/.+/,i.object()).default()}).default(),plugins:i.object(),response:i.object({disconnectStatusCode:i.number().integer().min(400).default(499),emptyStatusCode:i.valid(200,204).default(200),failAction:a.failAction,modify:i.boolean(),options:i.object().default(),ranges:i.boolean().default(!0),sample:i.number().min(0).max(100).when("modify",{is:!0,then:i.forbidden()}),schema:i.alternatives(i.object(),i.array(),i.func()).allow(!0,!1),status:i.object().pattern(/\d\d\d/,i.alternatives(i.object(),i.array(),i.func()).allow(!0,!1))}).default().assert("options.stripUnknown",i.when("modify",{is:!0,otherwise:!1}),"meet requirement of having peer modify set to true"),security:i.object({hsts:i.alternatives([i.object({maxAge:i.number(),includeSubdomains:i.boolean(),includeSubDomains:i.boolean(),preload:i.boolean()}),i.boolean(),i.number()]).default(15768e3),xframe:i.alternatives([i.boolean(),i.valid("sameorigin","deny"),i.object({rule:i.valid("sameorigin","deny","allow-from"),source:i.string()})]).default("deny"),xss:i.boolean().default(!0),noOpen:i.boolean().default(!0),noSniff:i.boolean().default(!0),referrer:i.alternatives([i.boolean().valid(!1),i.valid("","no-referrer","no-referrer-when-downgrade","unsafe-url","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin")]).default(!1)}).allow(null,!1,!0).default(!1),state:i.object({parse:i.boolean().default(!0),failAction:a.failAction}).default(),timeout:i.object({socket:i.number().integer().positive().allow(!1),server:i.number().integer().positive().allow(!1).default(!1)}).default(),validate:i.object({headers:i.alternatives(i.object(),i.array(),i.func()).allow(null,!0),params:i.alternatives(i.object(),i.array(),i.func()).allow(null,!0),query:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),payload:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),state:i.alternatives(i.object(),i.array(),i.func()).allow(null,!1,!0),failAction:a.failAction,errorFields:i.object(),options:i.object().default()}).default()}),a.server=i.object({address:i.string().hostname(),app:i.object().allow(null),autoListen:i.boolean(),cache:i.allow(null),compression:i.object({minBytes:i.number().min(1).integer().default(1024)}).allow(!1).default(),debug:i.object({request:i.array().items(i.string()).single().allow(!1).default(["implementation"]),log:i.array().items(i.string()).single().allow(!1)}).allow(!1).default(),host:i.string().hostname().allow(null),listener:i.any(),load:i.object({sampleInterval:i.number().integer().min(0).default(0),concurrent:i.number().integer().min(0).default(0)}).unknown().default(),mime:i.object().allow(null).default(null),operations:i.object({cleanStop:i.boolean().default(!0)}).default(),plugins:i.object(),port:i.alternatives([i.number().integer().min(0),i.string().regex(/\//),i.string().regex(/^\\\\\.\\pipe\\/)]).allow(null),query:i.object({parser:i.func()}).default(),router:i.object({isCaseSensitive:i.boolean().default(!0),stripTrailingSlash:i.boolean().default(!1)}).default(),routes:a.routeBase.default(),state:i.object(),tls:i.alternatives([i.object().allow(null),i.boolean()]),uri:i.string().regex(/[^/]$/)}),a.vhost=i.alternatives([i.string().hostname(),i.array().items(i.string().hostname()).min(1)]),a.handler=i.alternatives([i.func(),i.object().length(1)]),a.route=i.object({method:i.string().regex(/^[a-zA-Z0-9!#\$%&'\*\+\-\.^_`\|~]+$/).required(),path:i.string().required(),rules:i.object(),vhost:a.vhost,handler:i.any(),options:i.any(),config:i.any()}).without("config","options"),a.pre=[i.func(),i.object({method:i.alternatives(i.string(),i.func()).required(),assign:i.string(),mode:i.valid("serial","parallel"),failAction:a.failAction})],a.routeConfig=a.routeBase.keys({description:i.string(),id:i.string(),isInternal:i.boolean(),notes:[i.string(),i.array().items(i.string())],pre:i.array().items(a.pre.concat(i.array().items(a.pre).min(1))),tags:[i.string(),i.array().items(i.string())]}),a.cacheConfig=i.alternatives([i.func(),i.object({name:i.string().invalid("_default"),shared:i.boolean(),provider:[i.func(),{constructor:i.func().required(),options:i.object({partition:i.string().default("hapi-cache")}).unknown().default({})}],engine:i.object()}).xor("provider","engine")]),a.cache=i.array().items(a.cacheConfig).min(1).single(),a.cachePolicy=i.object({cache:i.string().allow(null).allow(""),segment:i.string(),shared:i.boolean()}).unknown(),a.method=i.object({bind:i.object().allow(null),generateKey:i.func(),cache:a.cachePolicy}),a.methodObject=i.object({name:i.string().required(),method:i.func().required(),options:i.object()}),a.register=i.object({once:!0,routes:i.object({prefix:i.string().regex(/^\/.+/),vhost:a.vhost}).default({})}),a.semver=i.string(),a.plugin=a.register.keys({options:i.any(),plugin:i.object({register:i.func().required(),name:i.string().when("pkg.name",{is:i.exist(),otherwise:i.required()}),version:i.string(),multiple:i.boolean().default(!1),dependencies:[i.array().items(i.string()).single(),i.object().pattern(/.+/,a.semver)],once:!0,requirements:i.object({hapi:i.string(),node:i.string()}).default(),pkg:i.object({name:i.string(),version:i.string().default("0.0.0")}).unknown().default({})}).unknown()}).without("once","options").unknown(),a.rules=i.object({validate:i.object({schema:i.alternatives(i.object(),i.array()).required(),options:i.object().default({allowUnknown:!0})})})},function(e,t,s){"use strict";const n=s(0),i=s(7),a=s(22),r=s(36),o=s(108),c=s(9),l={alternatives:s(54),array:s(109),boolean:s(110),binary:s(111),date:s(55),func:s(112),number:s(113),object:s(56),string:s(114),symbol:s(119),callWithDefaults:function(e,t){return n.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,e._init(...t)},root:function(){const e=new i,t=e.clone();return i.prototype._currentJoi=t,t._currentJoi=t,t._binds=new Set(["any","alternatives","alt","array","bool","boolean","binary","date","func","number","object","string","symbol","validate","describe","compile","assert","attempt","lazy","defaults","extend","allow","valid","only","equal","invalid","disallow","not","required","exist","optional","forbidden","strip","when","empty","default"]),t.any=function(...t){return n.assert(0===t.length,"Joi.any() does not allow arguments."),l.callWithDefaults.call(this,e,t)},t.alternatives=t.alt=function(...e){return l.callWithDefaults.call(this,l.alternatives,e)},t.array=function(...e){return n.assert(0===e.length,"Joi.array() does not allow arguments."),l.callWithDefaults.call(this,l.array,e)},t.boolean=t.bool=function(...e){return n.assert(0===e.length,"Joi.boolean() does not allow arguments."),l.callWithDefaults.call(this,l.boolean,e)},t.binary=function(...e){return n.assert(0===e.length,"Joi.binary() does not allow arguments."),l.callWithDefaults.call(this,l.binary,e)},t.date=function(...e){return n.assert(0===e.length,"Joi.date() does not allow arguments."),l.callWithDefaults.call(this,l.date,e)},t.func=function(...e){return n.assert(0===e.length,"Joi.func() does not allow arguments."),l.callWithDefaults.call(this,l.func,e)},t.number=function(...e){return n.assert(0===e.length,"Joi.number() does not allow arguments."),l.callWithDefaults.call(this,l.number,e)},t.object=function(...e){return l.callWithDefaults.call(this,l.object,e)},t.string=function(...e){return n.assert(0===e.length,"Joi.string() does not allow arguments."),l.callWithDefaults.call(this,l.string,e)},t.symbol=function(...e){return n.assert(0===e.length,"Joi.symbol() does not allow arguments."),l.callWithDefaults.call(this,l.symbol,e)},t.ref=function(...e){return c.create(...e)},t.isRef=function(e){return c.isRef(e)},t.validate=function(t,...s){const n=s[s.length-1],i="function"==typeof n?n:null,a=s.length-(i?1:0);if(0===a)return e.validate(t,i);const r=2===a?s[1]:void 0;return this.compile(s[0])._validateWithOptions(t,r,i)},t.describe=function(...t){return(t.length?this.compile(t[0]):e).describe()},t.compile=function(e){try{return a.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,t,s){this.attempt(e,t,s)},t.attempt=function(e,t,s){const n=this.validate(e,t),i=n.error;if(i){if(!s)throw"function"==typeof i.annotate&&(i.message=i.annotate()),i;if(!(s instanceof Error))throw"function"==typeof i.annotate&&(i.message=`${s} ${i.annotate()}`),i;throw s}return n.value},t.reach=function(e,t){n.assert(e&&e instanceof i,"you must provide a joi schema"),n.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings");const s=(e,t)=>{if(!t.length)return e;const n=e._inner.children;if(!n)return;const i=t.shift();for(let e=0;e<n.length;++e){const a=n[e];if(a.key===i)return s(a.schema,t)}},a="string"==typeof t?t?t.split("."):[]:t.slice();return s(e,a)},t.lazy=function(...e){return l.callWithDefaults.call(this,o,e)},t.defaults=function(e){n.assert("function"==typeof e,"Defaults must be a function");let t=Object.create(this.any());return t=e(t),n.assert(t&&t instanceof this.constructor,"defaults() must return a schema"),Object.assign(t,this,t.clone()),t._defaults=t=>(this._defaults&&(t=this._defaults(t),n.assert(t instanceof this.constructor,"defaults() must return a schema")),t=e(t),n.assert(t instanceof this.constructor,"defaults() must return a schema"),t),t},t.bind=function(){const e=Object.create(this);return e._binds.forEach(t=>{e[t]=e[t].bind(e)}),e},t.extend=function(...e){const s=n.flatten(e);n.assert(s.length>0,"You need to provide at least one extension"),this.assert(s,t.extensionsSchema);const o=Object.create(this.any());Object.assign(o,this),o._currentJoi=o,o._binds=new Set(o._binds);for(let e=0;e<s.length;++e){let u=s[e];"function"==typeof u&&(u=u(o)),this.assert(u,t.extensionSchema);const p=(u.base||this.any()).clone(),d=p.constructor,h=class extends d{constructor(){super(),u.base&&Object.assign(this,p),this._type=u.name}};if(u.language){const e={[u.name]:u.language};h.prototype._language=n.applyToDefaults(h.prototype._language||p._settings&&p._settings.language||{},e)}if(u.coerce&&(h.prototype._coerce=function(e,t,s){if(d.prototype._coerce){const n=d.prototype._coerce.call(this,e,t,s);if(n.errors)return n;e=n.value}const n=u.coerce.call(this,e,t,s);return n instanceof r.Err?{value:e,errors:n}:{value:n}}),u.pre&&(h.prototype._base=function(e,t,s){if(d.prototype._base){const n=d.prototype._base.call(this,e,t,s);if(n.errors)return n;e=n.value}const n=u.pre.call(this,e,t,s);return n instanceof r.Err?{value:e,errors:n}:{value:n}}),u.rules)for(let e=0;e<u.rules.length;++e){const t=u.rules[e],s=t.params?t.params instanceof i?t.params._inner.children.map(e=>e.key):Object.keys(t.params):[],r=t.params?a.schema(this,t.params):null;h.prototype[t.name]=function(...e){if(e.length>s.length)throw new Error("Unexpected number of arguments");let a,l=!1,u={};for(let t=0;t<s.length;++t)u[s[t]]=e[t],!l&&c.isRef(e[t])&&(l=!0);if(r&&(u=o.attempt(u,r)),t.validate&&!t.setup){const e=function(e,s,n){return t.validate.call(this,u,e,s,n)};a=this._test(t.name,u,e,{description:t.description,hasRef:l})}else a=this.clone();if(t.setup){const e=t.setup.call(a,u);if(void 0!==e&&(n.assert(e instanceof i,`Setup of extension Joi.${this._type}().${t.name}() must return undefined or a Joi object`),a=e),t.validate){const e=function(e,s,n){return t.validate.call(this,u,e,s,n)};a=a._test(t.name,u,e,{description:t.description,hasRef:l})}}return a}}u.describe&&(h.prototype.describe=function(){const e=d.prototype.describe.call(this);return u.describe.call(this,e)});const m=new h;o[u.name]=function(...e){return l.callWithDefaults.call(this,m,e)},o._binds.add(u.name)}return o},t.extensionSchema=l.object.keys({base:l.object.type(i,"Joi object"),name:l.string.required(),coerce:l.func.arity(3),pre:l.func.arity(3),language:l.object,describe:l.func.arity(1),rules:l.array.items(l.object.keys({name:l.string.required(),setup:l.func.arity(1),validate:l.func.arity(4),params:[l.object.pattern(/.*/,l.object.type(i,"Joi object")),l.object.type(l.object.constructor,"Joi object")],description:[l.string,l.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=l.array.items([l.object,l.func.arity(1)]).strict(),t.version=s(52).version,t}};e.exports=l.root()},function(e,t,s){"use strict";const n=s(0),i=s(9);t.schema=function(e,t){return null!=t&&"object"==typeof t?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):i.isRef(t)?e.valid(t):(n.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return i.isRef(e)?e:i.create(e)}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(16);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new a(e);if(a.isTemplate(e))return n(!t,"Cannot set single message template"),e;n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{};for(let s in e){const i=e[s];if("root"===s||a.isTemplate(i)){t[s]=i;continue}if("string"==typeof i){t[s]=new a(i);continue}n("object"==typeof i&&!Array.isArray(i),"Invalid message for",s);const r=s;for(s in t[r]=t[r]||{},i){const e=i[s];"root"===s||a.isTemplate(e)?t[r][s]=e:(n("string"==typeof e,"Invalid message for",s,"in",r),t[r][s]=new a(e))}}return t},t.decompile=function(e){const t={};for(let s in e){const n=e[s];if("root"===s){t[s]=n;continue}if(a.isTemplate(n)){t[s]=n.describe({compact:!0});continue}const i=s;for(s in t[i]={},n){const e=n[s];"root"!==s?t[i][s]=e.describe({compact:!0}):t[i][s]=e}}return t},t.merge=function(e,s){if(!e)return t.compile(s);if(!s)return e;if("string"==typeof s)return new a(s);if(a.isTemplate(s))return s;const r=i(e);for(let e in s){const t=s[e];if("root"===e||a.isTemplate(t)){r[e]=t;continue}if("string"==typeof t){r[e]=new a(t);continue}n("object"==typeof t&&!Array.isArray(t),"Invalid message for",e);const i=e;for(e in r[i]=r[i]||{},t){const s=t[e];"root"===e||a.isTemplate(s)?r[i][e]=s:(n("string"==typeof s,"Invalid message for",e,"in",i),r[i][e]=new a(s))}}return r}},function(e,t,s){"use strict";const n=s(15),i={};t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)},t.store=function(e,t){const s=new Map;for(let a=0;a<t.length;++a){const r=t[a],o=n(e,r);"object"!=typeof o&&"function"!=typeof o||(s.set(r,o),i.reachSet(e,r,void 0))}return s},t.restore=function(e,t,s){for(const[n,a]of s)i.reachSet(e,n,a),i.reachSet(t,n,a)},i.reachSet=function(e,t,s){const n=Array.isArray(t)?t:t.split(".");let i=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(i[t]=s),i=i[t]}}},function(e,t,s){"use strict";e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("http")},function(e,t,s){"use strict";const n=s(0),i=s(10),a={schema:{base:i.object({name:i.string().required(),clone:i.boolean(),tags:i.boolean(),spread:i.boolean(),channels:i.array().items(i.string()).single().unique().min(1)})}};a.schema.event=a.schema.base.keys({shared:i.boolean()}),a.schema.listener=a.schema.event.keys({listener:i.func().required(),context:i.object(),count:i.number().integer().min(1),filter:{tags:i.array().items(i.string()).single().unique().min(1).required(),all:i.boolean()}}),e.exports=a.Podium=function(e,t){this._eventListeners=Object.create(null),this._notificationsQueue=[],this._eventsProcessing=!1,this._sourcePodiums=[],e&&this.registerEvent(e,t)},a.Podium.decorate=function(e,t){a.Podium.call(e,null),Object.keys(t._eventListeners).forEach(s=>{e._eventListeners[s]={handlers:null,flags:t._eventListeners[s].flags}})},a.Podium.validate=function(e){const t=[];return[].concat(e).forEach(e=>{"string"==typeof e&&(e={name:e}),t.push(i.attempt(e,a.schema.event,"Invalid event options"))}),t},a.Podium.prototype.registerEvent=function(e,t={}){(e=n.flatten([].concat(e))).forEach(e=>{if(!e)return;if(e instanceof a.Podium)return this.registerPodium(e);"string"==typeof e&&(e={name:e}),!1!==t.validate&&(e=i.attempt(e,a.schema.event,"Invalid event options"));const s=e.name;this._eventListeners[s]?n.assert(e.shared,`Event ${s} exists`):(this._eventListeners[s]={handlers:null,flags:e},this._sourcePodiums.forEach(t=>{t._eventListeners[s]||(t._eventListeners[s]={handlers:null,flags:e})}))})},a.Podium.prototype.registerPodium=function(e){[].concat(e).forEach(e=>{-1===e._sourcePodiums.indexOf(this)&&(e._sourcePodiums.push(this),Object.keys(e._eventListeners).forEach(t=>{this._eventListeners[t]||(this._eventListeners[t]={handlers:null,flags:e._eventListeners[t].flags})}))})},a.Podium.prototype.emit=async function(e,t,s){const i=(e=a.criteria(e)).name;n.assert(i,"Criteria missing event name");const r=this._eventListeners[i];if(n.assert(r,`Unknown event ${i}`),n.assert(!e.channel||"string"==typeof e.channel,"Invalid channel name"),n.assert(!e.channel||!r.flags.channels||-1!==r.flags.channels.indexOf(e.channel),`Unknown ${e.channel} channel`),n.assert(!r.flags.spread||Array.isArray(t)||"function"==typeof t,"Data must be an array for spread event"),r.handlers||this._sourcePodiums.length){if("string"==typeof e.tags&&(e.tags=[e.tags]),e.tags&&Array.isArray(e.tags)){const t={};for(const s of e.tags)t[s]=!0;e.tags=t}if(r.handlers){const i=[],o=r.handlers.slice();for(let c=0;c<o.length;++c){const l=o[c];if(l.channels&&(!e.channel||-1===l.channels.indexOf(e.channel)))continue;if(l.filter){if(!e.tags)continue;const t=n.intersect(e.tags,l.filter.tags,{first:!l.filter.all});if(!t||l.filter.all&&t.length!==l.filter.tags.length)continue}l.count&&(--l.count,l.count<1&&a.removeHandler(this,e.name,l)),s||"function"!=typeof t||(t=t(),s=!0);const u=a.flag("clone",l,r)?n.clone(t):t,p=a.flag("spread",l,r)&&Array.isArray(u)?u:[u];a.flag("tags",l,r)&&e.tags&&p.push(e.tags);try{const e=l.context?l.listener.apply(l.context,p):l.listener(...p);e&&"function"==typeof e.then&&i.push(e)}catch(e){i.push(Promise.reject(e))}}i.length&&await Promise.all(i)}if(this._sourcePodiums.length){const n=this._sourcePodiums.slice();await Promise.all(n.map(n=>n.emit(e,t,s)))}}},a.Podium.prototype.on=a.Podium.prototype.addListener=function(e,t,s){(e=a.criteria(e)).listener=t,e.context=s,e.filter&&("string"==typeof e.filter||Array.isArray(e.filter))&&(e.filter={tags:e.filter});const r=(e=i.attempt(e,a.schema.listener,"Invalid event listener options")).name,o=this._eventListeners[r];return n.assert(o,`Unknown event ${r}`),n.assert(!e.channels||!o.flags.channels||n.intersect(o.flags.channels,e.channels).length===e.channels.length,`Unknown event channels ${e.channels&&e.channels.join(", ")}`),this._eventListeners[r].handlers=this._eventListeners[r].handlers||[],this._eventListeners[r].handlers.push(e),this},a.Podium.prototype.once=function(e,t,s){return e=Object.assign(a.criteria(e),{count:1}),t?this.on(e,t,s):new Promise(t=>this.on(e,(...e)=>t(e),s))},a.Podium.prototype.removeListener=function(e,t){n.assert(this._eventListeners[e],`Unknown event ${e}`),n.assert("function"==typeof t,"Listener must be a function");const s=this._eventListeners[e].handlers;if(!s)return this;const i=s.filter(e=>e.listener!==t);return this._eventListeners[e].handlers=i.length?i:null,this},a.Podium.prototype.removeAllListeners=function(e){return n.assert(this._eventListeners[e],`Unknown event ${e}`),this._eventListeners[e].handlers=null,this},a.Podium.prototype.hasListeners=function(e){return n.assert(this._eventListeners[e],`Unknown event ${e}`),!!this._eventListeners[e].handlers},a.removeHandler=function(e,t,s){const n=e._eventListeners[t].handlers.filter(e=>e!==s);e._eventListeners[t].handlers=n.length?n:null},a.criteria=function(e){return"string"==typeof e?{name:e}:n.clone(e)},a.flag=function(e,t,s){return(void 0!==t[e]?t[e]:s.flags[e])||!1}},function(e,t){e.exports=require("crypto")},function(e,t,s){"use strict";const n=s(2),i=s(0);let a=null;const r={};t.route=function(e){if(!e)return!1;const t=i.clone(e);t._headers=t.headers.concat(t.additionalHeaders),t._headersString=t._headers.join(",");for(let e=0;e<t._headers.length;++e)t._headers[e]=t._headers[e].toLowerCase();if(-1===t._headers.indexOf("origin")&&t._headers.push("origin"),t._exposedHeaders=t.exposedHeaders.concat(t.additionalExposedHeaders).join(","),"ignore"===t.origin)t._origin=!1;else if(-1!==t.origin.indexOf("*"))i.assert(1===t.origin.length,"Cannot specify cors.origin * together with other values"),t._origin=!0;else{t._origin={qualified:[],wildcards:[]};for(const e of t.origin)-1!==e.indexOf("*")?t._origin.wildcards.push(new RegExp("^"+i.escapeRegex(e).replace(/\\\*/g,".*").replace(/\\\?/g,".")+"$")):t._origin.qualified.push(e)}return t},t.options=function(e,s){"options"!==e.method&&e.settings.cors&&t.handler(s)},t.handler=function(e){if(a=a||s(44),e._core.router.specials.options)return;const t={method:"_special",path:"/{p*}",handler:r.handler,options:{cors:!1}},n=new a(t,e,{special:!0});e._core.router.special("options",n)},r.handler=function(e,s){const a=e.headers["access-control-request-method"];if(!a)throw n.notFound("CORS error: Missing Access-Control-Request-Method header");const r=e.server.match(a,e.path,e.info.hostname);if(!r)throw n.notFound();const o=r.settings.cors;if(!o)return{message:"CORS is disabled for this route"};const c=e.headers.origin;if(!c&&!1!==o._origin)throw n.notFound("CORS error: Missing Origin header");if(!t.matchOrigin(c,o))return{message:"CORS error: Origin not allowed"};let l=e.headers["access-control-request-headers"];if(l&&(l=l.toLowerCase().split(/\s*,\s*/),i.intersect(l,o._headers).length!==l.length))return{message:"CORS error: Some headers are not allowed"};const u=s.response();return u._header("access-control-allow-origin",o._origin?c:"*"),u._header("access-control-allow-methods",a),u._header("access-control-allow-headers",o._headersString),u._header("access-control-max-age",o.maxAge),o.credentials&&u._header("access-control-allow-credentials","true"),o._exposedHeaders&&u._header("access-control-expose-headers",o._exposedHeaders),u},t.headers=function(e){const s=e.route.settings.cors,n=e.response;!1!==s._origin&&n.vary("origin"),e.info.cors&&!e.info.cors.isOriginMatch||!t.matchOrigin(e.headers.origin,e.route.settings.cors)||(n._header("access-control-allow-origin",s._origin?e.headers.origin:"*"),s.credentials&&n._header("access-control-allow-credentials","true"),s._exposedHeaders&&n._header("access-control-expose-headers",s._exposedHeaders,{append:!0}))},t.matchOrigin=function(e,t){if(!0===t._origin||!1===t._origin)return!0;if(!e)return!1;if(-1!==t._origin.qualified.indexOf(e))return!0;for(const s of t._origin.wildcards)if(e.match(s))return!0;return!1}},function(e,t,s){"use strict";const n=s(5),i=s(2),a=s(6),r=s(0),o=s(29),c=s(79),l={events:o.validate(["finish",{name:"peek",spread:!0}]),hopByHop:{connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0}};e.exports=l.Response=class{constructor(e,t,s={}){this.app={},this.headers={},this.plugins={},this.request=t,this.source=null,this.statusCode=null,this.variety=null,this.settings={charset:"utf-8",compressed:null,encoding:"utf8",message:null,passThrough:!0,stringify:null,ttl:null,varyEtag:!1},this._events=null,this._payload=null,this._error=null,this._contentType=null,this._takeover=!1,this._statusCode=!1,this._processors={marshal:s.marshal,prepare:s.prepare,close:s.close},this.temporary=null,this.permanent=null,this.rewritable=null,this._setSource(e,s.variety)}static wrap(e,t){return e instanceof l.Response||"symbol"==typeof e?e:e instanceof Error?i.boomify(e):new l.Response(e,t)}_setSource(e,t){this.variety=t||"plain",null==e?e=null:Buffer.isBuffer(e)?(this.variety="buffer",this._contentType="application/octet-stream"):c.isStream(e)&&(this.variety="stream",this._contentType="application/octet-stream"),this.source=e,"plain"===this.variety&&null!==this.source&&(this._contentType="string"==typeof this.source?"text/html":"application/json")}get events(){return this._events||(this._events=new o(l.events)),this._events}code(e){return r.assert(Number.isSafeInteger(e),"Status code must be an integer"),this.statusCode=e,this._statusCode=!0,this}message(e){return this.settings.message=e,this}header(e,t,s){return"vary"===(e=e.toLowerCase())?this.vary(t):this._header(e,t,s)}_header(e,t,s={}){const n=s.append||!1,i=s.separator||",",a=!1!==s.override,r=!1!==s.duplicate;if(!n&&a||!this.headers[e])this.headers[e]=t;else if(a)if("set-cookie"===e)this.headers[e]=[].concat(this.headers[e],t);else{const s=this.headers[e];if(!r){const e=s.split(i);for(const s of e)if(s===t)return this}this.headers[e]=s+i+t}return this}vary(e){return"*"===e?this.headers.vary="*":this.headers.vary?"*"!==this.headers.vary&&this._header("vary",e,{append:!0,duplicate:!1}):this.headers.vary=e,this}etag(e,t){const s=l.Response.entity(e,t);return this._header("etag",s.etag),this.settings.varyEtag=s.vary,this}static entity(e,t={}){return r.assert("*"!==e,"ETag cannot be *"),{etag:(t.weak?"W/":"")+'"'+e+'"',vary:!1!==t.vary&&!t.weak,modified:t.modified}}static unmodified(e,t){if("get"!==e.method&&"head"!==e.method)return!1;if(t.etag&&e.headers["if-none-match"]){const s=e.headers["if-none-match"].split(/\s*,\s*/);for(const n of s){if(n===t.etag)return!0;if(!t.vary)continue;if(n===`W/${t.etag}`)return n;const s=t.etag.slice(0,-1),i=e._core.compression.encodings;for(const e of i)if(n===s+`-${e}"`)return!0}return!1}if(!t.modified)return!1;const s=e.headers["if-modified-since"];if(!s)return!1;const n=l.parseDate(s);if(!n)return!1;const i=l.parseDate(t.modified);return!!i&&n>=i}type(e){return this._header("content-type",e),this}bytes(e){return this._header("content-length",e),this}location(e){return this._header("location",e),this}created(e){return r.assert("post"===this.request.method||"put"===this.request.method||"patch"===this.request.method,"Cannot return 201 status codes for "+this.request.method.toUpperCase()),this.statusCode=201,this.location(e),this}compressed(e){return r.assert(e&&"string"==typeof e,"Invalid content-encoding"),this.settings.compressed=e,this}replacer(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.replacer=e,this}spaces(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.space=e,this}suffix(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.suffix=e,this}escape(e){return this.settings.stringify=this.settings.stringify||{},this.settings.stringify.escape=e,this}passThrough(e){return this.settings.passThrough=!1!==e,this}redirect(e){return this.statusCode=302,this.location(e),this.temporary=this._temporary,this.permanent=this._permanent,this.rewritable=this._rewritable,this}_temporary(e){return this._setTemporary(!1!==e),this}_permanent(e){return this._setTemporary(!1===e),this}_rewritable(e){return this._setRewritable(!1!==e),this}_isTemporary(){return 302===this.statusCode||307===this.statusCode}_isRewritable(){return 301===this.statusCode||302===this.statusCode}_setTemporary(e){e?this._isRewritable()?this.statusCode=302:this.statusCode=307:this._isRewritable()?this.statusCode=301:this.statusCode=308}_setRewritable(e){e?this._isTemporary()?this.statusCode=302:this.statusCode=301:this._isTemporary()?this.statusCode=307:this.statusCode=308}encoding(e){return this.settings.encoding=e,this}charset(e){return this.settings.charset=e||null,this}ttl(e){return this.settings.ttl=e,this}state(e,t,s){return this.request._setState(e,t,s),this}unstate(e,t){return this.request._clearState(e,t),this}takeover(){return this._takeover=!0,this}_prepare(){if(this._passThrough(),!this._processors.prepare)return this;try{return this._processors.prepare(this)}catch(e){throw i.boomify(e)}}_passThrough(){if("stream"===this.variety&&this.settings.passThrough&&(this.source.statusCode&&!this.statusCode&&(this.statusCode=this.source.statusCode),this.source.headers)){let e=Object.keys(this.source.headers);if(e.length){const t=this.headers;this.headers={};const s=this.source.headers.connection,n={};s&&s.split(/\s*,\s*/).forEach(e=>{n[e]=!0});for(const t of e){const e=t.toLowerCase();l.hopByHop[e]||n[e]||this.header(e,r.clone(this.source.headers[t]))}e=Object.keys(t);for(const s of e)this.header(s,t[s],{append:"set-cookie"===s})}}this.statusCode=this.statusCode||200}async _marshal(){let e=this.source;if(this._processors.marshal)try{e=await this._processors.marshal(this)}catch(e){throw i.boomify(e)}if(c.isStream(e)){if("function"!=typeof e._read)throw i.badImplementation("Stream must have a readable interface");if(e._readableState.objectMode)throw i.badImplementation("Cannot reply with stream in object mode");return void(this._payload=e)}const t="plain"===this.variety&&null!==e&&"string"!=typeof e;if(!t&&this.settings.stringify)throw i.badImplementation("Cannot set formatting options on non object response");let s=e;if(t){const e=this.settings.stringify||{},t=e.space||this.request.route.settings.json.space,n=e.replacer||this.request.route.settings.json.replacer,a=e.suffix||this.request.route.settings.json.suffix||"",o=this.request.route.settings.json.escape||!1;try{s=n||t?JSON.stringify(s,n,t):JSON.stringify(s)}catch(e){throw i.boomify(e)}a&&(s+=a),o&&(s=r.escapeJson(s))}this._payload=new l.Response.Payload(s,this.settings)}_tap(){return this._events&&(this._events.hasListeners("peek")||this._events.hasListeners("finish"))?new l.Response.Peek(this._events):null}_close(e){if(this._processors.close)try{this._processors.close(this)}catch(t){a.rethrow(t,"system"),e._log(["response","cleanup","error"],t)}const t=this._payload||this.source;c.isStream(t)&&l.Response.drain(t)}_isPayloadSupported(){return"head"!==this.request.method&&304!==this.statusCode&&204!==this.statusCode}static drain(e){e.unpipe&&e.unpipe(),e.close?e.close():e.destroy?e.destroy():c.drain(e)}},l.parseDate=function(e){try{return Date.parse(e)}catch(e){}},l.Response.Payload=class extends n.Readable{constructor(e,t){super(),this._data=e,this._prefix=null,this._suffix=null,this._sizeOffset=0,this._encoding=t.encoding}_read(e){this._prefix&&this.push(this._prefix,this._encoding),this._data&&this.push(this._data,this._encoding),this._suffix&&this.push(this._suffix,this._encoding),this.push(null)}size(){return this._data?(Buffer.isBuffer(this._data)?this._data.length:Buffer.byteLength(this._data,this._encoding))+this._sizeOffset:this._sizeOffset}jsonp(e){this._sizeOffset=this._sizeOffset+e.length+7,this._prefix="/**/"+e+"(",this._data=null===this._data||Buffer.isBuffer(this._data)?this._data:this._data.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"),this._suffix=");"}writeToStream(e){this._prefix&&e.write(this._prefix,this._encoding),this._data&&e.write(this._data,this._encoding),this._suffix&&e.write(this._suffix,this._encoding),e.end()}},l.Response.Peek=class extends n.Transform{constructor(e){super(),this._podium=e,this.on("finish",()=>e.emit("finish"))}_transform(e,t,s){this._podium.emit("peek",[e,t]),this.push(e,t),s()}}},function(e,t,s){"use strict";const n=s(48);e.exports=class extends Error{constructor(e){super(e.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:n(e)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(24),r={};e.exports=r.merge=function(e,t,s){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(s=Object.assign({nullOverride:!0,mergeArrays:!0},s),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),s.mergeArrays||(e.length=0);for(let n=0;n<t.length;++n)e.push(i(t[n],{symbols:s.symbols}));return e}const o=a.keys(t,s);for(let n=0;n<o.length;++n){const a=o[n];if("__proto__"===a||!Object.prototype.propertyIsEnumerable.call(t,a))continue;const c=t[a];c&&"object"==typeof c?!e[a]||"object"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(c)||c instanceof Date||Buffer&&Buffer.isBuffer(c)||c instanceof RegExp?e[a]=i(c,{symbols:s.symbols}):r.merge(e[a],c,s):null!=c?e[a]=c:s.nullOverride&&(e[a]=c)}return e}},function(e,t,s){"use strict";e.exports=function(){}},function(e,t,s){"use strict";const n=s(0),i=s(106),a={annotations:Symbol("joi-annotations"),stringify:function(e,s){const n=typeof e;if(null===e)return"null";if("string"===n)return e;if(e instanceof t.Err||"function"===n||"symbol"===n)return e.toString();if("object"===n){if(Array.isArray(e)){let t="";for(let n=0;n<e.length;++n)t=t+(t.length?", ":"")+a.stringify(e[n],s);return s?"["+t+"]":t}return e.toString()}return JSON.stringify(e)}};t.Err=class{constructor(e,t,s,n,a,r,o){this.isJoi=!0,this.type=e,this.context=t||{},this.context.key=s.path[s.path.length-1],this.context.label=s.key,this.path=s.path,this.options=n,this.flags=a,this.message=r,this.template=o;const c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||i.errors.root)}toString(){if(this.message)return this.message;let e;this.template&&(e=this.template);const t=this.options.language;if(void 0===(e=e||n.reach(t,this.type)||n.reach(i.errors,this.type)))return`Error code "${this.type}" is not defined, your custom type is missing the correct language definition`;let s=n.reach(t,"messages.wrapArrays");if("boolean"!=typeof s&&(s=i.errors.messages.wrapArrays),null===e){const e=a.stringify(this.context.reason,s);return s?e.slice(1,-1):e}const r=/{{!?label}}/.test(e),o=e.length>2&&"!"===e[0]&&"!"===e[1];if(o&&(e=e.slice(2)),!r&&!o){const s=n.reach(t,"key");e="string"==typeof s?s+e:n.reach(i.errors,"key")+e}const c=e.replace(/{{(!?)([^}]+)}}/g,(e,t,i)=>{const r=n.reach(this.context,i),o=a.stringify(r,s);return t&&this.options.escapeHtml?n.escapeHtml(o):o});return this.toString=()=>c,c}},t.create=function(e,s,n,i,a,r,o){return new t.Err(e,s,n,i,a,r,o)},t.process=function(e,t){if(!e)return null;let s="";const n=[],i=function(e,t,a){for(let r=0;r<e.length;++r){const o=e[r];if(o instanceof Error)return o;if(o.flags.error&&"function"!=typeof o.flags.error&&(!o.flags.selfError||!o.context.reason))return o.flags.error;let c;if(void 0===t&&(c=o.toString(),s=s+(s?". ":"")+c),o.context.reason){const e=i(o.context.reason,o.path,"override"===o.type?o.message:null);if(e)return e}else n.push({message:a||c||o.toString(),path:o.path,type:o.type,context:o.context})}},r=i(e);if(r)return r;const o=new Error(s);return o.isJoi=!0,o.name="ValidationError",o.details=n,o._object=t,o.annotate=a.annotate,o},a.safeStringify=function(e,t){return JSON.stringify(e,a.serializer(),t)},a.serializer=function(){const e=[],t=[],s=(s,n)=>t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]";return function(n,i){if(t.length>0){const a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=n):(t.push(this),e.push(n)),~t.indexOf(i)&&(i=s.call(this,n,i))}else t.push(i);if(i){const e=i[a.annotations];if(e){if(Array.isArray(i)){const t=[];for(let s=0;s<i.length;++s)e.errors[s]&&t.push(`_$idx$_${e.errors[s].sort().join(", ")}_$end$_`),t.push(i[s]);i=t}else{const t=Object.keys(e.errors);for(let s=0;s<t.length;++s){const n=t[s];i[`${n}_$key$_${e.errors[n].sort().join(", ")}_$end$_`]=i[n],i[n]=void 0}const s=Object.keys(e.missing);for(let t=0;t<s.length;++t){const n=s[t];i[`_$miss$_${n}|${e.missing[n]}_$end$_`]="__missing__"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"==typeof i||"symbol"==typeof i?"["+i.toString()+"]":i}},a.annotate=function(e){const t=e?"":"[31m",s=e?"":"[41m",i=e?"":"[0m";if("object"!=typeof this._object)return this.details[0].message;const r=n.clone(this._object||{});for(let e=this.details.length-1;e>=0;--e){const t=e+1,s=this.details[e],n=s.path;let i=r;for(let e=0;;++e){const r=n[e];if(i.isImmutable&&(i=i.clone()),!(e+1<n.length&&i[r]&&"string"!=typeof i[r])){const e=i[a.annotations]=i[a.annotations]||{errors:{},missing:{}},n=i[r],o=r||s.context.label;void 0!==n?(e.errors[o]=e.errors[o]||[],e.errors[o].push(t)):e.missing[o]=t;break}i=i[r]}}const o=/_\$key\$_([, \d]+)_\$end\$_"/g,c=/"_\$miss\$_([^|]+)\|(\d+)_\$end\$_": "__missing__"/g,l=/\s*"_\$idx\$_([, \d]+)_\$end\$_",?\n(.*)/g,u=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)]"/g;let p=a.safeStringify(r,2).replace(o,(e,s)=>`" ${t}[${s}]${i}`).replace(c,(e,n,a)=>`${s}"${n}"${i}${t} [${a}]: -- missing --${i}`).replace(l,(e,s,n)=>`\n${n} ${t}[${s}]${i}`).replace(u,(e,t)=>t);p=`${p}\n${t}`;for(let e=0;e<this.details.length;++e){p=`${p}\n[${e+1}] ${this.details[e].message}`}return p+=i}},function(e,t,s){"use strict";e.exports=class{constructor(e,t,s,n){this.key=e,this.path=t,this.parent=s,this.reference=n}}},function(e,t,s){"use strict";const n=s(1),i={};e.exports=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const s=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",r=t.sort||0;n(!s.includes(a),`Item cannot come before itself: ${a}`),n(!s.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(a),`Item cannot come after itself: ${a}`),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const t of e){const e={seq:this._items.length,sort:r,before:s,after:i,group:a,node:t};this._items.push(e)}const o=this._sort();return n(o,"item","?"!==a?`added into group ${a}`:"","created a dependencies error"),this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const t of e)if(t)for(const e of t._items)this._items.push(Object.assign({},e));this._items.sort(i.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n(t,"merge created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),s=Object.create(null);for(const n of this._items){const i=n.seq,a=n.group;s[a]=s[a]||[],s[a].push(i),e[i]=n.before;for(const e of n.after)t[e]=t[e]||[],t[e].push(i)}for(const t in e){const n=[];for(const i in e[t]){const a=e[t][i];s[a]=s[a]||[],n.push(...s[a])}e[t]=n}for(const n in t)if(s[n])for(const i of s[n])e[i].push(...t[n]);const n={};for(const t in e){const s=e[t];for(const e of s)n[e]=n[e]||[],n[e].push(t)}const i={},a=[];for(let e=0;e<this._items.length;++e){let t=e;if(n[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===i[e])continue;n[e]||(n[e]=[]);const s=n[e].length;let a=0;for(let t=0;t<s;++t)i[n[e][t]]&&++a;if(a===s){t=e;break}}}null!==t&&(i[t]=!0,a.push(t))}if(a.length!==this._items.length)return!1;const r={};for(const e of this._items)r[e.seq]=e;this._items=[],this.nodes=[];for(const e of a){const t=r[e];this.nodes.push(t.node),this._items.push(t)}return!0}},i.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},function(e,t,s){"use strict";const n={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:s(26).URL||URL};t.analyze=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(!e)return{error:"Domain must be a non-empty string"};if(e.length>256)return{error:"Domain too long"};if(!!n.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return{error:"Domain contains forbidden Unicode characters"};e=e.normalize("NFC")}if(n.domainControlRx.test(e))return{error:"Domain contains invalid character"};e=n.punycode(e);const s=t.minDomainSegments||n.minDomainSegments,i=e.split(".");if(i.length<s)return{error:"Domain lacks the minimum required number of segments"};const a=t.tlds;if(a){const e=i[i.length-1].toLowerCase();if(a.deny&&a.deny.has(e)||a.allow&&!a.allow.has(e))return{error:"Domain uses forbidden TLD"}}for(let e=0;e<i.length;++e){const t=i[e];if(!t.length)return{error:"Domain contains empty dot-separated segment"};if(t.length>63)return{error:"Domain contains dot-separated segment that is too long"};if(e<i.length-1){if(!n.domainSegmentRx.test(t))return{error:"Domain contains invalid character"}}else if(!n.tldSegmentRx.test(t))return{error:"Domain contains invalid tld character"}}},t.isValid=function(e,s){return!t.analyze(e,s)},n.punycode=function(e){try{return new n.URL(`http://${e}`).host}catch(t){return e}}},function(e,t,s){"use strict";const n=s(10),i={};t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrapArrays:n.boolean()},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]+$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.string().required(),args:n.function(),base:n.object().schema(),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrapArrays:n.boolean()},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},function(e,t,s){"use strict";t.injection=Symbol("injection")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("zlib")},function(e,t,s){"use strict";const n=s(69),i=s(2),a=s(6),r=s(71),o=s(0),c=s(21),l=s(160),u=s(75),p=s(20),d=s(31),h=s(45),m=s(169),f=s(170),g=s(171),v=s(79),y=s(172),b={};e.exports=b.Route=class{constructor(e,t,s={}){const n=t._core,i=t.realm;p.apply("route",e,e.method,e.path);const a=e.method.toLowerCase();o.assert("head"!==a,"Cannot set HEAD route:",e.path);const c=i.modifiers.route.prefix?i.modifiers.route.prefix+("/"!==e.path?e.path:""):e.path;o.assert("/"===c||"/"!==c[c.length-1]||!n.settings.router.stripTrailingSlash,"Path cannot end with a trailing slash when configured to strip:",e.method,e.path);const l=i.modifiers.route.vhost||e.vhost;this.method=a,this.path=c;let f=e.options||e.config||{};"function"==typeof f&&(f=f.call(i.settings.bind,t)),f=p.enable(f),this._assert("get"!==a||!f.payload,"Cannot set payload settings on HEAD or GET request"),this._assert("get"!==a||!f.validate||!f.validate.payload,"Cannot validate HEAD or GET request payload"),this._assert(!e.rules||!f.rules,"Route rules can only appear once");const v=e.rules||f.rules,y=b.rules(v,{method:a,path:c,vhost:l},t);delete f.rules,this._assert(e.handler||f.handler,"Missing or undefined handler"),this._assert(!!e.handler^!!f.handler,"Handler must only appear once");const x=p.apply("handler",e.handler||f.handler);delete f.handler;const _=m.defaults(a,x,n),w=b.config([n.settings.routes,_,i.settings,y,f]);this.settings=p.apply("routeConfig",w,a,c);const A=void 0===this.settings.timeout.socket?12e4:this.settings.timeout.socket;if(this._assert(!this.settings.timeout.server||!A||this.settings.timeout.server<A,"Server timeout must be shorter than socket timeout"),this._assert(!this.settings.payload.timeout||!A||this.settings.payload.timeout<A,"Payload timeout must be shorter than socket timeout"),this._core=n,this.realm=i,this.settings.vhost=l,this.settings.plugins=this.settings.plugins||{},this.settings.app=this.settings.app||{},this._special=!!s.special,this._analysis=this._core.router.analyze(this.path),this.params=this._analysis.params,this.fingerprint=this._analysis.fingerprint,this.public={method:this.method,path:this.path,vhost:l,realm:i,settings:this.settings,fingerprint:this.fingerprint,auth:{access:e=>u.testAccess(e,this.public)}},this._setupValidation(),"get"===this.method?this.settings.payload=null:this.settings.payload.decoders=this._core.compression._decoders,this._assert(!this.settings.validate.payload||this.settings.payload.parse,"Route payload must be set to 'parse' when payload validation enabled"),this._assert(!this.settings.validate.state||this.settings.state.parse,"Route state must be set to 'parse' when state validation enabled"),this._assert(!this.settings.jsonp||"string"==typeof this.settings.jsonp,"Bad route JSONP parameter name"),this.settings.auth=!this._special&&this._core.auth._setupRoute(this.settings.auth,c),"get"===this.method&&"object"==typeof this.settings.cache&&(this.settings.cache.expiresIn||this.settings.cache.expiresAt)&&(this.settings.cache._statuses=new Set(this.settings.cache.statuses),this._cache=new r.Policy({expiresIn:this.settings.cache.expiresIn,expiresAt:this.settings.cache.expiresAt})),this.settings.cors=d.route(this.settings.cors),this.settings.security=g.route(this.settings.security),this.settings.handler=m.configure(x,this),this._prerequisites=m.prerequisitesConfig(this.settings.pre),this._extensions={onPreResponse:h.combine(this,"onPreResponse")},this._special)return this._cycle=[b.drain,m.execute],void this.rebuild();this._extensions.onPreAuth=h.combine(this,"onPreAuth"),this._extensions.onCredentials=h.combine(this,"onCredentials"),this._extensions.onPostAuth=h.combine(this,"onPostAuth"),this._extensions.onPreHandler=h.combine(this,"onPreHandler"),this._extensions.onPostHandler=h.combine(this,"onPostHandler"),this.rebuild()}_setupValidation(){const e=this.settings.validate;if("get"===this.method&&(e.payload=null),this._assert(!e.params||this.params.length,"Cannot set path parameters validations without path parameters"),["headers","params","query","payload","state"].forEach(t=>{e[t]=y.compile(e[t])}),void 0!==this.settings.response.schema||this.settings.response.status){this.settings.response._validate=!0;const e=this.settings.response.schema;this.settings.response.status=this.settings.response.status||{};const t=Object.keys(this.settings.response.status);if(!0!==e||t.length){this.settings.response.schema=y.compile(e);for(const e of t)this.settings.response.status[e]=y.compile(this.settings.response.status[e])}else this.settings.response._validate=!1}}rebuild(e){if(e&&this._extensions[e.type].add(e),this._special)return this._postCycle=this._extensions.onPreResponse.nodes?[this._extensions.onPreResponse]:[],void this._buildMarshalCycle();this._cycle=[],this.settings.jsonp&&this._cycle.push(b.parseJSONP),this.settings.state.parse&&this._cycle.push(b.state),this._extensions.onPreAuth.nodes&&this._cycle.push(this._extensions.onPreAuth),this._core.auth._enabled(this,"authenticate")&&this._cycle.push(u.authenticate),"get"!==this.method&&(this._cycle.push(b.payload),this._core.auth._enabled(this,"payload")&&this._cycle.push(u.payload)),this._core.auth._enabled(this,"authenticate")&&this._extensions.onCredentials.nodes&&this._cycle.push(this._extensions.onCredentials),this._core.auth._enabled(this,"access")&&this._cycle.push(u.access),this._extensions.onPostAuth.nodes&&this._cycle.push(this._extensions.onPostAuth),this.settings.validate.headers&&this._cycle.push(y.headers),this.settings.validate.params&&this._cycle.push(y.params),this.settings.jsonp&&this._cycle.push(b.cleanupJSONP),this.settings.validate.query&&this._cycle.push(y.query),this.settings.validate.payload&&this._cycle.push(y.payload),this.settings.validate.state&&this._cycle.push(y.state),this._extensions.onPreHandler.nodes&&this._cycle.push(this._extensions.onPreHandler),this._cycle.push(m.execute),this._extensions.onPostHandler.nodes&&this._cycle.push(this._extensions.onPostHandler),this._postCycle=[],this.settings.response._validate&&0!==this.settings.response.sample&&this._postCycle.push(y.response),this._extensions.onPreResponse.nodes&&this._postCycle.push(this._extensions.onPreResponse),this._buildMarshalCycle()}_buildMarshalCycle(){this._marshalCycle=[f.type],this.settings.cors&&this._marshalCycle.push(d.headers),this.settings.security&&this._marshalCycle.push(g.headers),this._marshalCycle.push(f.entity),"get"!==this.method&&"*"!==this.method||this._marshalCycle.push(f.unmodified),this._marshalCycle.push(f.cache),this._marshalCycle.push(f.state),this._marshalCycle.push(f.content),this._core.auth._enabled(this,"response")&&this._marshalCycle.push(u.response)}_assert(e,t){if(!e)throw"_"!==this.method[0]&&(t=`${t}: ${this.method.toUpperCase()} ${this.path}`),new n.AssertionError({message:t,actual:!1,expected:!0,operator:"==",stackStartFunction:this._assert})}},b.state=async function(e){e.state={};const t=e.raw.req.headers.cookie;if(!t)return;try{var s=await e._core.states.parse(t)}catch(e){a.rethrow(e,"system");var n=e}const{states:i,failed:r=[]}=s||n;e.state=i||{};for(const t of r)t.settings.clearInvalid&&e._clearState(t.name);return n?(n.header=t,e._core.toolkit.failAction(e,e.route.settings.state.failAction,n,{tags:["state","error"]})):void 0},b.payload=async function(e){if("get"!==e.method&&"head"!==e.method){e._expectContinue&&e.raw.res.writeContinue();try{const{payload:t,mime:s}=await l.parse(e.raw.req,e._tap(),e.route.settings.payload);e._isPayloadPending=!(!t||!t._readableState),e.mime=s,e.payload=t}catch(t){return a.rethrow(t,"system"),e._isPayloadPending?(await b.drain(e),e._isPayloadPending=!1):e._isPayloadPending=!0,e.mime=t.mime,e.payload=null,e._core.toolkit.failAction(e,e.route.settings.payload.failAction,t,{tags:["payload","error"]})}}},b.drain=async function(e){await v.drain(e.raw.req),e._isPayloadPending=!1},b.jsonpRegex=/^[\w\$\[\]\.]+$/,b.parseJSONP=function(e){const t=e.query[e.route.settings.jsonp];if(t){if(!1===b.jsonpRegex.test(t))throw i.badRequest("Invalid JSONP parameter value");e.jsonp=t}},b.cleanupJSONP=function(e){e.jsonp&&delete e.query[e.route.settings.jsonp]},b.config=function(e){if(!e.length)return{};let t=e[0];for(const s of e)t=o.applyToDefaults(t,s,{shallow:["bind","validate.headers","validate.payload","validate.params","validate.query","validate.state"]});return t},b.rules=function(e,t,s){const n=[];let i=s.realm;for(;i;){if(i._rules){const s=i._rules.settings.validate?c.attempt(e,i._rules.settings.validate.schema,i._rules.settings.validate.options):e,a=i._rules.processor(s,t);a&&n.unshift(a)}i=i.parent}return b.config(n)}},function(e,t,s){"use strict";const n=s(0),i=s(38),a={};e.exports=a.Ext=class{constructor(e,t){this._topo=new i,this._core=t,this._routes=[],this.type=e,this.nodes=null}add(e){const t=[].concat(e.method);for(const s of t){const t={before:e.options.before,after:e.options.after,group:e.realm.plugin,sort:this._core.extensionsSeq++},n={func:s,bind:e.options.bind,server:e.server,realm:e.realm,timeout:e.options.timeout};this._topo.add(n,t)}this.nodes=this._topo.nodes;for(const t of this._routes)t.rebuild(e)}merge(e){const t=[];for(const s of e)t.push(s._topo);this._topo.merge(t),this.nodes=this._topo.nodes.length?this._topo.nodes:null}subscribe(e){this._routes.push(e)}static combine(e,t){const s=new a.Ext(t,e._core),i=e.settings.ext[t];if(i)for(let t of i)t=Object.assign({},t),n.assert(!t.options.sandbox,"Cannot specify sandbox option for route extension"),t.realm=e.realm,s.add(t);const r=e._core.extensions.route[t],o=e.realm._extensions[t];return s.merge([r,o]),r.subscribe(e),o.subscribe(e),s}}},function(e,t,s){e.exports=s(93)},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(34),r=s(24),o={};e.exports=function(e,t,s={}){if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof s,"Invalid options: must be an object"),!t)return null;if(s.shallow)return o.applyToDefaultsWithShallow(e,t,s);const r=i(e);if(!0===t)return r;const c=void 0!==s.nullOverride&&s.nullOverride;return a(r,t,{nullOverride:c,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(e,t,s){const o=s.shallow;n(Array.isArray(o),"Invalid keys"),(s=Object.assign({},s)).shallow=!1;const c=i(e,{shallow:o});if(!0===t)return c;const l=r.store(t,o);return a(c,t,{mergeArrays:!1,nullOverride:!1}),r.restore(c,t,l),c}},function(e,t,s){"use strict";e.exports=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},function(e,t,s){"use strict";const n={};t=e.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},n.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(Buffer&&e instanceof Buffer)return t.buffer;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const s=Object.prototype.toString.call(e);return n.typeMap.get(s)||t.generic}},function(e,t,s){"use strict";const n={};e.exports=function(e){if(!e)return"";let t="";for(let s=0;s<e.length;++s){const i=e.charCodeAt(s);n.isSafe(i)?t+=e[s]:t+=n.escapeHtmlChar(i)}return t},n.escapeHtmlChar=function(e){const t=n.namedHtml[e];return void 0!==t?t:e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,s){"use strict";e.exports={settingsCache:Symbol("settingsCache")}},function(e){e.exports=JSON.parse('{"name":"@hapi/joi","description":"Object schema validation","version":"15.1.1","homepage":"https://github.com/hapijs/joi","repository":"git://github.com/hapijs/joi","main":"lib/index.js","keywords":["schema","validation"],"dependencies":{"@hapi/address":"2.x.x","@hapi/bourne":"1.x.x","@hapi/hoek":"8.x.x","@hapi/topo":"3.x.x"},"devDependencies":{"@hapi/code":"6.x.x","@hapi/lab":"20.x.x"},"scripts":{"test":"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},"license":"BSD-3-Clause"}')},function(e,t,s){"use strict";const n=s(9),i={extendedCheckForValue:function(e,t){const s=typeof e;if("object"===s){if(e instanceof Date)return t=>t instanceof Date&&e.getTime()===t.getTime();if(Buffer.isBuffer(e))return t=>Buffer.isBuffer(t)&&e.length===t.length&&e.toString("binary")===t.toString("binary")}else if(t&&"string"===s){const t=e.toLowerCase();return e=>"string"==typeof e&&t===e.toLowerCase()}return null}};e.exports=class e{constructor(e){this._set=new Set(e),this._hasRef=!1}add(e,t){const s=n.isRef(e);return!s&&this.has(e,null,null,!1)?this:(void 0!==t&&n.push(t,e),this._set.add(e),this._hasRef|=s,this)}merge(e,t){for(const t of e._set)this.add(t);for(const e of t._set)this.remove(e);return this}remove(e){return this._set.delete(e),this}has(e,t,s,n){return!!this.get(e,t,s,n)}get(e,t,s,a){if(!this._set.size)return!1;if(this._set.has(e))return{value:e};const r=i.extendedCheckForValue(e,a);if(!r){if(t&&this._hasRef)for(let i of this._set)if(n.isRef(i)){const n=(i=[].concat(i(t.reference||t.parent,s))).indexOf(e);if(n>=0)return{value:i[n]}}return!1}return this._has(e,t,s,r)}_has(e,t,s,i){const a=!(!t||!this._hasRef),r=function(t){return e===t||i(t)};for(let e of this._set)if(a&&n.isRef(e)&&(e=e(t.reference||t.parent,s),Array.isArray(e))){const t=e.findIndex(r);if(t>=0)return{value:e[t]}}else if(r(e))return{value:e};return!1}values(e){if(e&&e.stripUndefined){const e=[];for(const t of this._set)void 0!==t&&e.push(t);return e}return Array.from(this._set)}slice(){const t=new e(this._set);return t._hasRef=this._hasRef,t}concat(t){const s=new e([...this._set,...t._set]);return s._hasRef=!!(this._hasRef|t._hasRef),s}}},function(e,t,s){"use strict";const n=s(0),i=s(7),a=s(22),r=s(9),o={};o.Alternatives=class extends i{constructor(){super(),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}_init(...e){return e.length?this.try(...e):this}_base(e,t,s){const n=[],i=this._inner.matches.length,a=this._baseType;for(let r=0;r<i;++r){const o=this._inner.matches[r];if(!o.schema){const n=o.peek||o.is,c=o.is?o.ref(t.reference||t.parent,s):e;if(n._validate(c,null,s,t.parent).errors){if(o.otherwise)return o.otherwise._validate(e,t,s)}else if(o.then)return o.then._validate(e,t,s);if(r===i-1&&a)return a._validate(e,t,s);continue}const c=o.schema._validate(e,t,s);if(!c.errors)return c;n.push(...c.errors)}return n.length?{errors:this.createError("alternatives.child",{reason:n},t,s)}:{errors:this.createError("alternatives.base",null,t,s)}}try(...e){e=n.flatten(e),n.assert(e.length,"Cannot add other alternatives without at least one schema");const t=this.clone();for(let s=0;s<e.length;++s){const n=a.schema(this._currentJoi,e[s]);n._refs.length&&t._refs.push(...n._refs),t._inner.matches.push({schema:n})}return t}when(e,t){let s=!1;n.assert(r.isRef(e)||"string"==typeof e||(s=e instanceof i),"Invalid condition:",e),n.assert(t,"Missing options"),n.assert("object"==typeof t,"Invalid options"),s?n.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):n.assert(t.hasOwnProperty("is"),'Missing "is" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const o=this.clone();let c;s||(c=a.schema(this._currentJoi,t.is),null!==t.is&&(r.isRef(t.is)||t.is instanceof i)||(c=c.required()));const l={ref:s?null:a.ref(e),peek:s?e:null,is:c,then:void 0!==t.then?a.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?a.schema(this._currentJoi,t.otherwise):void 0};return o._baseType&&(l.then=l.then&&o._baseType.concat(l.then),l.otherwise=l.otherwise&&o._baseType.concat(l.otherwise)),s||(r.push(o._refs,l.ref),o._refs.push(...l.is._refs)),l.then&&l.then._refs.length&&o._refs.push(...l.then._refs),l.otherwise&&l.otherwise._refs.length&&o._refs.push(...l.otherwise._refs),o._inner.matches.push(l),o}label(e){const t=super.label(e);return t._inner.matches=t._inner.matches.map(t=>t.schema?{schema:t.schema.label(e)}:((t=Object.assign({},t)).then&&(t.then=t.then.label(e)),t.otherwise&&(t.otherwise=t.otherwise.label(e)),t)),t}describe(){const e=super.describe(),t=[];for(let e=0;e<this._inner.matches.length;++e){const s=this._inner.matches[e];if(s.schema)t.push(s.schema.describe());else{const e=s.is?{ref:s.ref.toString(),is:s.is.describe()}:{peek:s.peek.describe()};s.then&&(e.then=s.then.describe()),s.otherwise&&(e.otherwise=s.otherwise.describe()),t.push(e)}}return e.alternatives=t,e}},e.exports=new o.Alternatives},function(e,t,s){"use strict";const n=s(0),i=s(7),a=s(9),r={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.invalidDate=new Date(""),r.isIsoDate=(()=>{const e=r.isoDate.toString();return t=>t&&t.toString()===e})(),r.Date=class extends i{constructor(){super(),this._type="date"}_base(e,t,s){const n={value:s.convert&&r.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(s.convert){let i;i=r.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:"base",n.errors=this.createError(`date.${i}`,{value:e},t,s)}else n.errors=this.createError("date.strict",{value:e},t,s);return n}static toDate(e,t,s,n){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){const i=t&&r.isIsoDate(t);let a;if(!i&&"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),a=i?t.test(e)?new Date(e.toString()):r.invalidDate:s?/^\s*$/.test(e)?r.invalidDate:new Date(e*n):new Date(e),!isNaN(a.getTime()))return a}return null}iso(){if(this._flags.format===r.isoDate)return this;const e=this.clone();return e._flags.format=r.isoDate,e}timestamp(e="javascript"){const t=["javascript","unix"];if(n.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;const s=this.clone();return s._flags.timestamp=e,s._flags.multiplier="unix"===e?1e3:1,s}_isIsoDate(e){return r.isoDate.test(e)}},r.compare=function(e,t){return function(s){const i="now"===s,o=a.isRef(s);return i||o||(s=r.Date.toDate(s)),n.assert(s,"Invalid date format"),this._test(e,s,(function(n,a,c){let l;if(i)l=Date.now();else if(o){const e=s(a.reference||a.parent,c);if(!(l=r.Date.toDate(e)))return this.createError("date.ref",{ref:s,value:e},a,c);l=l.getTime()}else l=s.getTime();return t(n.getTime(),l)?n:this.createError("date."+e,{limit:new Date(l),value:n},a,c)}))}},r.Date.prototype.min=r.compare("min",(e,t)=>e>=t),r.Date.prototype.max=r.compare("max",(e,t)=>e<=t),r.Date.prototype.greater=r.compare("greater",(e,t)=>e>t),r.Date.prototype.less=r.compare("less",(e,t)=>e<t),e.exports=new r.Date},function(e,t,s){"use strict";const n=s(18),i=s(0),a=s(38),r=s(7),o=s(36),c=s(22),l=s(37),u={};u.Object=class extends r{constructor(){super(),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...e){return e.length?this.keys(...e):this}_base(e,t,s){let a=e;const r=[],c=()=>({value:a,errors:r.length?r:null});if("string"==typeof e&&s.convert&&e.length>1&&("{"===e[0]||/^\s*\{/.test(e)))try{e=n.parse(e)}catch(e){}const p=this._flags.func?"function":"object";if(!e||typeof e!==p||Array.isArray(e))return r.push(this.createError(p+".base",{value:e},t,s)),c();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return a=e,c();if(a===e){"object"===p?a=Object.create(Object.getPrototypeOf(e)):(a=function(...t){return e.apply(this,t)}).prototype=i.clone(e.prototype);const t=Object.keys(e);for(let s=0;s<t.length;++s)a[t[s]]=e[t[s]]}else a=e;const d={};for(let e=0;e<this._inner.renames.length;++e){const n=this._inner.renames[e];if(n.isRegExp){const e=Object.keys(a),i=[];for(let t=0;t<e.length;++t)n.from.test(e[t])&&i.push(e[t]);const o=i.every(e=>void 0===a[e]);if(n.options.ignoreUndefined&&o)continue;if(!n.options.multiple&&d[n.to]&&(r.push(this.createError("object.rename.regex.multiple",{from:i,to:n.to},t,s)),s.abortEarly))return c();if(Object.prototype.hasOwnProperty.call(a,n.to)&&!n.options.override&&!d[n.to]&&(r.push(this.createError("object.rename.regex.override",{from:i,to:n.to},t,s)),s.abortEarly))return c();if(o?delete a[n.to]:a[n.to]=a[i[i.length-1]],d[n.to]=!0,!n.options.alias)for(let e=0;e<i.length;++e)delete a[i[e]]}else{if(n.options.ignoreUndefined&&void 0===a[n.from])continue;if(!n.options.multiple&&d[n.to]&&(r.push(this.createError("object.rename.multiple",{from:n.from,to:n.to},t,s)),s.abortEarly))return c();if(Object.prototype.hasOwnProperty.call(a,n.to)&&!n.options.override&&!d[n.to]&&(r.push(this.createError("object.rename.override",{from:n.from,to:n.to},t,s)),s.abortEarly))return c();void 0===a[n.from]?delete a[n.to]:a[n.to]=a[n.from],d[n.to]=!0,n.options.alias||delete a[n.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return c();const h=new Set(Object.keys(a));if(this._inner.children){const e=[];for(let n=0;n<this._inner.children.length;++n){const i=this._inner.children[n],o=i.key,u=a[o];h.delete(o);const p=new l(o,[...t.path,o],a,t.reference),d=i.schema._validate(u,p,s);if(d.errors){if(r.push(this.createError("object.child",{key:o,child:i.schema._getLabel(o),reason:d.errors},p,s)),s.abortEarly)return c()}else i.schema._flags.strip||void 0===d.value&&d.value!==u?(e.push(o),a[o]=d.finalValue):void 0!==d.value&&(a[o]=d.value)}for(let t=0;t<e.length;++t)delete a[e[t]]}if(h.size&&this._inner.patterns.length)for(const e of h){const n=new l(e,[...t.path,e],a,t.reference),i=a[e];for(let o=0;o<this._inner.patterns.length;++o){const l=this._inner.patterns[o];if(l.regex?l.regex.test(e):!l.schema._validate(e,t,{...s,abortEarly:!0}).errors){h.delete(e);const t=l.rule._validate(i,n,s);if(t.errors&&(r.push(this.createError("object.child",{key:e,child:l.rule._getLabel(e),reason:t.errors},n,s)),s.abortEarly))return c();a[e]=t.value}}}if(h.size&&(this._inner.children||this._inner.patterns.length)){if(s.stripUnknown&&!0!==this._flags.allowUnknown||s.skipFunctions){const e=!!s.stripUnknown&&(!0===s.stripUnknown||!!s.stripUnknown.objects);for(const t of h)e?(delete a[t],h.delete(t)):"function"==typeof a[t]&&h.delete(t)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!s.allowUnknown)for(const e of h)r.push(this.createError("object.allowUnknown",{child:e,value:a[e]},{key:e,path:[...t.path,e]},s,{}))}for(let e=0;e<this._inner.dependencies.length;++e){const n=this._inner.dependencies[e],p=null!==n.key,d=p&&n.key.split("."),h=p?new l(d[d.length-1],[...t.path,...d]):new l(null,t.path),m=u[n.type].call(this,n.key,p&&i.reach(a,n.key,{functions:!0}),n.peers,a,h,s);if(m instanceof o.Err&&(r.push(m),s.abortEarly))return c()}return c()}keys(e){i.assert(null==e||"object"==typeof e,"Object schema must be a valid object"),i.assert(!(e&&e instanceof r),"Object schema cannot be a joi schema");const t=this.clone();if(!e)return t._inner.children=null,t;const s=Object.keys(e);if(!s.length)return t._inner.children=[],t;const n=new a;if(t._inner.children)for(let e=0;e<t._inner.children.length;++e){const i=t._inner.children[e];s.includes(i.key)||n.add(i,{after:i._refs,group:i.key})}for(let t=0;t<s.length;++t){const i=s[t],a=e[i];try{const e=c.schema(this._currentJoi,a);n.add({key:i,schema:e},{after:e._refs,group:i})}catch(e){throw e.hasOwnProperty("path")?e.path=i+"."+e.path:e.path=i,e}}return t._inner.children=n.nodes,t}append(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}unknown(e){const t=!1!==e;if(this._flags.allowUnknown===t)return this;const s=this.clone();return s._flags.allowUnknown=t,s}length(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,s,n){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e,value:t},s,n)}))}min(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,s,n){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e,value:t},s,n)}))}max(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,s,n){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e,value:t},s,n)}))}pattern(e,t){const s=e instanceof RegExp;i.assert(s||e instanceof r,"pattern must be a regex or schema"),i.assert(void 0!==t,"Invalid rule"),s&&i.assert(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode");try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}const n=this.clone();return s?n._inner.patterns.push({regex:e,rule:t}):n._inner.patterns.push({schema:e,rule:t}),n}schema(){return this._test("schema",null,(function(e,t,s){return e instanceof r?e:this.createError("object.schema",null,t,s)}))}with(e,t){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)}without(e,t){return i.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)}xor(...e){return e=i.flatten(e),this._dependency("xor",null,e)}oxor(...e){return this._dependency("oxor",null,e)}or(...e){return e=i.flatten(e),this._dependency("or",null,e)}and(...e){return e=i.flatten(e),this._dependency("and",null,e)}nand(...e){return e=i.flatten(e),this._dependency("nand",null,e)}requiredKeys(...e){return e=i.flatten(e),this.applyFunctionToChildren(e,"required")}optionalKeys(...e){return e=i.flatten(e),this.applyFunctionToChildren(e,"optional")}forbiddenKeys(...e){return e=i.flatten(e),this.applyFunctionToChildren(e,"forbidden")}rename(e,t,s){i.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i.assert("string"==typeof t,"Rename missing the to argument"),i.assert(t!==e,"Cannot rename key to same name:",e);for(let t=0;t<this._inner.renames.length;++t)i.assert(this._inner.renames[t].from!==e,"Cannot rename the same key multiple times");const n=this.clone();return n._inner.renames.push({from:e,to:t,options:i.applyToDefaults(u.renameDefaults,s||{}),isRegExp:e instanceof RegExp}),n}applyFunctionToChildren(e,t,s=[],n){e=[].concat(e),i.assert(e.length>0,"expected at least one children");const a=u.groupChildren(e);let r;if(""in a?(r=this[t](...s),delete a[""]):r=this.clone(),r._inner.children){n=n?n+".":"";for(let e=0;e<r._inner.children.length;++e){const i=r._inner.children[e],o=a[i.key];o&&(r._inner.children[e]={key:i.key,_refs:i._refs,schema:i.schema.applyFunctionToChildren(o,t,s,n+i.key)},delete a[i.key])}}const o=Object.keys(a);return i.assert(0===o.length,"unknown key(s)",o.join(", ")),r}_dependency(e,t,s){s=[].concat(s);for(let t=0;t<s.length;++t)i.assert("string"==typeof s[t],e,"peers must be a string or array of strings");const n=this.clone();return n._inner.dependencies.push({type:e,key:t,peers:s}),n}describe(e){const t=super.describe();if(t.rules)for(let e=0;e<t.rules.length;++e){const s=t.rules[e];s.arg&&"object"==typeof s.arg&&s.arg.schema&&s.arg.ref&&(s.arg={schema:s.arg.schema.describe(),ref:s.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(let e=0;e<this._inner.children.length;++e){const s=this._inner.children[e];t.children[s.key]=s.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=i.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(let e=0;e<this._inner.patterns.length;++e){const s=this._inner.patterns[e];s.regex?t.patterns.push({regex:s.regex.toString(),rule:s.rule.describe()}):t.patterns.push({schema:s.schema.describe(),rule:s.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=i.clone(this._inner.renames)),t}assert(e,t,s){e=c.ref(e),i.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),s=s||"pass the assertion test",i.assert("string"==typeof s,"Message must be a string");try{t=c.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}const n=e.path[e.path.length-1],a=e.path.join(".");return this._test("assert",{schema:t,ref:e},(function(i,r,o){if(!t._validate(e(i),null,o,i).errors)return i;const c=new l(n,e.path,r.parent,r.reference);return this.createError("object.assert",{ref:a,message:s},c,o)}))}type(e,t=e.name){i.assert("function"==typeof e,"type must be a constructor function");const s={name:t,ctor:e};return this._test("type",s,(function(t,n,i){return t instanceof e?t:this.createError("object.type",{type:s.name,value:t},n,i)}))}},u.renameDefaults={alias:!1,multiple:!1,override:!1},u.groupChildren=function(e){e.sort();const t={};for(let s=0;s<e.length;++s){const n=e[s];i.assert("string"==typeof n,"children must be strings");const a=n.split(".")[0];(t[a]=t[a]||[]).push(n.substring(a.length+1))}return t},u.keysToLabels=function(e,t){if(!e._inner.children)return t;const s=function(t){const s=e._currentJoi.reach(e,t);return s?s._getLabel(t):t};return Array.isArray(t)?t.map(s):s(t)},u.with=function(e,t,s,n,a,r){if(void 0!==t)for(let t=0;t<s.length;++t){const o=s[t];if(void 0===i.reach(n,o,{functions:!0}))return this.createError("object.with",{main:e,mainWithLabel:u.keysToLabels(this,e),peer:o,peerWithLabel:u.keysToLabels(this,o)},a,r)}},u.without=function(e,t,s,n,a,r){if(void 0!==t)for(let t=0;t<s.length;++t){const o=s[t];if(void 0!==i.reach(n,o,{functions:!0}))return this.createError("object.without",{main:e,mainWithLabel:u.keysToLabels(this,e),peer:o,peerWithLabel:u.keysToLabels(this,o)},a,r)}},u.xor=function(e,t,s,n,a,r){const o=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==i.reach(n,t,{functions:!0})&&o.push(t)}if(1===o.length)return;const c={peers:s,peersWithLabels:u.keysToLabels(this,s)};return 0===o.length?this.createError("object.missing",c,a,r):(c.present=o,c.presentWithLabels=u.keysToLabels(this,o),this.createError("object.xor",c,a,r))},u.oxor=function(e,t,s,n,a,r){const o=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==i.reach(n,t,{functions:!0})&&o.push(t)}if(!o.length||1===o.length)return;const c={peers:s,peersWithLabels:u.keysToLabels(this,s)};return c.present=o,c.presentWithLabels=u.keysToLabels(this,o),this.createError("object.oxor",c,a,r)},u.or=function(e,t,s,n,a,r){for(let e=0;e<s.length;++e){const t=s[e];if(void 0!==i.reach(n,t,{functions:!0}))return}return this.createError("object.missing",{peers:s,peersWithLabels:u.keysToLabels(this,s)},a,r)},u.and=function(e,t,s,n,a,r){const o=[],c=[],l=s.length;for(let e=0;e<l;++e){const t=s[e];void 0===i.reach(n,t,{functions:!0})?o.push(t):c.push(t)}if(!(o.length===l||c.length===l))return this.createError("object.and",{present:c,presentWithLabels:u.keysToLabels(this,c),missing:o,missingWithLabels:u.keysToLabels(this,o)},a,r)},u.nand=function(e,t,s,n,a,r){const o=[];for(let e=0;e<s.length;++e){const t=s[e];void 0!==i.reach(n,t,{functions:!0})&&o.push(t)}const c=s[0],l=s.slice(1);return o.length===s.length?this.createError("object.nand",{main:c,mainWithLabel:u.keysToLabels(this,c),peers:l,peersWithLabels:u.keysToLabels(this,l)},a,r):null},e.exports=new u.Object},function(e,t,s){"use strict";const n=s(27),i=s(39),a={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return a.email(e,t)},t.isValid=function(e,t){return!a.email(e,t)},a.email=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return{error:"Address must be a non-empty string"};const s=!a.nonAsciiRx.test(e);if(!s){if(!1===t.allowUnicode)return{error:"Address contains forbidden Unicode characters"};e=e.normalize("NFC")}const n=e.split("@");if(2!==n.length)return{error:n.length>2?"Address cannot contain more than one @ character":"Address must contain one @ character"};const[r,o]=n;if(!r)return{error:"Address local part cannot be empty"};if(!t.ignoreLength){if(e.length>254)return{error:"Address too long"};if(a.encoder.encode(r).length>64)return{error:"Address local part too long"}}return a.local(r,s)||i.analyze(o,t)},a.local=function(e,t){const s=e.split(".");for(const e of s){if(!e.length)return{error:"Address local part contains empty dot-separated segment"};if(t){if(!a.atextRx.test(e))return{error:"Address local part contains invalid character"}}else for(const t of e){if(a.atextRx.test(t))continue;const e=a.binary(t);if(!a.atomRx.test(e))return{error:"Address local part contains invalid character"}}}},a.binary=function(e){return Array.from(a.encoder.encode(e)).map(e=>String.fromCharCode(e)).join("")},a.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,a.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},function(e,t,s){"use strict";const n={tlds:["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFAMILYCOMPANY","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIGO","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUDAPEST","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CARTIER","CASA","CASE","CASEIH","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CEB","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHRYSLER","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CSC","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DODGE","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUCK","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ESURANCE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EVERBANK","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUJIXEROX","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLADE","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTEL","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","IVECO","JAGUAR","JAVA","JCB","JCP","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LADBROKES","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LANCOME","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIAISON","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LIXIL","LK","LLC","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUPIN","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","METLIFE","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MOPAR","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MOVISTAR","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NADEX","NAGOYA","NAME","NATIONWIDE","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWHOLLAND","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFF","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","ONYOURSIDE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PIAGET","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","QVC","RACING","RADIO","RAID","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIGHTATHOME","RIL","RIO","RIP","RMIT","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCJOHNSON","SCOR","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SHRIRAM","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPACE","SPORT","SPOT","SPREADBETTING","SR","SRL","SRT","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWIFTCOVER","SWISS","SX","SY","SYDNEY","SYMANTEC","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TELEFONICA","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UCONNECT","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VISTAPRINT","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WARMAN","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3OQ18VL8PN36A","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--ESTV75G","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ61U9W7B","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPU716F","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PBT977C","XN--PGBS0DH","XN--PSSY2U","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"]};e.exports=new Set(n.tlds.map(e=>e.toLowerCase()))},function(e,t,s){"use strict";const n={rfc3986:{},generate:function(){const e="|";n.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";const t="a-zA-Z0-9-\\._~",s="!\\$&'\\(\\)\\*\\+,;=",i=t+"%0-9A-Fa-f"+s+":@",a="["+i+"]",r="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+r+"\\.){3}"+r;const o="[0-9A-Fa-f]{1,4}",c="(?:"+o+":"+o+"|"+n.rfc3986.IPv4address+")",l="(?:"+o+":){6}"+c,u="::(?:"+o+":){5}"+c,p="(?:"+o+")?::(?:"+o+":){4}"+c,d="(?:(?:"+o+":){0,1}"+o+")?::(?:"+o+":){3}"+c,h="(?:(?:"+o+":){0,2}"+o+")?::(?:"+o+":){2}"+c,m="(?:(?:"+o+":){0,3}"+o+")?::"+o+":"+c,f="(?:(?:"+o+":){0,4}"+o+")?::"+c;n.rfc3986.IPv6address="(?:"+l+e+u+e+p+e+d+e+h+e+m+e+f+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+t+s+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+")\\]")+e+n.rfc3986.IPv4address+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",v=a+"+",y="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",b="\\/(?:"+v+y+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+g+y+")"+e+b+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+g+y+")"+e+b+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+e+")",n.rfc3986.query="["+i+"\\/\\?]*(?=#|$)",n.rfc3986.queryWithSquareBrackets="["+i+"\\[\\]\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+i+"\\/\\?]*"}};n.generate(),e.exports=n.rfc3986},function(e,t,s){"use strict";const n=s(0),i=s(10),a=s(139),r=s(140),o=s(41),c={};c.options=i.object().keys({url:i.alternatives([i.string(),i.object().keys({protocol:i.string(),hostname:i.string(),port:i.any(),pathname:i.string().required(),query:i.any()})]).required(),headers:i.object(),payload:i.any(),simulate:{end:i.boolean(),split:i.boolean(),error:i.boolean(),close:i.boolean()},authority:i.string(),remoteAddress:i.string(),method:i.string(),validate:i.boolean()}),t.inject=function(e,t){if(!1!==(t="string"==typeof t?{url:t}:t).validate)try{n.assert("function"==typeof e,"Invalid dispatch function"),i.assert(t,c.options)}catch(e){return Promise.reject(e)}return new Promise(s=>{const n=new a(t),i=new r(n,s);n.prepare(()=>e(n,i))})},t.isInjection=function(e){return!!e[o.injection]}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(3),r={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new r.Cache(e)},r.Cache=class{constructor(e={}){a.assertOptions(e,["max"]),n(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||r.max,this._map=new Map,this._list=new r.List}get length(){return this._map.size}set(e,t){if(null!==e&&!r.supported.has(typeof e))return;let s=this._map.get(e);if(s)return s.value=t,void this._list.first(s);s=this._list.unshift({key:e,value:t}),this._map.set(e,s),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},r.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:s}=e;return t.prev=s,s&&(s.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(3),r=s(23),o={};t.type=function(e,t){const s=Object.getPrototypeOf(e),c=i(s),l=e._assign(Object.create(c)),u=Object.assign({},t);delete u.base,c._definition=u;const p=s._definition||{};u.messages=r.merge(p.messages,u.messages),u.properties=Object.assign({},p.properties,u.properties),l.type=u.type,u.flags=Object.assign({},p.flags,u.flags);const d=Object.assign({},p.terms);if(u.terms)for(const e in u.terms){const t=u.terms[e];n(void 0===l.$_terms[e],"Invalid term override for",u.type,e),l.$_terms[e]=t.init,d[e]=t}u.terms=d,u.args||(u.args=p.args),u.prepare=o.prepare(u.prepare,p.prepare),u.coerce&&("function"==typeof u.coerce&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=o.coerce(u.coerce,p.coerce),u.validate=o.validate(u.validate,p.validate);const h=Object.assign({},p.rules);if(u.rules)for(const e in u.rules){const t=u.rules[e];n("object"==typeof t,"Invalid rule definition for",u.type,e);let s=t.method;if(void 0===s&&(s=function(){return this.$_addRule(e)}),s&&(n(!c[e],"Rule conflict in",u.type,e),c[e]=s),n(!h[e],"Rule conflict in",u.type,e),h[e]=t,t.alias){const e=[].concat(t.alias);for(const s of e)c[s]=t.method}t.args&&(t.argsByName=new Map,t.args=t.args.map(e=>("string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),a.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e)))}u.rules=h;const m=Object.assign({},p.modifiers);if(u.modifiers)for(const e in u.modifiers){n(!c[e],"Rule conflict in",u.type,e);const t=u.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",u.type,e);const s=function(t){return this.rule({[e]:t})};c[e]=s,m[e]=t}if(u.modifiers=m,u.overrides){c._super=s,l.$_super={};for(const e in u.overrides)n(s[e],"Cannot override missing",e),l.$_super[e]=s[e].bind(l);Object.assign(c,u.overrides)}u.cast=Object.assign({},p.cast,u.cast);const f=Object.assign({},p.manifest,u.manifest);return f.build=o.build(u.manifest&&u.manifest.build,p.manifest&&p.manifest.build),u.manifest=f,u.rebuild=o.rebuild(u.rebuild,p.rebuild),l},o.build=function(e,t){return e&&t?function(s,n){return t(e(s,n),n)}:e||t},o.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(s,n){let i;if((!t.from||t.from.includes(typeof s))&&(i=t.method(s,n))){if(i.errors||void 0===i.value)return i;s=i.value}if(!e.from||e.from.includes(typeof s)){const t=e.method(s,n);if(t)return t}return i}}:e||t},o.prepare=function(e,t){return e&&t?function(s,n){const i=e(s,n);if(i){if(i.errors||void 0===i.value)return i;s=i.value}return t(s,n)||i}:e||t},o.rebuild=function(e,t){return e&&t?function(s){t(s),e(s)}:e||t},o.validate=function(e,t){return e&&t?function(s,n){const i=t(s,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;s=i.value}return e(s,n)||i}:e||t}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(3),r=s(23),o=s(12),c=s(16);let l;const u={};t.describe=function(e){const t=e._definition,s={type:e.type,flags:{},rules:[]};for(const t in e._flags)"_"!==t[0]&&(s.flags[t]=u.describe(e._flags[t]));Object.keys(s.flags).length||delete s.flags,e._preferences&&(s.preferences=i(e._preferences,{shallow:["messages"]}),delete s.preferences[a.symbols.prefs],s.preferences.messages&&(s.preferences.messages=r.decompile(s.preferences.messages))),e._valids&&(s.allow=e._valids.describe()),e._invalids&&(s.invalid=e._invalids.describe());for(const n of e._rules){if(!1===t.rules[n.name].manifest)continue;const e={name:n.name};for(const s in t.modifiers)void 0!==n[s]&&(e[s]=u.describe(n[s]));if(n.args){e.args={};for(const t in n.args){const s=n.args[t];("options"!==t||Object.keys(s).length)&&(e.args[t]=u.describe(s,{assign:t}))}Object.keys(e.args).length||delete e.args}s.rules.push(e)}s.rules.length||delete s.rules;for(const i in e.$_terms){if("_"===i[0])continue;n(!s[i],"Cannot describe schema due to internal name conflict with",i);const r=e.$_terms[i];if(!r)continue;if(r instanceof Map){r.size&&(s[i]=[...r.entries()]);continue}if(a.isValues(r)){s[i]=r.describe();continue}n(t.terms[i],"Term",i,"missing configuration");const o=t.terms[i].manifest,c="object"==typeof o;if(!r.length&&!c)continue;const l=[];for(const e of r)l.push(u.describe(e));if(c){const{from:e,to:t}=o.mapped;s[i]={};for(const n of l)s[i][n[t]]=n[e]}else"single"!==o?s[i]=l:(n(1===l.length,"Term",i,"contains more than one item"),s[i]=l[0])}return u.validate(e.$_root,s),s},u.describe=function(e,t={}){if(Array.isArray(e))return e.map(u.describe);if(e===a.symbols.deepDefault)return{special:"deep"};if("object"!=typeof e)return e;if("options"===t.assign)return i(e);if(Buffer&&Buffer.isBuffer(e))return{buffer:e.toString("binary")};if(e instanceof Date)return e.toISOString();if(e instanceof Error)return e;if(e instanceof RegExp)return"regex"===t.assign?e.toString():{regex:e.toString()};if(e[a.symbols.literal])return{function:e.literal};if("function"==typeof e.describe)return"ref"===t.assign?e.describe().ref:e.describe();const s={};for(const t in e){const n=e[t];void 0!==n&&(s[t]=u.describe(n,{assign:t}))}return s},t.build=function(e,t){return new u.Builder(e).parse(t)},u.Builder=class{constructor(e){this.joi=e}parse(e){u.validate(this.joi,e);let t=this.joi[e.type]();const s=t._definition;if(e.flags)for(const i in e.flags){const a=s.flags[i]&&s.flags[i].setter||i;n("function"==typeof t[a],"Invalid flag",i,"for type",e.type),t=t[a](this.build(e.flags[i]))}if(e.preferences&&(t=t.preferences(this.build(e.preferences))),e.allow&&(t=t.allow(...this.build(e.allow))),e.invalid&&(t=t.invalid(...this.build(e.invalid))),e.rules)for(const i of e.rules){n("function"==typeof t[i.name],"Invalid rule",i.name,"for type",e.type);const a=[];if(i.args){const t={};for(const e in i.args)t[e]=this.build(i.args[e],{assign:e});const r=Object.keys(t),o=s.rules[i.name].args;if(o){n(r.length<=o.length,"Invalid number of arguments for",e.type,i.name,"(expected up to",o.length,", found",r.length,")");for(const{name:e}of o)a.push(t[e])}else n(1===r.length,"Invalid number of arguments for",e.type,i.name,"(expected up to 1, found",r.length,")"),a.push(t[r[0]])}t=t[i.name](...a);const r={};for(const e in s.modifiers)void 0!==i[e]&&(r[e]=this.build(i[e]));Object.keys(r).length&&(t=t.rule(r))}const i={};for(const t in e){if(["allow","flags","invalid","whens","preferences","rules","type"].includes(t))continue;n(s.terms[t],"Term",t,"missing configuration");const a=s.terms[t].manifest;if("schema"!==a)if("values"!==a)if("single"!==a)if("object"!=typeof a)i[t]=this.build(e[t]);else{i[t]={};for(const s in e[t]){const n=e[t][s];i[t][s]=this.parse(n)}}else i[t]=this.build(e[t]);else i[t]=e[t].map(e=>this.build(e));else i[t]=e[t].map(e=>this.parse(e))}return e.whens&&(i.whens=e.whens.map(e=>this.build(e))),(t=s.manifest.build(t,i)).$_temp.ruleset=!1,t}build(e,t={}){if(null===e)return null;if(Array.isArray(e))return e.map(e=>this.build(e));if(e instanceof Error)return e;if("options"===t.assign)return i(e);if("regex"===t.assign)return u.regex(e);if("ref"===t.assign)return o.build(e);if("object"!=typeof e)return e;if(1===Object.keys(e).length){if(e.buffer)return n(Buffer,"Buffers are not supported"),Buffer&&Buffer.from(e.buffer,"binary");if(e.function)return{[a.symbols.literal]:!0,literal:e.function};if(e.override)return a.symbols.override;if(e.ref)return o.build(e.ref);if(e.regex)return u.regex(e.regex);if(e.special)return n(["deep"].includes(e.special),"Unknown special value",e.special),a.symbols.deepDefault;if(e.value)return i(e.value)}if(e.type)return this.parse(e);if(e.template)return c.build(e);const s={};for(const t in e)s[t]=this.build(e[t],{assign:t});return s}},u.regex=function(e){const t=e.lastIndexOf("/"),s=e.slice(1,t),n=e.slice(t+1);return new RegExp(s,n)},u.validate=function(e,t){l=l||s(40),e.assert(t,l.description)}},function(e,t,s){"use strict";const n=s(17),i=s(122),a=s(11),r={codes:{error:1,pass:2,full:3},labels:{0:"never used",1:"always error",2:"always pass"}};t.setup=function(e){const t=function(){return e._tracer=e._tracer||new r.Tracer,e._tracer};e.trace=t,e[Symbol.for("@hapi/lab/coverage/initialize")]=t,e.untrace=()=>{e._tracer=null}},t.location=function(e){return e.$_setFlag("_tracerLocation",i.location(2))},r.Tracer=class{constructor(){this.name="Joi",this._schemas=new Map}_register(e){const t=this._schemas.get(e);if(t)return t.store;const s=new r.Store(e),{filename:n,line:a}=e._flags._tracerLocation||i.location(5);return this._schemas.set(e,{filename:n,line:a,store:s}),s}_combine(e,t){for(const{store:s}of this._schemas.values())s._combine(e,t)}report(e){const t=[];for(const{filename:s,line:n,store:i}of this._schemas.values()){if(e&&e!==s)continue;const a=[],o=[];for(const[e,t]of i._sources.entries()){if(r.sub(t.paths,o))continue;if(!t.entry){a.push({status:"never reached",paths:[...t.paths]}),o.push(...t.paths);continue}for(const s of["valid","invalid"]){const n=e[`_${s}s`];if(!n)continue;const i=new Set(n._values),r=new Set(n._refs);for(const{value:e,ref:n}of t[s])i.delete(e),r.delete(n);(i.size||r.size)&&a.push({status:[...i,...[...r].map(e=>e.display)],rule:`${s}s`})}const s=e._rules.map(e=>e.name);for(const t of["default","failover"])void 0!==e._flags[t]&&s.push(t);for(const e of s){const s=r.labels[t.rule[e]||0];if(s){const n={rule:e,status:s};t.paths.size&&(n.paths=[...t.paths]),a.push(n)}}}a.length&&t.push({filename:s,line:n,missing:a,severity:"error",message:`Schema missing tests for ${a.map(r.message).join(", ")}`})}return t.length?t:null}},r.Store=class{constructor(e){this.active=!0,this._sources=new Map,this._combos=new Map,this._scan(e)}debug(e,t,s,n){e.mainstay.debug&&e.mainstay.debug.push({type:t,name:s,result:n,path:e.path})}entry(e,t){r.debug(t,{type:"entry"}),this._record(e,e=>{e.entry=!0})}filter(e,t,s,n){r.debug(t,{type:s,...n}),this._record(e,e=>{e[s].add(n)})}log(e,t,s,n,i){r.debug(t,{type:s,name:n,result:"full"===i?"pass":i}),this._record(e,e=>{e[s][n]=e[s][n]||0,e[s][n]|=r.codes[i]})}resolve(e,t,s){if(!e.mainstay.debug)return;const n={type:"resolve",ref:t.display,to:s,path:e.path};e.mainstay.debug.push(n)}value(e,t,s,i,a){if(!e.mainstay.debug||n(s,i))return;const r={type:"value",by:t,from:s,to:i,path:e.path};a&&(r.name=a),e.mainstay.debug.push(r)}_record(e,t){const s=this._sources.get(e);if(s)return void t(s);const n=this._combos.get(e);for(const e of n)this._record(e,t)}_scan(e,t){const s=t||[];let n=this._sources.get(e);n||(n={paths:new Set,entry:!1,rule:{},valid:new Set,invalid:new Set},this._sources.set(e,n)),s.length&&n.paths.add(s);e.$_modify({each:(e,t)=>{const n=r.id(e,t);this._scan(e,s.concat(n))},ref:!1})}_combine(e,t){this._combos.set(e,t)}},r.message=function(e){return`${e.paths?a.path(e.paths[0])+(e.rule?":":""):""}${e.rule||""} (${e.status})`},r.id=function(e,{source:t,name:s,path:n,key:i}){return e._flags.id?e._flags.id:i||(s=`@${s}`,"terms"===t?[s,n[Math.min(n.length-1,1)]]:s)},r.sub=function(e,t){for(const s of e)for(const e of t)if(n(s.slice(0,e.length),e))return!0;return!1},r.debug=function(e,t){e.mainstay.debug&&(t.path=e.debug?[...e.path,e.debug]:e.path,e.mainstay.debug.push(t))}},function(e,t,s){"use strict";const n=s(1),i=s(17),a=s(3),r={};e.exports=r.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=r.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){a.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,s){if(e=e||new r.Values,t){if(t._override)return t.clone();for(const s of[...t._values,...t._refs])e.add(s)}if(s)for(const t of[...s._values,...s._refs])e.remove(t);return e.length?e:null}remove(e){a.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,s,n){return!!this.get(e,t,s,n)}get(e,t,s,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const t of this._values)if(i(t,e))return{value:t};if(t)for(const a of this._refs){const r=a.resolve(e,t,s,null,{in:!0});if(void 0===r)continue;const o=a.in&&"object"==typeof r?Array.isArray(r)?r:Object.keys(r):[r];for(const t of o)if(typeof t==typeof e)if(n&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:a}}else if(i(t,e))return{value:t,ref:a}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new r.Values(this._values,this._refs);return e._override=this._override,e}concat(e){n(!e._override,"Cannot concat override set of values");const t=new r.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},r.Values.prototype[a.symbols.values]=!0,r.Values.prototype.slice=r.Values.prototype.clone,r.lowercases=function(e){const t=new Map;if(e)for(const s of e)"string"==typeof s&&t.set(s.toLowerCase(),s);return t}},function(e,t,s){"use strict";const n=s(47),i=s(1),a=s(4),r=s(38),o=s(8),c=s(3),l=s(19),u=s(11),p=s(12),d=s(16),h={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=o.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,{schema:t,error:s,state:n,prefs:i}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:s("object.base",{type:t.$_property("typeof")})};if(!(t.$_terms.renames||t.$_terms.dependencies||t.$_terms.keys||t.$_terms.patterns||t.$_terms.externals))return;e=h.clone(e,i);const a=[];if(t.$_terms.renames&&!h.rename(t,e,n,i,a))return{value:e,errors:a};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:a};const r=new Set(Object.keys(e));if(t.$_terms.keys){const s=[e,...n.ancestors];for(const o of t.$_terms.keys){const t=o.key,c=e[t];r.delete(t);const l=n.localize([...n.path,t],s,o),u=o.schema.$_validate(c,l,i);if(u.errors){if(i.abortEarly)return{value:e,errors:u.errors};a.push(...u.errors)}else"strip"===o.schema._flags.result||void 0===u.value&&void 0!==c?delete e[t]:void 0!==u.value&&(e[t]=u.value)}}if(r.size){const s=h.unknown(t,e,r,a,n,i);if(s)return s}if(t.$_terms.dependencies)for(const s of t.$_terms.dependencies){if(s.key&&void 0===s.key.resolve(e,n,i,null,{shadow:!1}))continue;const r=h.dependencies[s.rel](t,s,e,n,i);if(r){const s=t.$_createError(r.code,e,r.context,n,i);if(i.abortEarly)return{value:e,errors:s};a.push(s)}}return{value:e,errors:a}},rules:{and:{method(...e){return c.verifyFlat(e,"and"),h.dependency(this,"and",null,e)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,s){d.isTemplate(e)||(e=l.ref(e)),i(void 0===s||"string"==typeof s,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:s}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,{error:t,prefs:s,state:n},{subject:i,schema:a,message:r}){const o=i.resolve(e,n,s),c=p.isRef(i)?i.absolute(n):[];return a.$_match(o,n.localize(c,[e,...n.ancestors],a),s)?e:t("object.assert",{subject:i,message:r})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,{constructor:s,name:n})=>e instanceof s?e:t.error("object.instance",{type:n,value:e}),args:["constructor","name"]},keys:{method(e){i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!c.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(t=>!e.hasOwnProperty(t.key)):[];for(const s in e)c.tryWithPath(()=>t.$_terms.keys.push({key:s,schema:this.$_compile(e[s])}),s)}else t.$_terms.keys=[];else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:s},{name:n,operator:i,args:a})=>c.compare(Object.keys(e).length,s,i)?e:t.error("object."+n,{limit:a.limit,value:e}),args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return c.verifyFlat(e,"nand"),h.dependency(this,"nand",null,e)}},or:{method(...e){return c.verifyFlat(e,"or"),h.dependency(this,"or",null,e)}},oxor:{method(...e){return h.dependency(this,"oxor",null,e)}},pattern:{method(e,t,s={}){const n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),c.assertOptions(s,["fallthrough","matches"]),n&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const a=this.clone();a.$_terms.patterns=a.$_terms.patterns||[];const r={[n?"regex":"schema"]:e,rule:t};return s.matches&&(r.matches=this.$_compile(s.matches),"array"!==r.matches.type&&(r.matches=r.matches.$_root.array().items(r.matches)),a.$_mutateRegister(r.matches)),s.fallthrough&&(r.fallthrough=!0),a.$_terms.patterns.push(r),a.$_mutateRegister(t),a}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>p.isRef(e)?e:t.error("object.refType",{value:e})},rename:{method(e,t,s={}){i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof d,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),c.assertOptions(s,["alias","ignoreUndefined","override","multiple"]);const a=this.clone();a.$_terms.renames=a.$_terms.renames||[];for(const t of a.$_terms.renames)i(t.from!==e,"Cannot rename the same key multiple times");return t instanceof d&&a.$_mutateRegister(t),a.$_terms.renames.push({from:e,to:t,options:n(h.renameDefaults,s)}),a}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,{type:s})=>!c.isSchema(e)||"any"!==s&&e.type!==s?t.error("object.schema",{type:s}):e},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t,s={}){return h.dependency(this,"with",e,t,s)}},without:{method(e,t,s={}){return h.dependency(this,"without",e,t,s)}},xor:{method(...e){return c.verifyFlat(e,"xor"),h.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return void 0===e&&(e=c.symbols.deepDefault),this.$_super.default(e,t)}},rebuild(e){if(e.$_terms.keys){const t=new r;for(const s of e.$_terms.keys)c.tryWithPath(()=>t.add(s,{after:s.schema.$_rootReferences(),group:s.key}),s.key);e.$_terms.keys=new h.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:s,key:n=null,peers:i,options:a}of t.dependencies)e=h.dependency(e,s,n,i,a);if(t.patterns)for(const{regex:s,schema:n,rule:i,fallthrough:a,matches:r}of t.patterns)e=e.pattern(s||n,i,{fallthrough:a,matches:r});if(t.renames)for(const{from:s,to:n,options:i}of t.renames)e=e.rename(s,n,i);return e}},messages:{"object.and":'"{{#label}}" contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}',"object.assert":'"{{#label}}" is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":'"{{#label}}" must be of type {{#type}}',"object.instance":'"{{#label}}" must be an instance of "{{#type}}"',"object.length":'"{{#label}}" must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'"{{#label}}" must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'"{{#label}}" must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":'"{{#label}}" must contain at least one of {{#peersWithLabels}}',"object.nand":'"{{#mainWithLabel}}" must not exist simultaneously with {{#peersWithLabels}}',"object.oxor":'"{{#label}}" contains a conflict between optional exclusive peers {{#peersWithLabels}}',"object.pattern.match":'"{{#label}}" keys failed to match pattern requirements',"object.refType":'"{{#label}}" must be a Joi reference',"object.rename.multiple":'"{{#label}}" cannot rename "{{#from}}" because multiple renames are disabled and another key was already renamed to "{{#to}}"',"object.rename.override":'"{{#label}}" cannot rename "{{#from}}" because override is disabled and target "{{#to}}" exists',"object.schema":'"{{#label}}" must be a Joi schema of {{#type}} type',"object.unknown":'"{{#label}}" is not allowed',"object.with":'"{{#mainWithLabel}}" missing required peer "{{#peerWithLabel}}"',"object.without":'"{{#mainWithLabel}}" conflict with forbidden peer "{{#peerWithLabel}}"',"object.xor":'"{{#label}}" contains a conflict between exclusive peers {{#peersWithLabels}}'}}),h.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return a(e,{shallow:!0});const s=Object.create(Object.getPrototypeOf(e));return Object.assign(s,e),s}const s=function(...t){return e.apply(this,t)};return s.prototype=a(e.prototype),Object.defineProperty(s,"name",{value:e.name,writable:!1}),Object.defineProperty(s,"length",{value:e.length,writable:!1}),Object.assign(s,e),s},h.dependency=function(e,t,s,n,a){i(null===s||"string"==typeof s,t,"key must be a strings"),a||(a=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),c.assertOptions(a,["separator"]),n=[].concat(n);const r=c.default(a.separator,"."),o=[];for(const e of n)i("string"==typeof e,t,"peers must be a string or a reference"),o.push(l.ref(e,{separator:r,ancestor:0}));null!==s&&(s=l.ref(s,{separator:r,ancestor:0}));const u=e.clone();return u.$_terms.dependencies=u.$_terms.dependencies||[],u.$_terms.dependencies.push(new h.Dependency(t,s,o,n)),u},h.dependencies={and(e,t,s,n,i){const a=[],r=[],o=t.peers.length;for(const e of t.peers)void 0===e.resolve(s,n,i,null,{shadow:!1})?a.push(e.key):r.push(e.key);if(a.length!==o&&r.length!==o)return{code:"object.and",context:{present:r,presentWithLabels:h.keysToLabels(e,r),missing:a,missingWithLabels:h.keysToLabels(e,a)}}},nand(e,t,s,n,i){const a=[];for(const e of t.peers)void 0!==e.resolve(s,n,i,null,{shadow:!1})&&a.push(e.key);if(a.length!==t.peers.length)return;const r=t.paths[0],o=t.paths.slice(1);return{code:"object.nand",context:{main:r,mainWithLabel:h.keysToLabels(e,r),peers:o,peersWithLabels:h.keysToLabels(e,o)}}},or(e,t,s,n,i){for(const e of t.peers)if(void 0!==e.resolve(s,n,i,null,{shadow:!1}))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)}}},oxor(e,t,s,n,i){const a=[];for(const e of t.peers)void 0!==e.resolve(s,n,i,null,{shadow:!1})&&a.push(e.key);if(!a.length||1===a.length)return;const r={peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)};return r.present=a,r.presentWithLabels=h.keysToLabels(e,a),{code:"object.oxor",context:r}},with(e,t,s,n,i){for(const a of t.peers)if(void 0===a.resolve(s,n,i,null,{shadow:!1}))return{code:"object.with",context:{main:t.key.key,mainWithLabel:h.keysToLabels(e,t.key.key),peer:a.key,peerWithLabel:h.keysToLabels(e,a.key)}}},without(e,t,s,n,i){for(const a of t.peers)if(void 0!==a.resolve(s,n,i,null,{shadow:!1}))return{code:"object.without",context:{main:t.key.key,mainWithLabel:h.keysToLabels(e,t.key.key),peer:a.key,peerWithLabel:h.keysToLabels(e,a.key)}}},xor(e,t,s,n,i){const a=[];for(const e of t.peers)void 0!==e.resolve(s,n,i,null,{shadow:!1})&&a.push(e.key);if(1===a.length)return;const r={peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)};return 0===a.length?{code:"object.missing",context:r}:(r.present=a,r.presentWithLabels=h.keysToLabels(e,a),{code:"object.xor",context:r})}},h.keysToLabels=function(e,t){return Array.isArray(t)?t.map(t=>e.$_mapLabels(t)):e.$_mapLabels(t)},h.rename=function(e,t,s,n,i){const a={};for(const r of e.$_terms.renames){const o=[],c="string"!=typeof r.from;if(c)for(const e in t){if(void 0===t[e]&&r.options.ignoreUndefined)continue;if(e===r.to)continue;const s=r.from.exec(e);s&&o.push({from:e,to:r.to,match:s})}else!Object.prototype.hasOwnProperty.call(t,r.from)||void 0===t[r.from]&&r.options.ignoreUndefined||o.push(r);for(const l of o){const o=l.from;let u=l.to;if(u instanceof d&&(u=u.render(t,s,n,l.match)),o!==u){if(!r.options.multiple&&a[u]&&(i.push(e.$_createError("object.rename.multiple",t,{from:o,to:u,pattern:c},s,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,u)&&!r.options.override&&!a[u]&&(i.push(e.$_createError("object.rename.override",t,{from:o,to:u,pattern:c},s,n)),n.abortEarly))return!1;void 0===t[o]?delete t[u]:t[u]=t[o],a[u]=!0,r.options.alias||delete t[o]}}}return!0},h.unknown=function(e,t,s,n,i,a){if(e.$_terms.patterns){let r=!1;const o=e.$_terms.patterns.map(e=>{if(e.matches)return r=!0,[]}),c=[t,...i.ancestors];for(const r of s){const l=t[r],u=[...i.path,r];for(let p=0;p<e.$_terms.patterns.length;++p){const d=e.$_terms.patterns[p];if(d.regex){const e=d.regex.test(r);if(i.mainstay.tracer.debug(i,"rule",`pattern.${p}`,e?"pass":"error"),!e)continue}else if(!d.schema.$_match(r,i.nest(d.schema,`pattern.${p}`),a))continue;s.delete(r);const h=i.localize(u,c,{schema:d.rule,key:r}),m=d.rule.$_validate(l,h,a);if(m.errors){if(a.abortEarly)return{value:t,errors:m.errors};n.push(...m.errors)}if(d.matches&&o[p].push(r),t[r]=m.value,!d.fallthrough)break}}if(r)for(let s=0;s<o.length;++s){const r=o[s];if(!r)continue;const l=e.$_terms.patterns[s].matches,p=i.localize(i.path,c,l),d=l.$_validate(r,p,a);if(d.errors){const s=u.details(d.errors,{override:!1});s.matches=r;const o=e.$_createError("object.pattern.match",t,s,i,a);if(a.abortEarly)return{value:t,errors:o};n.push(o)}}}if(!s.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){const e=!!a.stripUnknown&&(!0===a.stripUnknown||!!a.stripUnknown.objects);for(const n of s)e?(delete t[n],s.delete(n)):"function"==typeof t[n]&&s.delete(n)}if(!c.default(e._flags.unknown,a.allowUnknown))for(const r of s){const s=i.localize([...i.path,r],[]),o=e.$_createError("object.unknown",t[r],{child:r},s,a,{flags:!1});if(a.abortEarly)return{value:t,errors:o};n.push(o)}},h.Dependency=class{constructor(e,t,s,n){this.rel=e,this.key=t,this.peers=s,this.paths=n}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options={separator:this.peers[0].separator}),e}},h.Keys=class extends Array{concat(e){const t=this.slice(),s=new Map;for(let e=0;e<t.length;++e)s.set(t[e].key,e);for(const n of e){const e=n.key,i=s.get(e);void 0!==i?t[i]={key:e,schema:t[i].schema.concat(n.schema)}:t.push(n)}return t}}},function(e,t,s){"use strict";const n=s(1),i=s(25),a={generate:function(){const e={},t="!\\$&'\\(\\)\\*\\+,;=",s="\\w-\\.~%\\dA-Fa-f"+t+":@",n="["+s+"]",i="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+i+"\\.){3}"+i;const a="[\\dA-Fa-f]{1,4}",r="(?:"+a+":"+a+"|"+e.ipv4address+")",o="(?:"+a+":){6}"+r,c="::(?:"+a+":){5}"+r,l="(?:"+a+")?::(?:"+a+":){4}"+r,u="(?:(?:"+a+":){0,1}"+a+")?::(?:"+a+":){3}"+r,p="(?:(?:"+a+":){0,2}"+a+")?::(?:"+a+":){2}"+r,d="(?:(?:"+a+":){0,3}"+a+")?::"+a+":"+r,h="(?:(?:"+a+":){0,4}"+a+")?::"+r;e.ipv4Cidr="\\d|[1-2]\\d|3[0-2]",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+o+"|"+c+"|"+l+"|"+u+"|"+p+"|"+d+"|"+h+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",e.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+t+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const m="[\\w-\\.~%\\dA-Fa-f"+t+":]*",f="(?:"+("\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]")+"|"+e.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",g="(?:"+m+"@)?"+f+"(?::\\d*)?",v="(?:"+m+"@)?("+f+")(?::\\d*)?",y=n+"*",b=n+"+",x="(?:\\/"+y+")*",_="\\/(?:"+b+x+")?",w=b+x;return e.hierPart="(?:(?:\\/\\/"+g+x+")|"+_+"|"+w+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",e.hierPartCapture="(?:(?:\\/\\/"+v+x+")|"+_+"|"+w+")",e.relativeRef="(?:(?:\\/\\/"+g+x+")|"+_+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*|)",e.query="["+s+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+s+"\\/\\?]*",e}};e.exports=t=a.rfc3986=a.generate(),a.createRegex=function(e){const t=a.rfc3986,s="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?$";if(e.relativeOnly)return new RegExp("^"+t.relativeRef+s);let r="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const s=[].concat(e.scheme);n(s.length>=1,"scheme must have at least 1 scheme specified");const a=[];for(let e=0;e<s.length;++e){const r=s[e];n(r instanceof RegExp||"string"==typeof r,"scheme at position "+e+" must be a RegExp or String"),r instanceof RegExp?a.push(r.source.toString()):(n(t.schemeRegex.test(r),"scheme at position "+e+" must be a valid scheme"),a.push(i(r)))}r=a.join("|")}const o="(?:"+(r?"(?:"+r+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",c=e.allowRelative?"(?:"+o+"|"+t.relativeRef+")":o,l=new RegExp("^"+c+s);return l.scheme=r,l},a.uriRegex=a.createRegex({}),t.createRegex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?a.createRegex(e):a.uriRegex}},function(e,t,s){"use strict";const n=s(6),i=s(0),a={maxLength:256,wildcards:["x","X","*"],any:Symbol("any"),versionRx:/^\s*[vV]?(\d+|[xX*])(?:\.(\d+|[xX*])(?:\.(\d+|[xX*])(?:\-?([^+]+))?(?:\+(.+))?)?)?\s*$/,strict:{tokenRx:/^[-\dA-Za-z]+(?:\.[-\dA-Za-z]+)*$/,numberRx:/^((?:0)|(?:[1-9]\d*))$/}};t.version=function(e,t){return new a.Version(e,t)},t.range=function(e){return new a.Range(e)},t.match=function(e,s){try{return t.range(s).match(e)}catch(e){return n.rethrow(e,"system"),!1}},a.Version=class{constructor(e,t={}){if(i.assert(e,"Missing version argument"),e instanceof a.Version)return e;"object"==typeof e?this._copy(e):this._parse(e,t),this.format()}_copy(e){this.major=void 0===e.major?a.any:e.major,this.minor=void 0===e.minor?a.any:e.minor,this.patch=void 0===e.patch?a.any:e.patch,this.prerelease=e.prerelease||[],this.build=e.build||[]}_parse(e,t){i.assert("string"==typeof e,"Version argument must be a string"),i.assert(e.length<=a.maxLength,"Version string too long");const s=e.match(a.versionRx);if(!s)throw new Error(`Invalid version string format: ${e}`);this.major=a.Version._number(s[1],"major",t),this.minor=a.Version._number(s[2]||"x","minor",t),this.patch=a.Version._number(s[3]||"x","patch",t),this.prerelease=a.Version._sub(s[4],"prerelease",t),this.build=a.Version._sub(s[5],"build",t)}static _number(e,t,s){if(a.wildcards.includes(e))return a.any;s.strict&&i.assert(e.match(a.strict.numberRx),"Value must be 0 or a number without a leading zero:",t);const n=parseInt(e,10);return i.assert(n<=Number.MAX_SAFE_INTEGER,"Value must be positive and less than max safe integer:",t),n}static _sub(e,t,s){if(!e)return[];s.strict&&i.assert(e.match(a.strict.tokenRx),"Value can only contain dot-separated hyphens, digits, a-z or A-Z:",t);const n=[],r=e.split(".");for(const e of r){if(!e)throw new Error(`Invalid empty ${t} segment`);n.push(e.match(/^\d+$/)?a.Version._number(e,t,{strict:s.strict}):e)}return n}format(){this.version=`${a.dot(this.major)}.${a.dot(this.minor)}.${a.dot(this.patch)}${a.token(this.prerelease,"-")}${a.token(this.build,"+")}`,this.dots=[this.major,this.minor,this.patch],this.wildcard=this.major===a.any&&this.minor===a.any&&this.patch===a.any&&!this.prerelease.length}toString(){return this.version}compare(e,t){return a.Version.compare(this,e,t)}static compare(e,s,n={}){let i=-1,r=1;e=t.version(e,n),s=t.version(s,n),!n.range||!e.prerelease.length||e.major===s.major&&e.minor===s.minor&&e.patch===s.patch&&s.prerelease.length||(i=-2,r=2);for(let t=0;t<3;++t){const n=e.dots[t],o=s.dots[t];if(n!==o&&n!==a.any&&o!==a.any)return n-o<0?i:r}if(!e.prerelease.length&&!s.prerelease.length)return 0;if(!!e.prerelease.length!=!!s.prerelease.length)return e.prerelease.length?i:r;for(let t=0;;++t){const n=e.prerelease[t],a=s.prerelease[t];if(void 0===n&&void 0===a)return 0;if(n===a)continue;if(void 0===n)return i;if(void 0===a)return r;const o=Number.isFinite(n);return o!==Number.isFinite(a)?o?i:r:e<s?i:r}}},a.dot=e=>e===a.any?"x":e,a.token=(e,t)=>e.length?`${t}${e.join(".")}`:"",a.Range=class{constructor(e,t){this._settings=Object.assign({},t),this._anything=!1,this._or=[],this._active=null,void 0!==e&&this.pattern(e),this._another()}_another(){return this._active&&!this._active.rules.length||(this._active={rules:[]},this._or.push(this._active)),this}_rule(e,s){s=t.version(s,this._settings);const n=a.operator(e);return this._active.rules.push({compare:n,version:s,operator:e}),this}get or(){return this._another()}equal(e){return this._rule("=",e)}above(e){return this._rule(">",e)}below(e){return this._rule("<",e)}between(e,t){return this._rule(">=",e),this._rule("<=",t),this}minor(e){return(e=t.version(e,this._settings)).major===a.any?(this._rule("=",e),this):(this._rule(">=",e),e.minor===a.any?this._rule("<",{major:e.major+1,minor:0,patch:0}):this._rule("<",{major:e.major,minor:e.minor+1,patch:0}),this)}compatible(e){return(e=t.version(e,this._settings)).major===a.any?(this._rule("=",e),this):(this._rule(">=",e),0===e.major&&e.minor!==a.any?0===e.minor?this._rule("<",{major:0,minor:0,patch:e.patch+1}):this._rule("<",{major:0,minor:e.minor+1,patch:0}):this._rule("<",{major:e.major+1,minor:0,patch:0}),this)}pattern(e){try{return this._pattern(e),this}catch(t){throw new Error(`Invalid range: "${e}" because: ${t.message}`)}}_pattern(e){if(""===e)return void(this._anything=!0);const s=a.normalize(e).split(/\s*\|\|\s*/);for(const e of s){if(!e)return void(this._anything=!0);this._another();const s=e.split(/\s+/);for(const e of s){const s=e.indexOf("@");if(-1!==s){const t=e.slice(0,s),n=e.slice(s+1);this.between(t,n);continue}const n=e.match(/^(\^|~|<\=|>\=|<|>|\=)?(.+)$/),i=n[1],a=t.version(n[2],this._settings);if(a.wildcard)return void(this._anything=!0);"~"!==i?"^"!==i?i?this._rule(i,a):this.equal(a):this.compatible(a):this.minor(a)}}}match(e){if(e=t.version(e,this._settings),this._anything)return!e.prerelease.length;for(const{rules:t}of this._or){if(!t.length)continue;let s=0,n=0;for(const i of t){const t=e.compare(i.version,Object.assign(this._settings,{range:!0})),a=2===Math.abs(t);if(!i.compare.includes(t/(a?2:1)))break;++s,a&&++n}if(s===t.length&&n<s)return!0}return!1}toString(){if(this._anything)return"*";let e="";for(const{rules:t}of this._or){if(!t.length)continue;const s=[];for(const e of t)s.push(`${"="!==e.operator?e.operator:""}${e.version.version}`);e+=(e?"||":"")+s.join(" ")}return e}},a.operator=function(e){switch(e){case"=":return[0];case">":return[1];case">=":return[0,1];case"<":return[-1];case"<=":return[0,-1]}},a.normalize=function(e){return e.replace(/ \- /g,"@").replace(/~>/g,"~").replace(/(\^|~|<\=|>\=|<|>|\=)\s*([^\s]+)/g,(e,t,s)=>`${t}${s}`)}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("https")},function(e,t,s){"use strict";const n=s(145),i=s(146);t.Client=n,t.Policy=t.policy=i},function(e,t){e.exports=require("querystring")},function(e,t,s){"use strict";const n=s(30),i=s(2),a={};t.randomString=function(e){return t.randomBits(6*(e+1)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"").slice(0,e)},t.randomDigits=function(e){const t=[];let s=a.random(2*e),n=0;for(;t.length<e;)n>=s.length&&(s=a.random(2*e),n=0),s[n]<250&&t.push(s[n]%10),++n;return t.join("")},t.randomBits=function(e){if(!e||e<0)throw i.internal("Invalid random bits count");const t=Math.ceil(e/8);return a.random(t)},t.fixedTimeComparison=function(e,t){try{return n.timingSafeEqual(Buffer.from(e),Buffer.from(t))}catch(e){return!1}},a.random=function(e){try{return n.randomBytes(e)}catch(e){throw i.internal("Failed generating random bits: "+e.message)}}},function(e,t,s){"use strict";const n=s(0),i=s(154),a=s(155);t.decode=i.decode,t.encode=a.encode,t.Decoder=i.Decoder,t.Encoder=a.Encoder,t.base64urlEncode=function(e,t){return n.assert("string"==typeof e||Buffer.isBuffer(e),"value must be string or buffer"),(Buffer.isBuffer(e)?e:Buffer.from(e,t||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(e,t){if("string"!=typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");const s=Buffer.from(e,"base64");return"buffer"===t?s:s.toString(t||"binary")}},function(e,t,s){"use strict";const n=s(2),i=s(6),a=s(0),r=s(20),o={missing:Symbol("missing")};e.exports=o.Auth=class{constructor(e){this._core=e,this._schemes={},this._strategies={},this.settings={default:null},this.api={}}scheme(e,t){a.assert(e,"Authentication scheme must have a name"),a.assert(!this._schemes[e],"Authentication scheme name already exists:",e),a.assert("function"==typeof t,"scheme must be a function:",e),this._schemes[e]=t}_strategy(e,t,s,n={}){a.assert(t,"Authentication strategy must have a name"),a.assert("object"==typeof n,"options must be an object"),a.assert(!this._strategies[t],"Authentication strategy name already exists"),a.assert(s,"Authentication strategy",t,"missing scheme"),a.assert(this._schemes[s],"Authentication strategy",t,"uses unknown scheme:",s),e=e._clone();const i=this._schemes[s](e,n);a.assert(i.authenticate,"Invalid scheme:",t,"missing authenticate() method"),a.assert("function"==typeof i.authenticate,"Invalid scheme:",t,"invalid authenticate() method"),a.assert(!i.payload||"function"==typeof i.payload,"Invalid scheme:",t,"invalid payload() method"),a.assert(!i.response||"function"==typeof i.response,"Invalid scheme:",t,"invalid response() method"),i.options=i.options||{},a.assert(i.payload||!i.options.payload,"Cannot require payload validation without a payload method"),this._strategies[t]={methods:i,realm:e.realm},i.api&&(this.api[t]=i.api)}default(e){a.assert(!this.settings.default,"Cannot set default strategy more than once"),e=r.apply("auth",e,"default strategy"),this.settings.default=this._setupRoute(a.clone(e));const t=this._core.router.table();for(const e of t)e.rebuild()}async test(e,t){a.assert(e,"Missing authentication strategy name");const s=this._strategies[e];a.assert(s,"Unknown authentication strategy:",e);const n=s.methods,i=s.realm,r=await t._core.toolkit.execute(s.methods.authenticate,t,{bind:n,realm:i,auth:!0});if(!r.isAuth)throw r;if(r.error)throw r.error;return r.data}async verify(e){const t=e.auth;if(t.error)throw t.error;if(!t.isAuthenticated)return;const s=this._strategies[t.strategy];if(a.assert(s,"Unknown authentication strategy:",t.strategy),!s.methods.verify)return;const n=s.methods;await s.methods.verify.call(n,t)}static testAccess(e,t){const s=e._core.auth;try{return s._access(e,t)}catch(e){return i.rethrow(e,"system"),!1}}_setupRoute(e,t){if(!e)return e;if("string"==typeof e?e={strategies:[e]}:e.strategy&&(e.strategies=[e.strategy],delete e.strategy),t&&!e.strategies&&(a.assert(this.settings.default,"Route missing authentication strategy and no default defined:",t),e=a.applyToDefaults(this.settings.default,e)),t=t||"default strategy",a.assert(e.strategies&&e.strategies.length,"Missing authentication strategy:",t),e.mode=e.mode||"required",void 0===e.entity&&void 0===e.scope||(e.access=[{entity:e.entity,scope:e.scope}],delete e.entity,delete e.scope),e.access)for(const t of e.access)t.scope=o.setupScope(t);!0===e.payload&&(e.payload="required");let s=!1;for(const n of e.strategies){const i=this._strategies[n];a.assert(i,"Unknown authentication strategy",n,"in",t),a.assert(i.methods.payload||"required"!==e.payload,"Payload validation can only be required when all strategies support it in",t),s=s||i.methods.payload,a.assert(!i.methods.options.payload||void 0===e.payload||"required"===e.payload,"Cannot set authentication payload to",e.payload,"when a strategy requires payload validation in",t)}return a.assert(!e.payload||s,"Payload authentication requires at least one strategy with payload support in",t),e}lookup(e){return!1!==e.settings.auth&&(e.settings.auth||this.settings.default)}_enabled(e,t){const s=this.lookup(e);if(!s)return!1;if("authenticate"===t)return!0;if("access"===t)return!!s.access;for(const e of s.strategies){if(this._strategies[e].methods[t])return!0}return!1}static authenticate(e){return e._core.auth._authenticate(e)}async _authenticate(e){const t=this.lookup(e.route),s=[];if(e.auth.mode=t.mode,e.auth.credentials)return void o.validate(null,{credentials:e.auth.credentials,artifacts:e.auth.artifacts},e.auth.strategy,t,e,s);for(const n of t.strategies){const i=this._strategies[n],a=i.methods,r=i.realm,c=await e._core.toolkit.execute(i.methods.authenticate,e,{bind:a,realm:r,auth:!0}),l=c.isAuth?o.validate(c.error,c.data,n,t,e,s):o.validate(c,null,n,t,e,s);if(!l)return;if(l!==o.missing)return l}const i=n.unauthorized("Missing authentication",s);if("required"===t.mode)throw i;e.auth.isAuthenticated=!1,e.auth.credentials=null,e.auth.error=i,e._log(["auth","unauthenticated"])}static access(e){const t=e._core.auth;e.auth.isAuthorized=t._access(e)}_access(e,t){const s=this.lookup(t||e.route);if(!s||!s.access)return!0;const i=e.auth.credentials;if(!i){if("required"!==s.mode)return!1;throw n.forbidden("Request is unauthenticated")}const a=i.user?"user":"app",r=[];for(const t of s.access){const s=t.entity;if(s&&"any"!==s&&s!==a)continue;let n=t.scope;if(n){if(!i.scope){r.push(n);continue}if(n=o.expandScope(e,n),!o.validateScope(i,n,"required")||!o.validateScope(i,n,"selection")||!o.validateScope(i,n,"forbidden")){r.push(n);continue}}return!0}if(r.length)throw e._log(["auth","scope","error"]),n.forbidden("Insufficient scope",{got:i.scope,need:r});if("app"===a)throw e._log(["auth","entity","user","error"]),n.forbidden("Application credentials cannot be used on a user endpoint");throw e._log(["auth","entity","app","error"]),n.forbidden("User credentials cannot be used on an application endpoint")}static async payload(e){if(!e.auth.isAuthenticated)return;const t=e._core.auth,s=t._strategies[e.auth.strategy];if(a.assert(s,"Unknown authentication strategy:",e.auth.strategy),!s.methods.payload)return;const i=t.lookup(e.route).payload||!!s.methods.options.payload&&"required";if(!i)return;const r=s.methods,o=s.realm,c=await e._core.toolkit.execute(s.methods.payload,e,{bind:r,realm:o});return c.isBoom&&c.isMissing?"optional"===i?void 0:n.unauthorized("Missing payload authentication"):c}static async response(e){const t=e._core.auth;if(!e.auth.isAuthenticated)return;const s=t._strategies[e.auth.strategy];if(a.assert(s,"Unknown authentication strategy:",e.auth.strategy),!s.methods.response)return;const n=s.methods,i=s.realm,r=await e._core.toolkit.execute(s.methods.response,e,{bind:n,realm:i,continue:"undefined"});if(r)throw r}},o.setupScope=function(e){if(!e.scope)return!1;const t={};for(const s of e.scope){const e=s[0],n="+"===e?"required":"!"===e?"forbidden":"selection",i="selection"===n?s:s.slice(1);t[n]=t[n]||[],t[n].push(i),t._hasParameters&&t._hasParameters[n]||!/{([^}]+)}/.test(i)||(t._hasParameters=t._hasParameters||{},t._hasParameters[n]=!0)}return t},o.validate=function(e,t,s,n,i,a){if(t=t||{},e){if(e instanceof Error==!1)return i._log(["auth","unauthenticated","response",s],{statusCode:e.statusCode}),e;if(e.isMissing)return i._log(["auth","unauthenticated","missing",s],e),a.push(e.output.headers["WWW-Authenticate"]),o.missing;if("try"===n.mode)return i.auth.isAuthenticated=!1,i.auth.strategy=s,i.auth.credentials=t.credentials,i.auth.artifacts=t.artifacts,i.auth.error=e,void i._log(["auth","unauthenticated","try",s],e);throw i._log(["auth","unauthenticated","error",s],e),e}const r=t.credentials;i.auth.strategy=s,i.auth.credentials=r,i.auth.artifacts=t.artifacts,i.auth.isAuthenticated=!0},o.expandScope=function(e,t){if(!t._hasParameters)return t;return{required:o.expandScopeType(e,t,"required"),selection:o.expandScopeType(e,t,"selection"),forbidden:o.expandScopeType(e,t,"forbidden")}},o.expandScopeType=function(e,t,s){if(!t._hasParameters[s])return t[s];const n=[],i={params:e.params,query:e.query,payload:e.payload,credentials:e.auth.credentials};for(const e of t[s])n.push(a.reachTemplate(i,e));return n},o.validateScope=function(e,t,s){if(!t[s])return!0;const n="string"==typeof e.scope?-1!==t[s].indexOf(e.scope)?1:0:a.intersect(t[s],e.scope).length;return"forbidden"===s?0===n:"required"===s?n===t.required.length:!!n}},function(e,t){e.exports=require("fs")},function(e,t,s){"use strict";const n=s(2),i={contentTypeRegex:/^([^\/\s]+\/[^\s;]+)(.*)?$/,paramsRegex:/;\s*boundary=(?:"([^"]+)"|([^;"\s]+))/i};t.type=function(e){if(!e)throw n.badRequest("Invalid content-type header");const t=e.match(i.contentTypeRegex);if(!t)throw n.badRequest("Invalid content-type header");const s={mime:t[1].toLowerCase()};if(0===s.mime.indexOf("multipart/")){const e=t[2];if(e){const t=e.match(i.paramsRegex);t&&(s.boundary=t[1]||t[2])}if(!s.boundary)throw n.badRequest("Invalid content-type header: multipart missing boundary")}return s},i.contentDispositionRegex=/^\s*form-data\s*(?:;\s*(.+))?$/i,i.contentDispositionParamRegex=/([^\=\*\s]+)(\*)?\s*\=\s*(?:([^;'"\s]+\'[\w-]*\'[^;\s]+)|(?:\"([^"]*)\")|([^;\s]*))(?:\s*(?:;\s*)|$)/g,t.disposition=function(e){if(!e)throw n.badRequest("Missing content-disposition header");const t=e.match(i.contentDispositionRegex);if(!t)throw n.badRequest("Invalid content-disposition header format");const s=t[1];if(!s)throw n.badRequest("Invalid content-disposition header missing parameters");const a={};if(s.replace(i.contentDispositionParamRegex,(e,t,s,i,r,o)=>{if(s){if(!i)throw n.badRequest("Invalid content-disposition header format includes invalid parameters");try{a[t]=decodeURIComponent(i.split("'")[2])}catch(e){throw n.badRequest("Invalid content-disposition header format includes invalid parameters")}}else a[t]=r||o||""}),!a.name)throw n.badRequest("Invalid content-disposition header missing name parameter");return a}},function(e,t,s){"use strict";const n=s(5);e.exports={}.Payload=class extends n.Readable{constructor(e,t){super();const s=[].concat(e||"");let n=0;for(let e=0;e<s.length;++e){const t=s[e];n+=t.length,s[e]=Buffer.isBuffer(t)?t:Buffer.from(t)}this._data=Buffer.concat(s,n),this._position=0,this._encoding=t||"utf8"}_read(e){const t=this._data.slice(this._position,this._position+e);this.push(t,this._encoding),this._position=this._position+t.length,this._position>=this._data.length&&this.push(null)}}},function(e,t,s){"use strict";const n=s(80),i={team:Symbol("team")};t.isStream=function(e){return e&&"object"==typeof e&&"function"==typeof e.pipe},t.drain=function(e){const t=new n;return e[i.team]=t,e.on("readable",i.read),e.on("error",i.end),e.on("end",i.end),e.on("close",i.end),t.work},i.read=function(){for(;this.read(););},i.end=function(){this.removeListener("readable",i.read),this.removeListener("error",i.end),this.removeListener("end",i.end),this.removeListener("close",i.end),this[i.team].attend()}},function(e,t,s){"use strict";const n={};e.exports=n.Team=class{constructor(e){this._init(e)}_init(e={}){this.work=new Promise((e,t)=>{this._resolve=e,this._reject=t});const t=e.meetings||1;this._meetings=t,this._count=t,this._notes=[]}attend(e){return e instanceof Error?this._reject(e):(this._notes.push(e),--this._count?void 0:this._resolve(1===this._meetings?this._notes[0]:this._notes))}async regroup(e){await this.work,this._init(e)}},Object.defineProperties(n.Team,{__esModule:{value:!0},default:{value:n.Team},Teamwork:{value:n.Team}})},function(e,t,s){"use strict";const n=s(26),i=s(2),a=s(6),r=s(0),o=s(29),c=s(31),l=s(32),u=s(174),p={events:o.validate(["finish",{name:"peek",spread:!0},"disconnect"]),reserved:["server","url","query","path","method","mime","setUrl","setMethod","headers","id","app","plugins","route","auth","pre","preResponses","info","orig","params","paramsArray","payload","state","jsonp","response","raw","domain","log","logs","generateResponse"]};e.exports=p.Request=class{constructor(e,t,s,n){this._allowInternals=!!n.allowInternals,this._core=e._core,this._entity=null,this._eventContext={request:this},this._events=null,this._expectContinue=!!n.expectContinue,this._isPayloadPending=!(!t.headers["content-length"]&&!t.headers["transfer-encoding"]),this._isReplied=!1,this._route=this._core.router.specials.notFound.route,this._serverTimeoutId=null,this._states={},this._urlError=null,this.app=n.app?Object.assign({},n.app):{},this.headers=t.headers,this.info=p.info(this._core,t),this.jsonp=null,this.logs=[],this.method=t.method.toLowerCase(),this.mime=null,this.orig={},this.params=null,this.paramsArray=null,this.path=null,this.payload=null,this.plugins=n.plugins?Object.assign({},n.plugins):{},this.pre={},this.preResponses={},this.raw={req:t,res:s},this.response=null,this.route=this._route.public,this.query=null,this.server=e,this.state=null,this.url=null,this.auth={isAuthenticated:!1,isAuthorized:!1,credentials:n.auth?n.auth.credentials:null,artifacts:n.auth&&n.auth.artifacts||null,strategy:n.auth?n.auth.strategy:null,mode:null,error:null},n.auth&&(this.auth.isInjected=!0),this._initializeUrl()}static generate(e,t,s,n){const i=new e._core.Request(e,t,s,n);if(e._core._decorations.requestApply)for(const t in e._core._decorations.requestApply){const s=e._core._decorations.requestApply[t];i[t]=s(i)}return i._listen(),i}get events(){return this._events||(this._events=new o(p.events)),this._events}_initializeUrl(){try{this._setUrl(this.raw.req.url,this._core.settings.router.stripTrailingSlash)}catch(e){this.path=this.raw.req.url,this.query={},this._urlError=i.boomify(e,{statusCode:400,override:!1})}}setUrl(e,t){r.assert(null===this.params,"Cannot change request URL after routing"),e instanceof n.URL&&(e=e.href),r.assert("string"==typeof e,"Url must be a string or URL object"),this._setUrl(e,t),this._urlError=null}_setUrl(e,t){const s="/"===e[0]?`${this._core.info.protocol}://${this.info.host||`${this._core.info.host}:${this._core.info.port}`}`:"";e=new n.URL(s+e);let i=this._core.router.normalize(e.pathname);t&&i.length>1&&"/"===i[i.length-1]&&(i=i.slice(0,-1)),e.pathname=i,this.query=this._parseQuery(e.searchParams),this.url=e,this.path=i,this.info.hostname=e.hostname,this.info.host=e.host}_parseQuery(e){let t=Object.create(null);for(let[s,n]of e){const e=t[s];void 0!==e&&(n=[].concat(e,n)),t[s]=n}const s=this._core.settings.query.parser;if(s&&(!(t=s(t))||"object"!=typeof t))throw i.badImplementation("Parsed query must be an object");return t}setMethod(e){r.assert(null===this.params,"Cannot change request method after routing"),r.assert(e&&"string"==typeof e,"Missing method"),this.method=e.toLowerCase()}active(){return!!this._eventContext.request}async _execute(){this.info.acceptEncoding=this._core.compression.accept(this);try{await this._onRequest()}catch(e){return a.rethrow(e,"system"),this._reply(e)}this._lookup(),this._setTimeouts(),await this._lifecycle(),this._reply()}async _onRequest(){if(this._core.extensions.route.onRequest.nodes){const e=await this._invoke(this._core.extensions.route.onRequest);if(e){if(!p.skip(e))throw i.badImplementation("onRequest extension methods must return an error, a takeover response, or a continue signal");throw e}}if(this._urlError)throw this._urlError}_listen(){this._isPayloadPending&&this.raw.req.on("end",p.event.bind(this.raw.req,this._eventContext,"end")),this.raw.req.on("close",p.event.bind(this.raw.req,this._eventContext,"close")),this.raw.req.on("error",p.event.bind(this.raw.req,this._eventContext,"error")),this.raw.req.on("aborted",p.event.bind(this.raw.req,this._eventContext,"abort"))}_lookup(){const e=this._core.router.route(this.method,this.path,this.info.hostname);e.route.settings.isInternal&&!this._allowInternals||(this._route=e.route,this.route=this._route.public),this.params=e.params||{},this.paramsArray=e.paramsArray||[],this.route.settings.cors&&(this.info.cors={isOriginMatch:c.matchOrigin(this.headers.origin,this.route.settings.cors)})}_setTimeouts(){this.raw.req.socket&&void 0!==this.route.settings.timeout.socket&&this.raw.req.socket.setTimeout(this.route.settings.timeout.socket||0);let e=this.route.settings.timeout.server;if(!e)return;const t=Date.now()-this.info.received;(e=Math.floor(e-t))<=0?p.timeoutReply(this,e):this._serverTimeoutId=setTimeout(p.timeoutReply,e,this,e)}async _lifecycle(){for(const t of this._route._cycle){if(this._isReplied||!this._eventContext.request)return;try{var e=await("function"==typeof t?t(this):this._invoke(t))}catch(t){a.rethrow(t,"system"),e=l.wrap(t,this)}if(e&&e!==this._core.toolkit.continue)return p.skip(e)||(e=i.badImplementation("Lifecycle methods called before the handler can only return an error, a takeover response, or a continue signal")),void this._setResponse(e)}}async _invoke(e){for(const t of e.nodes){const s=t.realm,n=t.bind||s.settings.bind,i=await this._core.toolkit.execute(t.func,this,{bind:n,realm:s,timeout:t.timeout,name:e.type});if(i!==this._core.toolkit.continue){if(p.skip(i)||null===this.response)return i;this._setResponse(i)}}}async _reply(e){this._isReplied||(this._isReplied=!0,this._serverTimeoutId&&clearTimeout(this._serverTimeoutId),this._eventContext.request?(e&&this._setResponse(l.wrap(e,this)),"symbol"!=typeof this.response?(await this._postCycle(),this._eventContext.request&&"symbol"!=typeof this.response?(await u.send(this),this._finalize()):this._abort()):this._abort()):this._finalize())}async _postCycle(){for(const t of this._route._postCycle){if(!this._eventContext.request)return;try{var e=await("function"==typeof t?t(this):this._invoke(t))}catch(t){a.rethrow(t,"system"),e=l.wrap(t,this)}e&&e!==this._core.toolkit.continue&&this._setResponse(e)}}_abort(){this.response===this._core.toolkit.close&&this.raw.res.end(),this._finalize()}_finalize(){if(this.response&&500===this.response.statusCode&&this.response._error){const e=this.response._error.isDeveloperError?["internal","implementation","error"]:["internal","error"];this._log(e,this.response._error,"error")}this._eventContext.request=null,this.response&&this.response._close&&this.response._close(this),this.info.completed=Date.now(),this._core.events.emit("response",this),this._core.queue.release()}_setResponse(e){!this.response||this.response.isBoom||this.response===e||!e.isBoom&&this.response.source===e.source||this.response._close(this),this.info.completed?e._close&&e._close(this):this.response=e}_setState(e,t,s){const n={name:e,value:t};s&&(r.assert(!s.autoValue,"Cannot set autoValue directly in a response"),n.options=r.clone(s)),this._states[e]=n}_clearState(e,t={}){const s={name:e};s.options=r.clone(t),s.options.ttl=0,this._states[e]=s}_tap(){return this._events&&(this._events.hasListeners("peek")||this._events.hasListeners("finish"))?new l.Peek(this._events):null}log(e,t){return this._log(e,t,"app")}_log(e,t,s="internal"){if(!this._core.events.hasListeners("request")&&!this.route.settings.log.collect)return;Array.isArray(e)||(e=[e]);const n=Date.now(),i=t instanceof Error?"error":"data";let a=[this,{request:this.info.id,timestamp:n,tags:e,[i]:t,channel:s}];"function"==typeof t&&(a=()=>[this,{request:this.info.id,timestamp:n,tags:e,data:t(),channel:s}]),this.route.settings.log.collect&&("function"==typeof t&&(a=a()),this.logs.push(a[1])),this._core.events.emit({name:"request",channel:s,tags:e},a)}generateResponse(e,t){return new l(e,this,t)}},p.Request.reserved=p.reserved,p.info=function(e,t){const s=t.headers.host?t.headers.host.trim():"",n=Date.now(),i={received:n,remoteAddress:t.connection.remoteAddress,remotePort:t.connection.remotePort||"",referrer:t.headers.referrer||t.headers.referer||"",host:s,hostname:s.split(":")[0],id:`${n}:${e.info.id}:${e.requestCounter.value++}`,acceptEncoding:null,cors:null,responded:0,completed:0};return e.requestCounter.value>e.requestCounter.max&&(e.requestCounter.value=e.requestCounter.min),i},p.event=function({request:e},t,s){e&&(e._isPayloadPending=!1,"close"===t&&e.raw.res.finished||"end"!==t&&(e._log(s?["request","error"]:["request","error",t],s),"error"!==t&&(e._eventContext.request=null,"abort"===t&&e._events&&e._events.emit("disconnect"))))},p.timeoutReply=function(e,t){const s=Date.now()-e.info.received;e._log(["request","server","timeout","error"],{timeout:t,elapsed:s}),e._reply(i.serverUnavailable())},p.skip=function(e){return e.isBoom||e._takeover||"symbol"==typeof e}},function(e,t,s){"use strict";const n=s(5),i=s(0),a={Range:class{constructor(e,t){this.from=e,this.to=t}}};t.header=function(e,t){const s=e.split("=");if(2!==s.length||"bytes"!==s[0])return null;const n=t-1,i=[],r=s[1].match(/\d*\-\d*/g);for(let e=0;e<r.length;++e){let s,o,c=r[e];if(1===c.length)return null;if((c=c.split("-"))[0]&&(s=parseInt(c[0],10)),c[1]?(o=parseInt(c[1],10),void 0!==s?o>n&&(o=n):(s=t-o,o=n)):o=n,s>o)return null;i.push(new a.Range(s,o))}if(1===i.length)return i;i.sort((e,t)=>e.from-t.from);const o=[];for(let e=i.length-1;e>0;--e){const t=i[e],s=i[e-1];t.from<=s.to+1?s.to=t.to:o.unshift(t)}return o.unshift(i[0]),o},t.Stream=a.Stream=class extends n.Transform{constructor(e){if(!(e instanceof a.Range)){i.assert("object"==typeof e,'Expected "range" object');const t=e.from||0;i.assert("number"==typeof t,'"range.from" must be falsy, or a number'),i.assert(t===parseInt(t,10)&&t>=0,'"range.from" must be a positive integer');const s=e.to||0;i.assert("number"==typeof s,'"range.to" must be falsy, or a number'),i.assert(s===parseInt(s,10)&&s>=0,'"range.to" must be a positive integer'),i.assert(s>=t,'"range.to" must be greater than or equal to "range.from"'),e=new a.Range(t,s)}super(),this._range=e,this._next=0}processChunk(e){const t=this._next;if(this._next=this._next+e.length,this._next<=this._range.from||t>this._range.to)return;const s=Math.max(0,this._range.from-t),n=Math.min(e.length,this._range.to-t+1);this.push(e.slice(s,n))}_transform(e,t,s){try{this.processChunk(e)}catch(e){return s(e)}return s()}}},function(e,t,s){"use strict";const n=s(13),i=s(82),a=s(2),r=s(6),o=s(0),c=s(10),l=s(84),u=s(85),p={defaultMap:{gzip:".gz"}};p.schema=c.alternatives([c.string(),c.func(),c.object({path:c.alternatives(c.string(),c.func()).required(),confine:c.alternatives(c.string(),c.boolean()).default(!0),filename:c.string(),mode:c.string().valid("attachment","inline").allow(!1),lookupCompressed:c.boolean(),lookupMap:c.object().min(1).pattern(/.+/,c.string()),etagMethod:c.string().valid("hash","simple").allow(!1),start:c.number().integer().min(0).default(0),end:c.number().integer().min(c.ref("start"))}).with("filename","mode")]),t.handler=function(e,s){let n=c.attempt(s,p.schema,"Invalid file handler options ("+e.path+")");(n="object"!=typeof s?{path:s,confine:"."}:n).confine=!0===n.confine?".":n.confine,o.assert("string"!=typeof n.path||"/"!==n.path[n.path.length-1],"File path cannot end with a '/':",e.path);return e=>{const s="function"==typeof n.path?n.path(e):n.path;return t.response(s,n,e)}},t.load=function(e,s,n){const i=t.response(e,n,s,!0);return p.prepare(i)},t.response=function(e,t,s,i){if(o.assert(!t.mode||-1!==["attachment","inline"].indexOf(t.mode),"options.mode must be either false, attachment, or inline"),t.confine){const i=n.resolve(s.route.settings.files.relativeTo,t.confine);0!==(e=n.isAbsolute(e)?n.normalize(e):n.join(i,e)).lastIndexOf(i,0)&&(e=null)}else e=n.isAbsolute(e)?n.normalize(e):n.join(s.route.settings.files.relativeTo,e);const a={path:e,settings:t,stat:null,file:null},r=i?null:p.prepare;return s.generateResponse(a,{variety:"file",marshal:p.marshal,prepare:r,close:p.close})},p.prepare=async function(e){const t=e.source.path;if(null===t)throw a.forbidden(null,{code:"EACCES"});const s=e.source.file=new u.File(t);try{const i=await s.openStat("r"),a=e.source.settings.start||0;if(void 0!==e.source.settings.end?e.bytes(e.source.settings.end-a+1):e.bytes(i.size-a),e.headers["content-type"]||e.type(e.request.server.mime.path(t).type||"application/octet-stream"),e.header("last-modified",i.mtime.toUTCString()),e.source.settings.mode){const s=e.source.settings.filename||n.basename(t);e.header("content-disposition",e.source.settings.mode+"; filename="+encodeURIComponent(s))}return await l.apply(e,i),e}catch(t){throw p.close(e),t}},p.marshal=async function(e){if(e.source.settings.lookupCompressed&&!e.source.settings.start&&void 0===e.source.settings.end&&!1!==e.request.server.settings.compression){const t=e.source.settings.lookupMap||p.defaultMap,s=e.request.info.acceptEncoding,n=t.hasOwnProperty(s)?t[s]:null;if(n){const t=new u.File(`${e.source.path}${n}`);let i;try{i=await t.openStat("r")}catch(e){t.close(),r.ignore(e,"boom")}i&&(e.source.file.close(),e.source.file=t,e.bytes(i.size),e.header("content-encoding",s),e.vary("accept-encoding"))}}return p.createStream(e)},p.addContentRange=function(e){const t=e.request,s=e.headers["content-length"];let n=null;if(t.route.settings.response.ranges){if(t.headers.range&&s&&(!t.headers["if-range"]||t.headers["if-range"]===e.headers.etag)){const r=t.server.mime.type(e.headers["content-type"]||"application/octet-stream"),o=t.server.settings.compression&&r.compressible&&!e.headers["content-encoding"]?t.info.acceptEncoding:null;if("identity"===o||!o){const r=i.header(t.headers.range,s);if(!r){const e=a.rangeNotSatisfiable();throw e.output.headers["content-range"]="bytes */"+s,e}1===r.length&&(n=r[0],e.code(206),e.bytes(n.to-n.from+1),e.header("content-range","bytes "+n.from+"-"+n.to+"/"+s))}}e.header("accept-ranges","bytes")}return n},p.createStream=function(e){const t=e.source;o.assert(null!==t.file);const s=p.addContentRange(e),n={start:t.settings.start||0,end:t.settings.end};return s&&(n.end=s.to+n.start,n.start=s.from+n.start),t.file.createReadStream(n)},p.close=function(e){null!==e.source.file&&(e.source.file.close(),e.source.file=null)}},function(e,t,s){"use strict";const n=s(30),i=s(2),a=s(6),r=s(178),o={pendings:Object.create(null),streamEnd:function(e){return new Promise((t,s)=>{e.on("end",t),e.on("error",s)})},computeHashed:async function(e,t){const s=e.request.server.plugins.inert._etags;if(!s)return null;const n=[e.source.path,t.ino,t.size,t.mtime.getTime()].join("-"),i=s.get(n);if(i)return i;let a=o.pendings[n];if(a)return await a;return o.pendings[n]=a=(async()=>{try{const t=await o.hashFile(e);return s.set(n,t),t}finally{delete o.pendings[n]}})(),await a},hashFile:async function(e){const t=n.createHash("sha1");t.setEncoding("hex");const s=e.source.file.createReadStream({autoClose:!1});s.pipe(t);try{return await o.streamEnd(s),t.read()}catch(t){throw a.rethrow(t,"system"),i.boomify(t,{message:"Failed to hash file",data:{path:e.source.path}})}},computeSimple:function(e,t){return t.size.toString(16)+"-"+t.mtime.getTime().toString(16)}};t.apply=async function(e,t){const s=e.source.settings.etagMethod;if(!1===s)return;let n;null!==(n="simple"===s?o.computeSimple(e,t):await o.computeHashed(e,t))&&e.etag(n,{vary:!0})},t.Cache=r},function(e,t,s){"use strict";const n=s(76),i=s(27),a=s(2),r=s(6),o=s(0),c={methods:{promised:["open","close","fstat","readdir"],raw:["createReadStream"]}};t.File=function(e){this.path=e,this.fd=null},t.File.prototype.open=async function(e){o.assert(null===this.fd);try{this.fd=await t.open(this.path,e)}catch(e){const t={path:this.path};if(-1!==this.path.indexOf("\0")||"ENOENT"===e.code)throw a.notFound(null,t);if("EACCES"===e.code||"EPERM"===e.code)throw t.code=e.code,a.forbidden(null,t);throw a.boomify(e,{message:"Failed to open file",data:t})}},t.File.prototype.close=function(){null!==this.fd&&(r.background(t.close(this.fd)),this.fd=null)},t.File.prototype.stat=async function(){o.assert(null!==this.fd);try{const e=await t.fstat(this.fd);if(e.isDirectory())throw a.forbidden(null,{code:"EISDIR",path:this.path});return e}catch(e){throw this.close(this.fd),r.rethrow(e,["boom","system"]),a.boomify(e,{message:"Failed to stat file",data:{path:this.path}})}},t.File.prototype.openStat=async function(e){return await this.open(e),this.stat()},t.File.prototype.createReadStream=function(e){o.assert(null!==this.fd),e=Object.assign({fd:this.fd,start:0},e);const s=t.createReadStream(this.path,e);return!1!==e.autoClose&&(this.fd=null),s};for(let e=0;e<c.methods.raw.length;++e){const s=c.methods.raw[e];t[s]=n[s].bind(n)}for(let e=0;e<c.methods.promised.length;++e){const s=c.methods.promised[e];t[s]=i.promisify(n[s])}},function(e,t,s){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var s,o,c=r(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))i.call(s,u)&&(c[u]=s[u]);if(n){o=n(s);for(var p=0;p<o.length;p++)a.call(s,o[p])&&(c[o[p]]=s[o[p]])}}return c}},function(e,t){function s(e,t,s,n,i,a,r){try{var o=e[a](r),c=o.value}catch(e){return void s(e)}o.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){s(r,i,a,o,c,"next",e)}function c(e){s(r,i,a,o,c,"throw",e)}o(void 0)}))}}},function(e,t,s){"use strict";const n=s(94);t.Server=n,t.server=n},function(e,t,s){"use strict";const n=s(0),i=s(10),a=s(177),r=s(84),o=s(83),c={schema:i.object({etagsCacheMaxSize:i.number().integer().min(0).default(1e3)}).required(),fileMethod:function(e,t){return void 0!==(t=t||{}).confine&&!0!==t.confine||(t.confine="."),n.assert(void 0===t.end||+t.start<=+t.end,"options.start must be less than or equal to options.end"),this.response(o.response(e,t,this.request))}};t.plugin={name:"inert",pkg:s(182),once:!0,requirements:{hapi:">=17.7.0"},register(e,t){n.assert(0===Object.keys(t).length,"Inert does not support registration options");const s=i.attempt(n.reach(e.settings.plugins,"inert")||{},c.schema,'Invalid "inert" server options');e.expose("_etags",s.etagsCacheMaxSize>0?new r.Cache(s.etagsCacheMaxSize):null),e.decorate("handler","file",o.handler),e.decorate("handler","directory",a.handler),e.decorate("toolkit","file",c.fileMethod)}}},function(e,t,s){"use strict";e.exports=s(184)},function(e,t,s){"use strict";s.r(t);var n=s(46),i=s.n(n),a=s(87),r=s.n(a),o=s(13),c=s.n(o),l=s(88),u=s.n(l),p=s(89),d=s.n(p),h=s(14),m=s.n(h),f=s(90),g=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("h1",null,"Hello is my first component"),m.a.createElement("button",{onClick:function(){return console.log("Clcik")}},"Click Click"))},v=Object(f.renderToString)(m.a.createElement(g,null)),y='\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>React | SSR | HapiJS | Webpack</title>\n</head>\n<body>\n  '.concat(v,'\n  <script src="bundle.js"><\/script>\n</body>\n</html>\n'),b=function(){var e=r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.server({port:3e3,host:"localhost",debug:{request:["error"]}}),e.next=3,t.register(d.a);case 3:return t.route({path:"/{param*}",method:"GET",config:{handler:{directory:{path:c.a.resolve("public")}}}}),t.route({method:"GET",path:"/",options:{log:{collect:!0}},handler:function(e,t){return y}}),e.next=7,t.start();case 7:console.log("Server running on %s",t.info.uri);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();process.on("unhandledRejection",(function(e){console.log(e),process.exit(1)})),b()},,function(e,t,s){var n=function(e){"use strict";var t,s=Object.prototype,n=s.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(e,t,s,n){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),r=new R(n||[]);return a._invoke=function(e,t,s){var n=u;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw a;return O()}for(s.method=i,s.arg=a;;){var r=s.delegate;if(r){var o=E(r,s);if(o){if(o===m)continue;return o}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===u)throw n=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=d;var c=l(e,t,s);if("normal"===c.type){if(n=s.done?h:p,c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(n=h,s.method="throw",s.arg=c.arg)}}}(e,s,r),a}function l(e,t,s){try{return{type:"normal",arg:e.call(t,s)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",p="suspendedYield",d="executing",h="completed",m={};function f(){}function g(){}function v(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(j([])));x&&x!==s&&n.call(x,a)&&(y=x);var _=v.prototype=f.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e){var t;this._invoke=function(s,i){function a(){return new Promise((function(t,a){!function t(s,i,a,r){var o=l(e[s],e,i);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,r)}),(function(e){t("throw",e,a,r)})):Promise.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,r)}))}r(o.arg)}(s,i,t,a)}))}return t=t?t.then(a,a):a()}}function E(e,s){var n=e.iterator[s.method];if(n===t){if(s.delegate=null,"throw"===s.method){if(e.iterator.return&&(s.method="return",s.arg=t,E(e,s),"throw"===s.method))return m;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(n,e.iterator,s.arg);if("throw"===i.type)return s.method="throw",s.arg=i.arg,s.delegate=null,m;var a=i.arg;return a?a.done?(s[e.resultName]=a.value,s.next=e.nextLoc,"return"!==s.method&&(s.method="next",s.arg=t),s.delegate=null,m):a:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var s=e[a];if(s)return s.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function s(){for(;++i<e.length;)if(n.call(e,i))return s.value=e[i],s.done=!1,s;return s.value=t,s.done=!0,s};return r.next=r}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=_.constructor=v,v.constructor=g,v[o]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(A.prototype),A.prototype[r]=function(){return this},e.AsyncIterator=A,e.async=function(t,s,n,i){var a=new A(c(t,s,n,i));return e.isGeneratorFunction(s)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),_[o]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var s in e)t.push(s);return t.reverse(),function s(){for(;t.length;){var n=t.pop();if(n in e)return s.value=n,s.done=!1,s}return s.done=!0,s}},e.values=j,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var s in this)"t"===s.charAt(0)&&n.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var s=this;function i(n,i){return o.type="throw",o.arg=e,s.next=n,i&&(s.method="next",s.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===e)return this.complete(s.completion,s.afterLoc),S(s),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===e){var n=s.completion;if("throw"===n.type){var i=n.arg;S(s)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,s,n){return this.delegate={iterator:j(e),resultName:s,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,s){"use strict";const n=s(0),i=s(21),a=s(60),r=s(68),o=s(20),c=s(141),l=s(31),u=s(45),p=s(176),d=s(81),h=s(44),m={};e.exports=function(e){const t=new c(e);return new m.Server(t)},m.Server=class{constructor(e,t,s){this._core=e,this.app=e.app,this.auth=Object.create(this._core.auth),this.auth.strategy=this.auth._strategy.bind(this.auth,this),this.decorations=e.decorations,this.cache=m.cache(this),this.events=e.events,this.info=e.info,this.listener=e.listener,this.load=e.heavy.load,this.methods=e.methods.methods,this.mime=e.mime,this.plugins=e.plugins,this.registrations=e.registrations,this.settings=e.settings,this.states=e.states,this.type=e.type,this.version=p.version,this.realm={_extensions:{onPreAuth:new u("onPreAuth",e),onCredentials:new u("onCredentials",e),onPostAuth:new u("onPostAuth",e),onPreHandler:new u("onPreHandler",e),onPostHandler:new u("onPostHandler",e),onPreResponse:new u("onPreResponse",e)},modifiers:{route:{}},parent:s?s.realm:null,plugin:t,pluginOptions:{},plugins:{},_rules:null,settings:{bind:void 0,files:{relativeTo:void 0}}};for(const t of e.decorations.server)this[t]=e._decorations.server[t];e.registerServer(this)}_clone(e){return new m.Server(this._core,e,this)}bind(e){n.assert("object"==typeof e,"bind must be an object"),this.realm.settings.bind=e}control(e){n.assert(e instanceof m.Server,"Can only control Server objects"),this._core.controlled=this._core.controlled||[],this._core.controlled.push(e)}decoder(e,t){return this._core.compression.addDecoder(e,t)}decorate(e,t,s,i={}){n.assert(this._core.decorations[e],"Unknown decoration type:",e),n.assert(t,"Missing decoration property name"),n.assert("string"==typeof t||"symbol"==typeof t,"Decoration property must be a string or a symbol");const a=t.toString();n.assert("_"!==a[0],"Property name cannot begin with an underscore:",a);const r=this._core._decorations[e][t];i.extend?(n.assert("handler"!==e,"Cannot extent handler decoration:",a),n.assert(r,`Cannot extend missing ${e} decoration: ${a}`),n.assert("function"==typeof s,`Extended ${e} decoration method must be a function: ${a}`),s=s(r)):n.assert(void 0===r,`${e[0].toUpperCase()+e.slice(1)} decoration already defined: ${a}`),"handler"===e?(n.assert("function"==typeof s,"Handler must be a function:",a),n.assert(!s.defaults||"object"==typeof s.defaults||"function"==typeof s.defaults,"Handler defaults property must be an object or function"),n.assert(!i.extend,"Cannot extend handler decoration:",a)):"request"===e?(n.assert(-1===d.reserved.indexOf(t),"Cannot override built-in request interface decoration:",a),i.apply?(this._core._decorations.requestApply=this._core._decorations.requestApply||{},this._core._decorations.requestApply[t]=s):this._core.Request.prototype[t]=s):"toolkit"===e?n.assert(-1===this._core.toolkit.reserved.indexOf(t),"Cannot override built-in toolkit decoration:",a):("string"==typeof t?n.assert(-1===Object.getOwnPropertyNames(m.Server.prototype).indexOf(t),"Cannot override the built-in server interface method:",a):n.assert(-1===Object.getOwnPropertySymbols(m.Server.prototype).indexOf(t),"Cannot override the built-in server interface method:",a),this._core.instances.forEach(e=>{e[t]=s})),this._core._decorations[e][t]=s,this._core.decorations[e].push(t)}dependency(e,t){if(n.assert(this.realm.plugin,"Cannot call dependency() outside of a plugin"),n.assert(!t||"function"==typeof t,"Invalid after method"),"string"==typeof e)e={[e]:"*"};else if(Array.isArray(e)){const t={};for(const s of e)t[s]="*";e=t}this._core.dependencies.push({plugin:this.realm.plugin,deps:e}),t&&this.ext("onPreStart",t,{after:Object.keys(e)})}encoder(e,t){return this._core.compression.addEncoder(e,t)}event(e){this._core.events.registerEvent(e)}expose(e,t){n.assert(this.realm.plugin,"Cannot call expose() outside of a plugin");const s=this.realm.plugin;this._core.plugins[s]=this._core.plugins[s]||{},"string"==typeof e?this._core.plugins[s][e]=t:n.merge(this._core.plugins[s],e)}ext(e,t,s){"string"==typeof e&&(e={type:e,method:t,options:s}),e=o.apply("exts",e);for(const t of e)this._ext(t)}_ext(e){(e=Object.assign({},e)).realm=this.realm;const t=e.type;if(!this._core.extensions.server[t])return"plugin"===e.options.sandbox?(n.assert(this.realm._extensions[t],"Unknown event type",t),this.realm._extensions[t].add(e)):(n.assert(this._core.extensions.route[t],"Unknown event type",t),this._core.extensions.route[t].add(e));n.assert(!e.options.sandbox,"Cannot specify sandbox option for server extension"),n.assert("onPreStart"!==t||"stopped"===this._core.phase,"Cannot add onPreStart (after) extension after the server was initialized"),e.server=this,this._core.extensions.server[t].add(e)}async inject(e){let t=e;"string"==typeof t&&(t={url:t}),(!t.authority||t.auth||t.app||t.plugins||void 0!==t.allowInternals)&&(delete(t=Object.assign({},t)).auth,delete t.app,delete t.plugins,delete t.allowInternals,t.authority=t.authority||this._core.info.host+":"+this._core.info.port),n.assert(!e.credentials,"options.credentials no longer supported (use options.auth)"),e.auth&&(n.assert("object"==typeof e.auth,"options.auth must be an object"),n.assert(e.auth.credentials,"options.auth.credentials is missing"),n.assert(e.auth.strategy,"options.auth.strategy is missing"));const s=this._core._dispatch({auth:e.auth,allowInternals:e.allowInternals,app:e.app,plugins:e.plugins}),i=await a.inject(s,t),r=i.raw.res[o.symbol];return r&&(i.result=r.result,i.request=r.request,delete i.raw.res[o.symbol]),void 0===i.result&&(i.result=i.payload),i}log(e,t){return this._core.log(e,t)}lookup(e){n.assert(e&&"string"==typeof e,"Invalid route id:",e);const t=this._core.router.ids[e];return t?t.route.public:null}match(e,t,s){n.assert(e&&"string"==typeof e,"Invalid method:",e),n.assert(t&&"string"==typeof t&&"/"===t[0],"Invalid path:",t),n.assert(!s||"string"==typeof s,"Invalid host:",s);const i=this._core.router.route(e.toLowerCase(),t,s);return n.assert(i!==this._core.router.specials.badRequest,"Invalid path:",t),i===this._core.router.specials.notFound?null:i.route.public}method(e,t,s={}){return this._core.methods.add(e,t,s,this.realm)}path(e){n.assert(e&&"string"==typeof e,"relativeTo must be a non-empty string"),this.realm.settings.files.relativeTo=e}async register(e,t={}){(this.realm.modifiers.route.prefix||this.realm.modifiers.route.vhost)&&((t=n.clone(t)).routes=t.routes||{},t.routes.prefix=(this.realm.modifiers.route.prefix||"")+(t.routes.prefix||"")||void 0,t.routes.vhost=this.realm.modifiers.route.vhost||t.routes.vhost),t=o.apply("register",t),++this._core.registring;try{const s=[].concat(e);for(let e of s){e.plugin?e.plugin.register?"function"==typeof e&&(e=Object.assign({},e)):e={options:e.options,once:e.once,routes:e.routes,plugin:e.plugin.plugin}:e={plugin:e};const s=(e=o.apply("plugin",e)).plugin.name||e.plugin.pkg.name,i=this._clone(s);i.realm.modifiers.route.prefix=e.routes.prefix||t.routes.prefix,i.realm.modifiers.route.vhost=e.routes.vhost||t.routes.vhost,i.realm.pluginOptions=e.options||{};const a=e.plugin.requirements;if(n.assert(!a.node||r.match(process.version,a.node),"Plugin",s,"requires node version",a.node,"but found",process.version),n.assert(!a.hapi||r.match(this.version,a.hapi),"Plugin",s,"requires hapi version",a.hapi,"but found",this.version),this._core.registrations[s]){if(e.plugin.once||e.once||t.once)continue;n.assert(e.plugin.multiple,"Plugin",s,"already registered")}else this._core.registrations[s]={version:e.plugin.version||e.plugin.pkg.version,name:s,options:e.options};e.plugin.dependencies&&i.dependency(e.plugin.dependencies),await e.plugin.register(i,e.options||{})}}catch(e){throw e}finally{--this._core.registring}}route(e){n.assert("object"==typeof e,"Invalid route options"),e=[].concat(e);for(const t of e)if(Array.isArray(t.method))for(const e of t.method){const s=Object.assign({},t);s.method=e,this._addRoute(s,this)}else this._addRoute(t,this)}_addRoute(e,t){const s=new h(e,t),n=[].concat(s.settings.vhost||"*");for(const e of n){const t=this._core.router.add({method:s.method,path:s.path,vhost:e,analysis:s._analysis,id:s.settings.id},s);s.fingerprint=t.fingerprint,s.params=t.params}this.events.emit("route",s.public),l.options(s.public,t)}rules(e,t={}){n.assert(!this.realm._rules,"Server realm rules already defined");const s=o.apply("rules",t);if(s.validate){const e=s.validate.schema;s.validate.schema=i.compile(e)}this.realm._rules={processor:e,settings:s}}state(e,t){this.states.add(e,t)}table(e){return this._core.router.table(e)}start(){return this._core._start()}initialize(){return this._core._initialize()}stop(e){return this._core._stop(e)}},m.cache=e=>{const t=function(t,s){return this._core._cachePolicy(t,s,e.realm)};return t.provision=async t=>{const s=e._core._createCache(t);-1!==["initialized","starting","started"].indexOf(e._core.phase)&&await Promise.all(s.map(e=>e.start()))},t}},function(e,t,s){"use strict";const n={};e.exports=n.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=n.Bench.now()}elapsed(){return n.Bench.now()-this.ts}static now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}}},function(e,t,s){"use strict";const n=s(35);e.exports=function(){return new Promise(n)}},function(e,t,s){"use strict";const n=s(1),i=s(17),a=s(25),r=s(24),o={};e.exports=function(e,t,s={}){return"object"!=typeof t&&(t=[t]),n(!Array.isArray(t)||t.length,"Values array cannot be empty"),"string"==typeof e?o.string(e,t,s):Array.isArray(e)?o.array(e,t,s):(n("object"==typeof e,"Reference must be string or an object"),o.object(e,t,s))},o.array=function(e,t,s){if(Array.isArray(t)||(t=[t]),!e.length)return!1;if(s.only&&s.once&&e.length!==t.length)return!1;let n;const i=new Map;for(const e of t)if(s.deep&&e&&"object"==typeof e){n=n||o.compare(s);let t=!1;for(const[s,a]of i.entries())if(n(s,e)){++a.allowed,t=!0;break}t||i.set(e,{allowed:1,hits:0})}else{const t=i.get(e);t?++t.allowed:i.set(e,{allowed:1,hits:0})}let a=0;for(const t of e){let e;if(s.deep&&t&&"object"==typeof t){for(const[s,a]of i.entries())if(n(s,t)){e=a;break}}else e=i.get(t);if(e&&(++e.hits,++a,s.once&&e.hits>e.allowed))return!1}if(s.only&&a!==e.length)return!1;for(const e of i.values())if(e.hits!==e.allowed&&e.hits<e.allowed&&!s.part)return!1;return!!a},o.object=function(e,t,s){n(void 0===s.once,"Cannot use option once with object");const i=r.keys(e,s);if(!i.length)return!1;if(Array.isArray(t))return o.array(i,t,s);const a=Object.getOwnPropertySymbols(t).filter(e=>t.propertyIsEnumerable(e)),c=[...Object.keys(t),...a],l=o.compare(s),u=new Set(c);for(const n of i)if(u.has(n)){if(!l(t[n],e[n]))return!1;u.delete(n)}else if(s.only)return!1;return!u.size||!!s.part},o.string=function(e,t,s){if(""===e)return 1===t.length&&""===t[0]||!s.once&&!t.some(e=>""!==e);const i=new Map,r=[];for(const e of t)if(n("string"==typeof e,"Cannot compare string reference to non-string value"),e){const t=i.get(e);t?++t.allowed:(i.set(e,{allowed:1,hits:0}),r.push(a(e)))}else if(s.once||s.only)return!1;if(!r.length)return!0;const o=new RegExp(`(${r.join("|")})`,"g"),c=e.replace(o,(e,t)=>(++i.get(t).hits,""));if(s.only&&c)return!1;for(const e of i.values())if(e.hits!==e.allowed){if(e.hits<e.allowed&&!s.part)return!1;if(s.once)return!1}return!0},o.compare=function(e){if(!e.deep)return o.shallow;const t=void 0!==e.only,s=void 0!==e.part,n={prototype:t?e.only:!!s&&!e.part,part:t?!e.only:!!s&&e.part};return(e,t)=>i(e,t,n)},o.shallow=function(e,t){return e===t}},function(e,t,s){"use strict";const n=s(1);e.exports=function(e){return n(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}},function(e,t,s){"use strict";e.exports=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,e=>60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029")}},function(e,t,s){"use strict";const n={};e.exports=n.flatten=function(e,t){const s=t||[];for(let t=0;t<e.length;++t)Array.isArray(e[t])?n.flatten(e[t],s):s.push(e[t]);return s}},function(e,t,s){"use strict";const n={};e.exports=function(e,t,s={}){if(!e||!t)return s.first?null:[];const i=[],a=Array.isArray(e)?new Set(e):e,r=new Set;for(const e of t)if(n.has(a,e)&&!r.has(e)){if(s.first)return e;i.push(e),r.add(e)}return s.first?null:i},n.has=function(e,t){return"function"==typeof e.has?e.has(t):void 0!==e[t]}},function(e,t,s){"use strict";e.exports=function(e){if(e._hoekOnce)return e;let t=!1;const s=function(...s){t||(t=!0,e(...s))};return s._hoekOnce=!0,s}},function(e,t,s){"use strict";const n=s(15);e.exports=function(e,t,s){return t.replace(/{([^}]+)}/g,(t,i)=>{const a=n(e,i,s);return null==a?"":a})}},function(e,t,s){"use strict";e.exports=function(e){return new Promise(t=>setTimeout(t,e))}},function(e,t,s){"use strict";const n=s(0),i=s(51);t.concat=function(e,t){if(!t)return e;const s=Object.assign({},e),a=t.language;return Object.assign(s,t),a&&e&&e.language&&(s.language=n.applyToDefaults(e.language,a)),s[i.settingsCache]&&delete s[i.settingsCache],s}},function(e,t,s){"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',hasKnown:'does not contain at least one required match for type "{{!patternLabel}}"',hasUnknown:"does not contain at least one required match",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",oxor:"contains a conflict between optional exclusive peers {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",unsafe:"must be a safe number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",dataUri:"must be a valid dataUri string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"},symbol:{base:"must be a symbol",map:"must be one of {{map}}"}}},function(e,t,s){"use strict";const n=s(21);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),context:n.object(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(e,t,s){"use strict";const n=s(0),i=s(7),a={};a.Lazy=class extends i{constructor(){super(),this._type="lazy",this._flags.once=!0,this._cache=null}_init(e,t){return this.set(e,t)}_base(e,t,s){let n;if(this._cache)n=this._cache;else{const a={value:e},r=this._flags.lazy;if(!r)return a.errors=this.createError("lazy.base",null,t,s),a;if(!((n=r())instanceof i))return a.errors=this.createError("lazy.schema",{schema:n},t,s),a;this._flags.once&&(this._cache=n)}return n._validate(e,t,s)}set(e,t){if(n.assert("function"==typeof e,"You must provide a function as first argument"),n.assert(void 0===t||t&&"object"==typeof t&&!Array.isArray(t),"Options must be an object"),t){const e=Object.keys(t).filter(e=>!["once"].includes(e));n.assert(0===e.length,`Options contain unknown keys: ${e}`),n.assert(void 0===t.once||"boolean"==typeof t.once,'Option "once" must be a boolean')}const s=this.clone();return s._flags.lazy=e,t&&t.once!==s._flags.once&&(s._flags.once=t.once),s}},e.exports=new a.Lazy},function(e,t,s){"use strict";const n=s(18),i=s(0),a=s(7),r=s(22),o=s(9),c=s(37),l={fastSplice:function(e,t){let s=t;for(;s<e.length;)e[s++]=e[s];--e.length}};l.Array=class extends a{constructor(){super(),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(e,t,s){const i={value:e};if("string"==typeof e&&s.convert&&e.length>1&&("["===e[0]||/^\s*\[/.test(e)))try{i.value=n.parse(e)}catch(e){}let a=Array.isArray(i.value);const r=a;if(s.convert&&this._flags.single&&!a&&(i.value=[i.value],a=!0),!a)return i.errors=this.createError("array.base",null,t,s),i;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(r&&(i.value=i.value.slice(0)),i.errors=this._checkItems(i.value,r,t,s),i.errors&&r&&s.convert&&this._flags.single)){const e=i.errors;i.value=[i.value],i.errors=this._checkItems(i.value,r,t,s),i.errors&&(i.errors=e,i.value=i.value[0])}return i}_checkItems(e,t,s,n){const i=[];let a;const r=this._inner.requireds.slice(),o=this._inner.ordereds.slice(),u=[...this._inner.inclusions,...r];let p=e.length;for(let d=0;d<p;++d){a=!1;const h=e[d];let m=!1;const f=t?d:s.key,g=t?[...s.path,d]:s.path,v=new c(f,g,s.parent,s.reference);let y;if(!this._flags.sparse&&void 0===h){if(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly)return i;o.shift();continue}for(let e=0;e<this._inner.exclusions.length;++e)if(!(y=this._inner.exclusions[e]._validate(h,v,{})).errors){if(i.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:d,value:h},{key:s.key,path:v.path},n)),a=!0,n.abortEarly)return i;o.shift();break}if(a)continue;if(this._inner.ordereds.length){if(o.length>0){const t=o.shift();if((y=t._validate(h,v,n)).errors){if(i.push(this.createError("array.ordered",{pos:d,reason:y.errors,value:h},{key:s.key,path:v.path},n)),n.abortEarly)return i}else if(t._flags.strip)l.fastSplice(e,d),--d,--p;else{if(!this._flags.sparse&&void 0===y.value){if(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly)return i;continue}e[d]=y.value}continue}if(!this._inner.items.length){if(i.push(this.createError("array.orderedLength",{pos:d,limit:this._inner.ordereds.length},{key:s.key,path:v.path},n)),n.abortEarly)return i;continue}}const b=[];let x=r.length;for(let t=0;t<x;++t)if(!(y=b[t]=r[t]._validate(h,v,n)).errors){if(e[d]=y.value,m=!0,l.fastSplice(r,t),--t,--x,!this._flags.sparse&&void 0===y.value&&(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),n.abortEarly))return i;break}if(m)continue;const _=n.stripUnknown&&!!n.stripUnknown.arrays||!1;x=u.length;for(let o=0;o<x;++o){const c=u[o],f=r.indexOf(c);if(-1!==f)y=b[f];else if(!(y=c._validate(h,v,n)).errors){c._flags.strip?(l.fastSplice(e,d),--d,--p):this._flags.sparse||void 0!==y.value?e[d]=y.value:(i.push(this.createError("array.sparse",null,{key:s.key,path:v.path,pos:d},n)),a=!0),m=!0;break}if(1===x){if(_){l.fastSplice(e,d),--d,--p,m=!0;break}if(i.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:d,reason:y.errors,value:h},{key:s.key,path:v.path},n)),a=!0,n.abortEarly)return i;break}}if(!a&&(this._inner.inclusions.length&&!m)){if(_){l.fastSplice(e,d),--d,--p;continue}if(i.push(this.createError(t?"array.includes":"array.includesSingle",{pos:d,value:h},{key:s.key,path:v.path},n)),n.abortEarly)return i}}return r.length&&this._fillMissedErrors(i,r,s,n),o.length&&this._fillOrderedErrors(i,o,s,n),i.length?i:null}describe(){const e=super.describe();if(this._inner.ordereds.length){e.orderedItems=[];for(let t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(let t=0;t<this._inner.items.length;++t)e.items.push(this._inner.items[t].describe())}if(e.rules)for(let t=0;t<e.rules.length;++t){const s=e.rules[t];"has"===s.name&&(s.arg=s.arg.describe())}return e}items(...e){const t=this.clone();return i.flatten(e).forEach((e,s)=>{try{e=r.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=s+"."+e.path:e.path=s,e.message=`${e.message}(${e.path})`,e}t._inner.items.push(e),"required"===e._flags.presence?t._inner.requireds.push(e):"forbidden"===e._flags.presence?t._inner.exclusions.push(e.optional()):t._inner.inclusions.push(e)}),t}ordered(...e){const t=this.clone();return i.flatten(e).forEach((e,s)=>{try{e=r.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=s+"."+e.path:e.path=s,e.message=`${e.message}(${e.path})`,e}t._inner.ordereds.push(e)}),t}min(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("min",e,(function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e,value:a},n,i)}else a=e;return s.length>=a?s:this.createError("array.min",{limit:e,value:s},n,i)}))}max(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("max",e,(function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e.key},n,i)}else a=e;return s.length<=a?s:this.createError("array.max",{limit:e,value:s},n,i)}))}length(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._testUnique("length",e,(function(s,n,i){let a;if(t){if(a=e(n.reference||n.parent,i),!(Number.isSafeInteger(a)&&a>=0))return this.createError("array.ref",{ref:e.key},n,i)}else a=e;return s.length===a?s:this.createError("array.length",{limit:e,value:s},n,i)}))}has(e){try{e=r.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=`${e.message}(${e.path})`),e}return this._test("has",e,(function(t,s,n){if(t.some((t,i)=>{const a=new c(i,[...s.path,i],s.key,s.reference);return!e._validate(t,a,n).errors}))return t;const i=e._getLabel();return i?this.createError("array.hasKnown",{patternLabel:i},s,n):this.createError("array.hasUnknown",null,s,n)}))}unique(e,t){i.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),i.assert(void 0===t||"object"==typeof t,"configs must be an object");const s={ignoreUndefined:t&&t.ignoreUndefined||!1};return"string"==typeof e?s.path=e:"function"==typeof e&&(s.comparator=e),this._test("unique",s,(function(e,t,n){const a={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},r=s.comparator||i.deepEqual,o=s.ignoreUndefined;for(let l=0;l<e.length;++l){const u=s.path?i.reach(e[l],s.path):e[l],p=s.comparator?a.custom:a[typeof u];if(p)if(p instanceof Map){const i=p.entries();let a;for(;!(a=i.next()).done;)if(r(a.value[0],u)){const i=new c(t.key,[...t.path,l],t.parent,t.reference),r={pos:l,value:e[l],dupePos:a.value[1],dupeValue:e[a.value[1]]};return s.path&&(r.path=s.path),this.createError("array.unique",r,i,n)}p.set(u,l)}else{if((!o||void 0!==u)&&void 0!==p[u]){const i=new c(t.key,[...t.path,l],t.parent,t.reference),a={pos:l,value:e[l],dupePos:p[u],dupeValue:e[p[u]]};return s.path&&(a.path=s.path),this.createError("array.unique",a,i,n)}p[u]=l}}return e}))}sparse(e){const t=void 0===e||!!e;if(this._flags.sparse===t)return this;const s=this.clone();return s._flags.sparse=t,s}single(e){const t=void 0===e||!!e;if(this._flags.single===t)return this;const s=this.clone();return s._flags.single=t,s}_fillMissedErrors(e,t,s,n){const i=[];let a=0;for(let e=0;e<t.length;++e){const s=t[e]._getLabel();s?i.push(s):++a}i.length?a?e.push(this.createError("array.includesRequiredBoth",{knownMisses:i,unknownMisses:a},{key:s.key,path:s.path},n)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:i},{key:s.key,path:s.path},n)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:a},{key:s.key,path:s.path},n))}_fillOrderedErrors(e,t,s,n){const a=[];for(let e=0;e<t.length;++e){"required"===i.reach(t[e],"_flags.presence")&&a.push(t[e])}a.length&&this._fillMissedErrors(e,a,s,n)}},e.exports=new l.Array},function(e,t,s){"use strict";const n=s(0),i=s(7),a={Set:s(53)};a.Boolean=class extends i{constructor(){super(),this._type="boolean",this._flags.insensitive=!0,this._inner.truthySet=new a.Set,this._inner.falsySet=new a.Set}_base(e,t,s){const n={value:e};if("string"==typeof e&&s.convert){const t=this._flags.insensitive?e.toLowerCase():e;n.value="true"===t||"false"!==t&&e}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",{value:e},t,s),n}truthy(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call truthy with undefined"),t._inner.truthySet.add(i)}return t}falsy(...e){const t=this.clone();e=n.flatten(e);for(let s=0;s<e.length;++s){const i=e[s];n.assert(void 0!==i,"Cannot call falsy with undefined"),t._inner.falsySet.add(i)}return t}insensitive(e){const t=void 0===e||!!e;if(this._flags.insensitive===t)return this;const s=this.clone();return s._flags.insensitive=t,s}describe(){const e=super.describe();return e.truthy=[!0,...this._inner.truthySet.values()],e.falsy=[!1,...this._inner.falsySet.values()],e}},e.exports=new a.Boolean},function(e,t,s){"use strict";const n=s(0),i=s(7),a={};a.Binary=class extends i{constructor(){super(),this._type="binary"}_base(e,t,s){const n={value:e};if("string"==typeof e&&s.convert)try{n.value=Buffer.from(e,this._flags.encoding)}catch(e){}return n.errors=Buffer.isBuffer(n.value)?null:this.createError("binary.base",null,t,s),n}encoding(e){if(n.assert(Buffer.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;const t=this.clone();return t._flags.encoding=e,t}min(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,s,n){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},s,n)}))}max(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,s,n){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},s,n)}))}length(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,s,n){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},s,n)}))}},e.exports=new a.Binary},function(e,t,s){"use strict";const n=s(0),i=s(56),a=s(9),r={};r.Func=class extends i.constructor{constructor(){super(),this._flags.func=!0}arity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,(function(t,s,n){return t.length===e?t:this.createError("function.arity",{n:e},s,n)}))}minArity(e){return n.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,(function(t,s,n){return t.length>=e?t:this.createError("function.minArity",{n:e},s,n)}))}maxArity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,(function(t,s,n){return t.length<=e?t:this.createError("function.maxArity",{n:e},s,n)}))}ref(){return this._test("ref",null,(function(e,t,s){return a.isRef(e)?e:this.createError("function.ref",{value:e},t,s)}))}class(){return this._test("class",null,(function(e,t,s){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",{value:e},t,s)}))}},e.exports=new r.Func},function(e,t,s){"use strict";const n=s(0),i=s(7),a=s(9),r={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,normalizeExponent:e=>e.replace(/\.?0+e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2"),normalizeDecimal:e=>((e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),e)};r.Number=class extends i{constructor(){super(),this._type="number",this._flags.unsafe=!1,this._invalids.add(1/0),this._invalids.add(-1/0)}_base(e,t,s){const n={errors:null,value:e};if("string"==typeof e&&s.convert){const i=e.match(/^\s*[+-]?\d+(?:\.\d+)?(?:e([+-]?\d+))?\s*$/i);if(i&&(e=e.trim(),n.value=parseFloat(e),!this._flags.unsafe))if(e.includes("e")){if(r.normalizeExponent(`${n.value/Math.pow(10,i[1])}e${i[1]}`)!==r.normalizeExponent(e))return n.errors=this.createError("number.unsafe",{value:e},t,s),n}else if(n.value.toString()!==r.normalizeDecimal(e))return n.errors=this.createError("number.unsafe",{value:e},t,s),n}const i="number"==typeof n.value&&!isNaN(n.value);if(s.convert&&"precision"in this._flags&&i){const e=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*e)/e}return i?!this._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(n.errors=this.createError("number.unsafe",{value:e},t,s)):n.errors=this.createError("number.base",{value:e},t,s),n}multiple(e){const t=a.isRef(e);return t||(n.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),n.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,(function(s,n,i){const a=t?e(n.reference||n.parent,i):e;return!t||"number"==typeof a&&isFinite(a)?s%a==0?s:this.createError("number.multiple",{multiple:e,value:s},n,i):this.createError("number.ref",{ref:e.key},n,i)}))}integer(){return this._test("integer",void 0,(function(e,t,s){return Math.trunc(e)-e==0?e:this.createError("number.integer",{value:e},t,s)}))}unsafe(e=!0){if(n.assert("boolean"==typeof e,"enabled must be a boolean"),this._flags.unsafe===e)return this;const t=this.clone();return t._flags.unsafe=e,t}negative(){return this._test("negative",void 0,(function(e,t,s){return e<0?e:this.createError("number.negative",{value:e},t,s)}))}positive(){return this._test("positive",void 0,(function(e,t,s){return e>0?e:this.createError("number.positive",{value:e},t,s)}))}precision(e){n.assert(Number.isSafeInteger(e),"limit must be an integer"),n.assert(!("precision"in this._flags),"precision already set");const t=this._test("precision",e,(function(t,s,n){const i=t.toString().match(r.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},s,n)}));return t._flags.precision=e,t}port(){return this._test("port",void 0,(function(e,t,s){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,s):e}))}},r.compare=function(e,t){return function(s){const i=a.isRef(s),r="number"==typeof s&&!isNaN(s);return n.assert(r||i,"limit must be a number or reference"),this._test(e,s,(function(n,a,r){let o;if(i){if("number"!=typeof(o=s(a.reference||a.parent,r))||isNaN(o))return this.createError("number.ref",{ref:s.key},a,r)}else o=s;return t(n,o)?n:this.createError("number."+e,{limit:o,value:n},a,r)}))}},r.Number.prototype.min=r.compare("min",(e,t)=>e>=t),r.Number.prototype.max=r.compare("max",(e,t)=>e<=t),r.Number.prototype.greater=r.compare("greater",(e,t)=>e>t),r.Number.prototype.less=r.compare("less",(e,t)=>e<t),e.exports=new r.Number},function(e,t,s){"use strict";const n=s(115),i=s(116),a=s(0),r=s(7),o=s(9),c=s(55),l=s(117),u=s(118),p={uriRegex:l.createUriRegex(),ipRegex:u.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=class extends r{constructor(){super(),this._type="string",this._invalids.add("")}_base(e,t,s){if("string"==typeof e&&s.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(let t=0;t<this._inner.replacements.length;++t){const s=this._inner.replacements[t];e=e.replace(s.pattern,s.replacement)}if(this._flags.truncate)for(let t=0;t<this._tests.length;++t){const s=this._tests[t];if("max"===s.name){e=e.slice(0,s.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e=`0${e}`)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,s)}}insensitive(){if(this._flags.insensitive)return this;const e=this.clone();return e._flags.insensitive=!0,e}creditCard(){return this._test("creditCard",void 0,(function(e,t,s){let n=e.length,i=0,a=1;for(;n--;){const t=e.charAt(n)*a;i+=t-9*(t>9),a^=3}return i%10==0&&i>0?e:this.createError("string.creditCard",{value:e},t,s)}))}regex(e,t){a.assert(e instanceof RegExp,"pattern must be a RegExp"),a.assert(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode");const s={pattern:e};"string"==typeof t?s.name=t:"object"==typeof t&&(s.invert=!!t.invert,t.name&&(s.name=t.name));const n=["string.regex",s.invert?".invert":"",s.name?".name":".base"].join("");return this._test("regex",s,(function(e,t,i){return s.pattern.test(e)^s.invert?e:this.createError(n,{name:s.name,pattern:s.pattern,value:e},t,i)}))}alphanum(){return this._test("alphanum",void 0,(function(e,t,s){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,s)}))}token(){return this._test("token",void 0,(function(e,t,s){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,s)}))}email(e){if(e){if(a.assert("object"==typeof e,"email options must be an object"),a.assert(void 0===e.checkDNS,"checkDNS option is not supported"),a.assert(void 0===e.errorLevel,"errorLevel option is not supported"),a.assert(void 0===e.minDomainAtoms,"minDomainAtoms option is not supported, use minDomainSegments instead"),a.assert(void 0===e.tldBlacklist,"tldBlacklist option is not supported, use tlds.deny instead"),a.assert(void 0===e.tldWhitelist,"tldWhitelist option is not supported, use tlds.allow instead"),e.tlds&&"object"==typeof e.tlds){a.assert(void 0===e.tlds.allow||!1===e.tlds.allow||!0===e.tlds.allow||Array.isArray(e.tlds.allow)||e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),a.assert(void 0===e.tlds.deny||Array.isArray(e.tlds.deny)||e.tlds.deny instanceof Set,"tlds.deny must be an array or Set");const t=e=>void 0===e||"boolean"==typeof e||e instanceof Set?e:new Set(e);(e=Object.assign({},e)).tlds={allow:t(e.tlds.allow),deny:t(e.tlds.deny)}}a.assert(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer")}return this._test("email",e,(function(t,s,n){return i.email.isValid(t,e)?t:this.createError("string.email",{value:t},s,n)}))}ip(e={}){let t,s=p.ipRegex;if(a.assert("object"==typeof e,"options must be an object"),e.cidr?(a.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),a.assert(a.contain(p.cidrPresences,e.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(s=u.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional",e.version){Array.isArray(e.version)||(e.version=[e.version]),a.assert(e.version.length>=1,"version must have at least 1 version specified"),t=[];for(let s=0;s<e.version.length;++s){let n=e.version[s];a.assert("string"==typeof n,"version at position "+s+" must be a string"),n=n.toLowerCase(),a.assert(u.versions[n],"version at position "+s+" must be one of "+Object.keys(u.versions).join(", ")),t.push(n)}t=Array.from(new Set(t)),s=u.createIpRegex(t,e.cidr)}return this._test("ip",e,(function(n,i,a){return s.test(n)?n:t?this.createError("string.ipVersion",{value:n,cidr:e.cidr,version:t},i,a):this.createError("string.ip",{value:n,cidr:e.cidr},i,a)}))}uri(e){let t="",s=!1,n=!1,i=!1,r=p.uriRegex;if(e){a.assert("object"==typeof e,"options must be an object");const r=Object.keys(e).filter(e=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets"].includes(e));if(a.assert(0===r.length,`options contain unknown keys: ${r}`),e.scheme){a.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),a.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(let s=0;s<e.scheme.length;++s){const n=e.scheme[s];a.assert(n instanceof RegExp||"string"==typeof n,"scheme at position "+s+" must be a RegExp or String"),t+=t?"|":"",n instanceof RegExp?t+=n.source:(a.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(n),"scheme at position "+s+" must be a valid scheme"),t+=a.escapeRegex(n))}}e.allowRelative&&(s=!0),e.relativeOnly&&(n=!0),e.allowQuerySquareBrackets&&(i=!0)}return(t||s||n||i)&&(r=l.createUriRegex(t,s,n,i)),this._test("uri",e,(function(e,s,i){return r.test(e)?e:n?this.createError("string.uriRelativeOnly",{value:e},s,i):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},s,i):this.createError("string.uri",{value:e},s,i)}))}isoDate(){return this._test("isoDate",void 0,(function(e,t,s){if(c._isIsoDate(e)){if(!s.convert)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString()}return this.createError("string.isoDate",{value:e},t,s)}))}guid(e){let t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),a.assert(e.version.length>=1,"version must have at least 1 valid version specified");const s=new Set;for(let n=0;n<e.version.length;++n){let i=e.version[n];a.assert("string"==typeof i,"version at position "+n+" must be a string"),i=i.toLowerCase();const r=p.guidVersions[i];a.assert(r,"version at position "+n+" must be one of "+Object.keys(p.guidVersions).join(", ")),a.assert(!s.has(r),"version at position "+n+" must not be a duplicate."),t+=r,s.add(r)}}const s=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this._test("guid",e,(function(e,t,n){const i=s.exec(e);return i?p.guidBrackets[i[1]]!==i[i.length-1]?this.createError("string.guid",{value:e},t,n):e:this.createError("string.guid",{value:e},t,n)}))}hex(e={}){a.assert("object"==typeof e,"hex options must be an object"),a.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");const t=!0===e.byteAligned,s=/^[a-f0-9]+$/i,n=this._test("hex",s,(function(e,n,i){return s.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},n,i):e:this.createError("string.hex",{value:e},n,i)}));return t&&(n._flags.byteAligned=!0),n}base64(e={}){a.assert("object"==typeof e,"base64 options must be an object"),a.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");const t=(!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",t,(function(e,s,n){return t.test(e)?e:this.createError("string.base64",{value:e},s,n)}))}dataUri(e={}){const t=/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,s=(!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("dataUri",t,(function(e,n,i){const a=e.match(t);if(a){if(!a[2])return e;if("base64"!==a[2])return e;if(s.test(a[3]))return e}return this.createError("string.dataUri",{value:e},n,i)}))}hostname(){const e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(t,s,i){return t.length<=255&&e.test(t)||n.isIPv6(t)?t:this.createError("string.hostname",{value:t},s,i)}))}normalize(e="NFC"){a.assert(a.contain(p.normalizationForms,e),"normalization form must be one of "+p.normalizationForms.join(", "));const t=this._test("normalize",e,(function(t,s,n){return n.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},s,n)}));return t._flags.normalize=e,t}lowercase(){const e=this._test("lowercase",void 0,(function(e,t,s){return s.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,s)}));return e._flags.case="lower",e}uppercase(){const e=this._test("uppercase",void 0,(function(e,t,s){return s.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,s)}));return e._flags.case="upper",e}trim(e=!0){if(a.assert("boolean"==typeof e,"option must be a boolean"),this._flags.trim&&e||!this._flags.trim&&!e)return this;let t;return e?t=this._test("trim",void 0,(function(e,t,s){return s.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,s)})):(t=this.clone())._tests=t._tests.filter(e=>"trim"!==e.name),t._flags.trim=e,t}replace(e,t){"string"==typeof e&&(e=new RegExp(a.escapeRegex(e),"g")),a.assert(e instanceof RegExp,"pattern must be a RegExp"),a.assert("string"==typeof t,"replacement must be a String");const s=this.clone();return s._inner.replacements||(s._inner.replacements=[]),s._inner.replacements.push({pattern:e,replacement:t}),s}truncate(e){const t=void 0===e||!!e;if(this._flags.truncate===t)return this;const s=this.clone();return s._flags.truncate=t,s}},p.compare=function(e,t){return function(s,n){const i=o.isRef(s);return a.assert(Number.isSafeInteger(s)&&s>=0||i,"limit must be a positive integer or reference"),a.assert(!n||Buffer.isEncoding(n),"Invalid encoding:",n),this._test(e,s,(function(a,r,o){let c;if(i){if(c=s(r.reference||r.parent,o),!Number.isSafeInteger(c))return this.createError("string.ref",{ref:s,value:c},r,o)}else c=s;return t(a,c,n)?a:this.createError("string."+e,{limit:c,value:a,encoding:n},r,o)}))}},p.String.prototype.min=p.compare("min",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)>=t}),p.String.prototype.max=p.compare("max",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)<=t}),p.String.prototype.length=p.compare("length",(e,t,s)=>{return(s?Buffer.byteLength(e,s):e.length)===t}),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String},function(e,t){e.exports=require("net")},function(e,t,s){"use strict";const n=s(39),i=s(57),a={defaultTlds:{allow:s(58),deny:null}};e.exports={domain:{analyze:(e,t)=>(t=a.options(t),n.analyze(e,t)),isValid:(e,t)=>(t=a.options(t),n.isValid(e,t))},email:{analyze:(e,t)=>(t=a.options(t),i.analyze(e,t)),isValid:(e,t)=>(t=a.options(t),i.isValid(e,t))}},a.options=function(e){if(!e)return{tlds:a.defaultTlds};if(!1===e.tlds)return e;if(!e.tlds||!0===e.tlds)return Object.assign({},e,{tlds:a.defaultTlds});if("object"!=typeof e.tlds)throw new Error("Invalid options: tlds must be a boolean or an object");if(e.tlds.deny){if(e.tlds.deny instanceof Set==!1)throw new Error("Invalid options: tlds.deny must be a Set object");if(e.tlds.allow)throw new Error("Invalid options: cannot specify both tlds.allow and tlds.deny lists");return e}if(!0===e.tlds.allow)return Object.assign({},e,{tlds:a.defaultTlds});if(e.tlds.allow instanceof Set==!1)throw new Error("Invalid options: tlds.allow must be a Set object or true");return e}},function(e,t,s){"use strict";const n=s(59),i={Uri:{createUriRegex:function(e,t,s,i){let a,r=n.scheme;if(s)a="(?:"+n.relativeRef+")";else{e&&(r="(?:"+e+")");const s="(?:"+r+":"+n.hierPart+")";a=t?"(?:"+s+"|"+n.relativeRef+")":s}return new RegExp("^"+a+"(?:\\?"+(i?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?$")}}};e.exports=i.Uri},function(e,t,s){"use strict";const n=s(59),i={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};i.Ip.createIpRegex=function(e,t){let s;for(let n=0;n<e.length;++n){const a=e[n];s?s+="|"+i.Ip.versions[a]+i.Ip.cidrs[a][t]:s="^(?:"+i.Ip.versions[a]+i.Ip.cidrs[a][t]}return new RegExp(s+")$")},e.exports=i.Ip},function(e,t,s){"use strict";const n=s(27),i=s(0),a=s(7),r={};r.Map=class extends Map{slice(){return new r.Map(this)}toString(){return n.inspect(this)}},r.Symbol=class extends a{constructor(){super(),this._type="symbol",this._inner.map=new r.Map}_base(e,t,s){if(s.convert){const n=this._inner.map.get(e);if(n&&(e=n),this._flags.allowOnly)return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.map",{value:e,map:this._inner.map},t,s)}}return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.base",{value:e},t,s)}}map(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),i.assert(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),s=[];for(const n of e){i.assert(n&&n[Symbol.iterator],"Entry must be an iterable");const[e,a]=n;i.assert("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be an object, function, or Symbol"),i.assert("symbol"==typeof a,"Value must be a Symbol"),t._inner.map.set(e,a),s.push(a)}return t.valid(...s)}describe(){const e=super.describe();return e.map=new Map(this._inner.map),e}},e.exports=new r.Symbol},function(e){e.exports=JSON.parse('{"name":"@hapi/joi","description":"Object schema validation","version":"16.1.7","repository":"git://github.com/hapijs/joi","main":"lib/index.js","browser":"dist/joi-browser.min.js","keywords":["schema","validation"],"dependencies":{"@hapi/address":"^2.1.2","@hapi/formula":"^1.2.0","@hapi/hoek":"^8.2.4","@hapi/pinpoint":"^1.0.2","@hapi/topo":"^3.1.3"},"devDependencies":{"@hapi/bourne":"1.x.x","@hapi/code":"6.x.x","@hapi/lab":"20.x.x","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x"},"scripts":{"prepublishOnly":"cd browser && npm install && npm run build","test":"lab -t 100 -a @hapi/code -L","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},"files":["lib/**/*","dist/*"],"license":"BSD-3-Clause"}')},function(e,t,s){"use strict";const n={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};e.exports=n.Formula=class{constructor(e,t={}){if(!t[n.settings]&&t.constants)for(const e in t.constants){const s=t.constants[e];if(null!==s&&!["boolean","number","string"].includes(typeof s))throw new Error(`Formula constant ${e} contains invalid ${typeof s} value type`)}this.settings=t[n.settings]?t:Object.assign({[n.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let t=[],s="",i=0,a=!1;const r=e=>{if(i)throw new Error("Formula missing closing parenthesis");const r=t.length?t[t.length-1]:null;if(a||s||e){if(r&&"reference"===r.type&&")"===e)return r.type="function",r.value=this._subFormula(s,r.value),void(s="");if(")"===e){const e=new n.Formula(s,this.settings);t.push({type:"segment",value:e})}else if(a){if("]"===a)return t.push({type:"reference",value:s}),void(s="");t.push({type:"literal",value:s})}else if(n.operatorCharacters.includes(s))r&&"operator"===r.type&&n.operators.includes(r.value+s)?r.value+=s:t.push({type:"operator",value:s});else if(s.match(n.numberRx))t.push({type:"constant",value:parseFloat(s)});else if(void 0!==this.settings.constants[s])t.push({type:"constant",value:this.settings.constants[s]});else{if(!s.match(n.tokenRx))throw new Error(`Formula contains invalid token: ${s}`);t.push({type:"reference",value:s})}s=""}};for(const t of e)a?t===a?(r(),a=!1):s+=t:i?"("===t?(s+=t,++i):")"===t?--i?s+=t:r(t):s+=t:t in n.literals?a=n.literals[t]:"("===t?(r(),++i):n.operatorCharacters.includes(t)?(r(),s=t,r()):" "!==t?s+=t:r();r(),t=t.map((e,s)=>"operator"!==e.type||"-"!==e.value||s&&"operator"!==t[s-1].type?e:{type:"operator",value:"n"});let o=!1;for(const e of t){if("operator"===e.type){if(n.operatorsPrefix.includes(e.value))continue;if(!o)throw new Error("Formula contains an operator in invalid position");if(!n.operators.includes(e.value))throw new Error(`Formula contains an unknown operator ${e.value}`)}else if(o)throw new Error("Formula missing expected operator");o=!o}if(!o)throw new Error("Formula contains invalid trailing operator");1===t.length&&["reference","literal","constant"].includes(t[0].type)&&(this.single={type:"reference"===t[0].type?"reference":"value",value:t[0].value}),this._parts=t.map(e=>{if("operator"===e.type)return n.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error(`Formula contains invalid reference ${e.value}`);return this.settings.reference?this.settings.reference(e.value):n.reference(e.value)})}_subFormula(e,t){const s=this.settings.functions[t];if("function"!=typeof s)throw new Error(`Formula contains unknown function ${t}`);let i=[];if(e){let s="",a=0,r=!1;const o=()=>{if(!s)throw new Error(`Formula contains function ${t} with invalid arguments ${e}`);i.push(s),s=""};for(let t=0;t<e.length;++t){const i=e[t];r?(s+=i,i===r&&(r=!1)):i in n.literals&&!a?(s+=i,r=n.literals[i]):","!==i||a?(s+=i,"("===i?++a:")"===i&&--a):o()}o()}return i=i.map(e=>new n.Formula(e,this.settings)),function(e){const t=[];for(const s of i)t.push(s.evaluate(e));return s.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let s=t.length-2;s>=0;--s){const i=t[s];if(i&&"operator"===i.type){const a=t[s+1];t.splice(s+1,1);const r=n.evaluate(a,e);t[s]=n.single(i.value,r)}}return n.operatorsOrder.forEach(s=>{for(let i=1;i<t.length-1;)if(s.includes(t[i])){const s=t[i],a=n.evaluate(t[i-1],e),r=n.evaluate(t[i+1],e);t.splice(i,2);const o=n.calculate(s,a,r);t[i-1]=0===o?0:o}else i+=2}),n.evaluate(t[0],e)}},n.Formula.prototype[n.symbol]=!0,n.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},n.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[n.symbol]?e.evaluate(t):e},n.single=function(e,t){if("!"===e)return!t;const s=-t;return 0===s?0:s},n.calculate=function(e,t,s){if("??"===e)return n.exists(t)?t:s;if("string"==typeof t||"string"==typeof s){if("+"===e)return(t=n.exists(t)?t:"")+(s=n.exists(s)?s:"")}else switch(e){case"^":return Math.pow(t,s);case"*":return t*s;case"/":return t/s;case"%":return t%s;case"+":return t+s;case"-":return t-s}switch(e){case"<":return t<s;case"<=":return t<=s;case">":return t>s;case">=":return t>=s;case"==":return t===s;case"!=":return t!==s;case"&&":return t&&s;case"||":return t||s}return null},n.exists=function(e){return null!=e}},function(e,t,s){"use strict";t.location=function(e=0){const t=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t;const s={};Error.captureStackTrace(s,this);const n=s.stack[e+1];return Error.prepareStackTrace=t,{filename:n.getFileName(),line:n.getLineNumber()}}},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3),r=s(19),o=s(11),c=s(12),l={};e.exports=i.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:c.toSibling}},args:(e,...t)=>1===t.length&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t),validate(e,t){const{schema:s,error:n,state:i,prefs:a}=t;if(s._flags.match){let t,r=0;for(let n=0;n<s.$_terms.matches.length;++n){const o=s.$_terms.matches[n],c=i.nest(o.schema,`match.${n}`);c.snapshot();const l=o.schema.$_validate(e,c,a);l.errors?c.restore():(++r,t=l.value)}return r?"one"===s._flags.match?1===r?{value:t}:{errors:n("alternatives.one")}:r===s.$_terms.matches.length?{value:e}:{errors:n("alternatives.all")}:{errors:n("alternatives.any")}}const r=[];for(let t=0;t<s.$_terms.matches.length;++t){const n=s.$_terms.matches[t];if(n.schema){const s=i.nest(n.schema,`match.${t}`);s.snapshot();const o=n.schema.$_validate(e,s,a);if(!o.errors)return o;s.restore(),r.push({schema:n.schema,reports:o.errors});continue}const o=n.ref?n.ref.resolve(e,i,a):e,c=n.is?[n]:n.switch;for(let s=0;s<c.length;++s){const r=c[s],{is:l,then:u,otherwise:p}=r,d=`match.${t}${n.switch?"."+s:""}`;if(l.$_match(o,i.nest(l,`${d}.is`),a)){if(u)return u.$_validate(e,i.nest(u,`${d}.then`),a)}else if(p)return p.$_validate(e,i.nest(p,`${d}.otherwise`),a)}}return l.errors(r,t)},rules:{conditional:{method(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");const s=this.clone(),i=r.when(s,e,t),a=i.is?[i]:i.switch;for(const e of a)if(e.then&&e.otherwise){s.$_setFlag("_endedSwitch",!0,{clone:!1});break}return s.$_terms.matches.push(i),s.$_mutateRebuild()}},match:{method(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)n(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){n(e.length,"Missing alternative schemas"),a.verifyFlat(e,"try"),n(!this._flags._endedSwitch,"Unreachable condition");const t=this.clone();for(const s of e)t.$_terms.matches.push({schema:t.$_compile(s)});return t.$_mutateRebuild()}}},overrides:{label(e){return this.$_super.label(e).$_modify({each:(t,s)=>"is"!==s.path[0]?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{a.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const s of t.matches){const{schema:t,ref:n,is:i,not:a,then:r,otherwise:o}=s;e=t?e.try(t):n?e.conditional(n,{is:i,then:r,not:a,otherwise:o,switch:s.switch}):e.conditional(i,{then:r,otherwise:o})}return e}},messages:{"alternatives.all":'"{{#label}}" does not match all of the required types',"alternatives.any":'"{{#label}}" does not match any of the allowed types',"alternatives.match":'"{{#label}}" does not match any of the allowed types',"alternatives.one":'"{{#label}}" matches more than one allowed type',"alternatives.types":'"{{#label}}" must be one of {{#types}}'}}),l.errors=function(e,{error:t,state:s}){if(!e.length)return{errors:t("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const n=new Set,i=[];for(const{reports:a,schema:r}of e){if(a.length>1)return l.unmatched(e,t);const c=a[0];if(c instanceof o.Report==!1)return l.unmatched(e,t);if(c.state.path.length!==s.path.length){i.push({type:r.type,report:c});continue}if("any.only"===c.code){for(const e of c.local.valids)n.add(e);continue}const[u,p]=c.code.split(".");"base"===p?n.add(u):i.push({type:r.type,report:c})}return i.length?1===i.length?{errors:i[0].report}:l.unmatched(e,t):{errors:t("alternatives.types",{types:[...n]})}},l.unmatched=function(e,t){const s=[];for(const t of e)s.push(...t.reports);return{errors:t("alternatives.match",o.details(s,{override:!1}))}}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(17),r=s(34),o=s(61),c=s(3),l=s(19),u=s(11),p=s(62),d=s(63),h=s(23),m=s(125),f=s(12),g=s(64),v=s(126),y=s(65),b={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._ids=new m.Ids,this._preferences=null,this._refs=new f.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return n("function"==typeof d.describe,"Manifest functionality disabled"),d.describe(this)}allow(...e){return this._values(e,"_valids")}alter(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const s in e){const i=e[s];n("function"==typeof i,"Alteration adjuster for",s,"must be a function"),t.$_terms.alterations.push({target:s,adjuster:i})}return t.$_temp.ruleset=!1,t}cast(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return n(void 0!==e,"Missing example"),c.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){n(e.length,"Missing notes");for(const t of e)n(t&&"string"==typeof t,"Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),c.checkPreferences(e);const t=this.clone();return t._preferences=c.preferences(t._preferences,e),t}presence(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),s=void 0!==e&&!e;return t._preferences=c.preferences(t._preferences,{convert:s}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){n(e.length,"Missing tags");for(const t of e)n(t&&"string"==typeof t,"Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){const t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){const s=this.clone();s.$_terms.whens||(s.$_terms.whens=[]);const i=l.when(s,e,t);if(!["any","link"].includes(s.type)){const e=i.is?[i]:i.switch;for(const t of e)n(!t.then||"any"===t.then.type||t.then.type===s.type,"Cannot combine",s.type,"with",t.then&&t.then.type),n(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===s.type,"Cannot combine",s.type,"with",t.otherwise&&t.otherwise.type)}return s.$_terms.whens.push(i),s.$_mutateRebuild()}cache(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache");const t=this.clone();return t._cache=e||o.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){n(c.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const s=e.clone();for(const e of Object.keys(t))"type"!==e&&(s[e]=t[e]);t=s}t._ids.concat(e._ids),t._refs.register(e,f.toSibling),t._preferences=t._preferences?c.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);for(const s of e._singleRules.keys())t._singleRules.has(s)&&(t._rules=t._rules.filter(e=>e.keep||e.name!==s),t._singleRules.delete(s));for(const s of e._rules)e._definition.rules[s.method].multi||t._singleRules.set(s.name,s),t._rules.push(s);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const s=Object.assign({},e._flags);delete s.empty,r(t._flags,s)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const s=Object.assign({},e._flags);delete s.empty,r(t._flags,s)}else r(t._flags,e._flags);for(const s in e.$_terms){const n=e.$_terms[s];n?t.$_terms[s]?t.$_terms[s]=t.$_terms[s].concat(n):t.$_terms[s]=n.slice():t.$_terms[s]||(t.$_terms[s]=n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return n(!e.base,"Cannot extend type with another base"),p.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");let s=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),s=s._ids.fork(n,t,s);return s.$_temp.ruleset=!1,s}rule(e){const t=this._definition;c.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const s=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(s>=0&&s<this._rules.length,"Cannot apply rules to empty ruleset");const a=this.clone();for(let r=s;r<a._rules.length;++r){const s=a._rules[r],o=i(s);for(const i in e)t.modifiers[i](o,e[i]),n(o.name===s.name,"Cannot change rule name");a._rules[r]=o,a._singleRules.get(o.name)===s&&a._singleRules.set(o.name,o)}return a.$_temp.ruleset=!1,a.$_mutateRebuild()}get ruleset(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:s,adjuster:i}of this.$_terms.alterations)e.includes(s)&&(t=i(t),n(c.isSchema(t),"Alteration adjuster for",s,"failed to return a schema object"));return(t=t.$_modify({each:t=>t.tailor(e),ref:!1})).$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return g.location?g.location(this):this}validate(e,t){return v.entry(e,this,t)}validateAsync(e,t){return v.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name");for(const t in e)n("_"!==t[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const s=this._definition.rules[t.method],i=t.args;n(s,"Unknown rule",t.method);const a=this.clone();if(i){n(1===Object.keys(i).length||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in i){let r=i[e];if(void 0!==r){if(s.argsByName){const o=s.argsByName.get(e);if(o.ref&&c.isResolvable(r))t._resolve.push(e),a.$_mutateRegister(r);else if(o.normalize&&(r=o.normalize(r),i[e]=r),o.assert){const t=c.validateArg(r,e,o);n(!t,t,"or reference")}}i[e]=r}else delete i[e]}}return s.multi||(a._ruleRemove(t.name,{clone:!1}),a._singleRules.set(t.name,t)),!1===a.$_temp.ruleset&&(a.$_temp.ruleset=null),s.priority?a._rules.unshift(t):a._rules.push(t),a}$_compile(e,t){return l.schema(this.$_root,e,t)}$_createError(e,t,s,n,i,a={}){const r=!1!==a.flags?this._flags:{},o=a.messages?h.merge(this._definition.messages,a.messages):this._definition.messages;return new u.Report(e,t,s,r,o,n,i)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,s,n){(s=Object.assign({},s)).abortEarly=!0,s._externals=!1,t.snapshot();const i=!v.validate(e,this,t,s,n).errors;return t.restore(),i}$_modify(e){return c.assertOptions(e,["each","once","ref","schema"]),m.schema(this,e)||this}$_mutateRebuild(){n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();return this.$_modify({each:(e,{source:t,name:s,path:n,key:i})=>{const a=this._definition[t][s]&&this._definition[t][s].register;!1!==a&&this.$_mutateRegister(e,{family:a,key:i})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:s}={}){this._refs.register(e,t),this._ids.register(e,{key:s})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,s={}){n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const i=this._definition.flags[e]||{};if(a(t,i.default)&&(t=void 0),a(t,this._flags[e]))return this;const r=!1!==s.clone?this.clone():this;return void 0!==t?(r._flags[e]=t,r.$_mutateRegister(t)):delete r._flags[e],"_"!==e[0]&&(r.$_temp.ruleset=!1),r}$_validate(e,t,s){return v.validate(e,this,t,s)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_default(e,t,s={}){return c.assertOptions(s,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!s.literal,"Only function value supports literal option"),"function"==typeof t&&s.literal&&(t={[c.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,s){if(!this.$_terms.whens)return{schema:this};const n=[],i=[];for(let a=0;a<this.$_terms.whens.length;++a){const r=this.$_terms.whens[a];if(r.concat){n.push(r.concat),i.push(`${a}.concat`);continue}const o=r.ref?r.ref.resolve(e,t,s):e,c=r.is?[r]:r.switch,l=i.length;for(let l=0;l<c.length;++l){const{is:u,then:p,otherwise:d}=c[l],h=`${a}${r.switch?"."+l:""}`;if(u.$_match(o,t.nest(u,`${h}.is`),s)){if(p){const a=t.localize([...t.path,`${h}.then`],t.ancestors,t.schemas),{schema:r,id:o}=p._generate(e,a,s);n.push(r),i.push(`${h}.then${o?`(${o})`:""}`);break}}else if(d){const a=t.localize([...t.path,`${h}.otherwise`],t.ancestors,t.schemas),{schema:r,id:o}=d._generate(e,a,s);n.push(r),i.push(`${h}.otherwise${o?`(${o})`:""}`);break}}if(r.break&&i.length>l)break}const a=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",a),!a)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[a])return{schema:this.$_temp.whens[a],id:a};let r=this;this._definition.generate&&(r=this._definition.generate(this,e,t,s));for(const e of n)r=r.concat(e);return this.$_root._tracer&&this.$_root._tracer._combine(r,[this,...n]),this.$_temp.whens[a]=r,{schema:r,id:a}}_inner(e,t,s={}){n(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);const i=this.clone();return i.$_terms[e]&&!s.override||(i.$_terms[e]=[]),s.single?i.$_terms[e].push(t):i.$_terms[e].push(...t),i.$_temp.ruleset=!1,i}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;const s=!1!==t.clone?this.clone():this;s._singleRules.delete(e);const n=[];for(let t=0;t<s._rules.length;++t){const i=s._rules[t];i.name!==e||i.keep?n.push(i):s._inRuleset()&&t<s.$_temp.ruleset&&--s.$_temp.ruleset}return s._rules=n,s}_values(e,t){c.verifyFlat(e,t.slice(1,-1));const s=this.clone(),i=e[0]===c.symbols.override;if(i&&(e=e.slice(1)),!s[t]&&e.length?s[t]=new y:i&&(s[t]=e.length?new y:null,s.$_mutateRebuild()),!s[t])return s;i&&s[t].override();for(const i of e){n(void 0!==i,"Cannot call allow/valid/invalid with undefined"),n(i!==c.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";s[e]&&(s[e].remove(i),s[e].length||(n("_valids"===t||!s._flags.only,"Setting invalid value",i,"leaves schema rejecting all values due to previous valid rule"),s[e]=null)),s[t].add(i,s._refs)}return s}}};b.Base.prototype.isImmutable=!0,b.Base.prototype[c.symbols.any]={version:c.version,compile:l.compile,root:"$_root"},b.Base.prototype.deny=b.Base.prototype.invalid,b.Base.prototype.disallow=b.Base.prototype.invalid,b.Base.prototype.equal=b.Base.prototype.valid,b.Base.prototype.exist=b.Base.prototype.required,b.Base.prototype.not=b.Base.prototype.invalid,b.Base.prototype.options=b.Base.prototype.prefs,b.Base.prototype.preferences=b.Base.prototype.prefs,e.exports=new b.Base},function(e,t,s){"use strict";const n=s(1),i=s(3),a=s(12),r={};t.Ids=r.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new r.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,s]of e._byId.entries())n(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,s);for(const[t,s]of e._byKey.entries())n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,s)}fork(e,t,s){const a=this._collect(e);a.push({schema:s});const o=a.shift();let c={id:o.id,schema:t(o.schema)};n(i.isSchema(c.schema),"adjuster function failed to return a joi schema type");for(const e of a)c={id:e.id,schema:r.fork(e.schema,c.id,c.schema)};return c.schema}labels(e,t=[]){const s=e[0],n=this._get(s);if(!n)return[...t,...e].join(".");const i=e.slice(1);return t=[...t,n.schema._flags.label||s],i.length?n.schema._ids.labels(i,t):t.join(".")}reach(e,t=[]){const s=e[0],i=this._get(s);n(i,"Schema does not contain path",[...t,...e].join("."));const a=e.slice(1);return a.length?i.schema._ids.reach(a,[...t,s]):i.schema}register(e,{key:t}={}){if(!e||!i.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const s=e._flags.id;if(s){const t=this._byId.get(s);n(!t||t.schema===e,"Cannot add different schemas with the same id:",s),n(!this._byKey.has(s),"Schema id conflicts with existing key:",s),this._byId.set(s,{schema:e,id:s})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],s=[]){const i=e[0],a=this._get(i);n(a,"Schema does not contain path",[...t,...e].join(".")),s=[a,...s];const r=e.slice(1);return r.length?a.schema._ids._collect(r,[...t,i],s):s}_get(e){return this._byId.get(e)||this._byKey.get(e)}},r.fork=function(e,s,n){return t.schema(e,{each:(e,{key:t})=>{if(s===(e._flags.id||t))return n},ref:!1}).$_mutateRebuild()},t.schema=function(e,t){let s;for(const n in e._flags){if("_"===n[0])continue;const i=r.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&((s=s||e.clone())._flags[n]=i)}for(let n=0;n<e._rules.length;++n){const i=e._rules[n],a=r.scan(i.args,{source:"rules",name:i.name},t);if(void 0!==a){s=s||e.clone();const t=Object.assign({},i);t.args=a,s._rules[n]=t,s._singleRules.get(i.name)===i&&s._singleRules.set(i.name,t)}}for(const n in e.$_terms){if("_"===n[0])continue;const i=r.scan(e.$_terms[n],{source:"terms",name:n},t);void 0!==i&&((s=s||e.clone()).$_terms[n]=i)}return s},r.scan=function(e,t,s,n,o){const c=n||[];if(null===e||"object"!=typeof e)return;let l;if(Array.isArray(e)){for(let n=0;n<e.length;++n){const i="terms"===t.source&&"keys"===t.name&&e[n].key,a=r.scan(e[n],t,s,[n,...c],i);void 0!==a&&((l=l||e.slice())[n]=a)}return l}if(!1!==s.schema&&i.isSchema(e)||!1!==s.ref&&a.isRef(e)){const n=s.each(e,{...t,path:c,key:o});if(n===e)return;return n}for(const n in e){if("_"===n[0])continue;const i=r.scan(e[n],t,s,[n,...c],o);void 0!==i&&((l=l||Object.assign({},e))[n]=i)}return l}},function(e,t,s){"use strict";const n=s(1),i=s(4),a=s(35),r=s(15),o=s(3),c=s(11),l=s(127),u={result:Symbol("result")};t.entry=function(e,t,s){let i=o.defaults;s&&(n(void 0===s.warnings,"Cannot override warnings preference in synchronous validation"),i=o.preferences(o.defaults,s));const a=u.entry(e,t,i);n(!a.mainstay.externals.length,"Schema with external rules must use validateAsync()");const r={value:a.value};return a.error&&(r.error=a.error),a.mainstay.warnings.length&&(r.warning=c.details(a.mainstay.warnings)),a.mainstay.debug&&(r.debug=a.mainstay.debug),r},t.entryAsync=async function(e,t,s){let n=o.defaults;s&&(n=o.preferences(o.defaults,s));const i=u.entry(e,t,n),a=i.mainstay;if(i.error)throw a.debug&&(i.error.debug=a.debug),i.error;if(a.externals.length){let e=i.value;for(const{method:t,path:s,label:n}of a.externals){let i,a,o=e;s.length&&(i=s[s.length-1],o=(a=r(e,s.slice(0,-1)))[i]);try{const s=await t(o);if(void 0===s||s===o)continue;a?a[i]=s:e=s}catch(e){throw e.message+=` (${n})`,e}}i.value=e}if(!n.warnings&&!n.debug)return i.value;const l={value:i.value};return a.warnings.length&&(l.warning=c.details(a.warnings)),a.debug&&(l.debug=a.debug),l},u.entry=function(e,s,n){const{tracer:i,cleanup:a}=u.tracer(s,n),r={externals:[],warnings:[],tracer:i,debug:n.debug?[]:null,links:s._ids._schemaChain?new Map:null},o=s._ids._schemaChain?[{schema:s}]:null,p=new l([],[],{mainstay:r,schemas:o}),d=t.validate(e,s,p,n);a&&s.$_root.untrace();const h=c.process(d.errors,e,n);return{value:d.value,error:h,mainstay:r}},u.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:u.ignore}},t.validate=function(e,t,s,n,i={}){if(t.$_terms.whens&&(t=t._generate(e,s,n).schema),t._preferences&&(n=u.prefs(t,n)),t._cache&&n.cache){const n=t._cache.get(e);if(s.mainstay.tracer.debug(s,"validate","cached",!!n),n)return n}const a=(i,a,r)=>t.$_createError(i,e,a,r||s,n),r={original:e,prefs:n,schema:t,state:s,error:a,warn:(e,t,n)=>s.mainstay.warnings.push(a(e,t,n)),message:(i,a)=>t.$_createError("custom",e,a,s,n,{messages:i})};s.mainstay.tracer.entry(t,s);const c=t._definition;if(c.prepare&&void 0!==e&&n.convert){const t=c.prepare(e,r);if(t){if(s.mainstay.tracer.value(s,"prepare",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),r);e=t.value}}if(c.coerce&&void 0!==e&&n.convert&&(!c.coerce.from||c.coerce.from.includes(typeof e))){const t=c.coerce.method(e,r);if(t){if(s.mainstay.tracer.value(s,"coerced",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),r);e=t.value}}const l=t._flags.empty;l&&l.$_match(u.trim(e,t),s.nest(l),o.defaults)&&(s.mainstay.tracer.value(s,"empty",e,void 0),e=void 0);const p=i.presence||t._flags.presence||(t._flags._endedSwitch?"ignore":n.presence);if(void 0===e){if("forbidden"===p)return u.finalize(e,null,r);if("required"===p)return u.finalize(e,[t.$_createError("any.required",e,null,s,n)],r);if("optional"===p){if(t._flags.default!==o.symbols.deepDefault)return u.finalize(e,null,r);s.mainstay.tracer.value(s,"default",e,{}),e={}}}else if("forbidden"===p)return u.finalize(e,[t.$_createError("any.unknown",e,null,s,n)],r);const d=[];if(t._valids){const i=t._valids.get(e,s,n,t._flags.insensitive);if(i)return n.convert&&(s.mainstay.tracer.value(s,"valids",e,i.value),e=i.value),s.mainstay.tracer.filter(t,s,"valid",i),u.finalize(e,null,r);if(t._flags.only){const i=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},s,n);if(n.abortEarly)return u.finalize(e,[i],r);d.push(i)}}if(t._invalids){const i=t._invalids.get(e,s,n,t._flags.insensitive);if(i){s.mainstay.tracer.filter(t,s,"invalid",i);const a=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},s,n);if(n.abortEarly)return u.finalize(e,[a],r);d.push(a)}}if(c.validate){const t=c.validate(e,r);if(t&&(s.mainstay.tracer.value(s,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return d.push(t.errors),u.finalize(e,d,r);if(t.errors.length)return d.push(...t.errors),u.finalize(e,d,r)}}return t._rules.length?u.rules(e,d,r):u.finalize(e,d,r)},u.rules=function(e,t,s){const{schema:n,state:i,prefs:a}=s;for(const r of n._rules){const c=n._definition.rules[r.method];if(c.convert&&a.convert){i.mainstay.tracer.log(n,i,"rule",r.name,"full");continue}let l,p=r.args;if(r._resolve.length){p=Object.assign({},p);for(const t of r._resolve){const s=c.argsByName.get(t),r=p[t].resolve(e,i,a),u=s.normalize?s.normalize(r):r,d=o.validateArg(u,null,s);if(d){l=n.$_createError("any.ref",r,{arg:t,ref:p[t],reason:d},i,a);break}p[t]=u}}l=l||c.validate(e,s,p,r);const d=u.rule(l,r);if(d.errors){if(i.mainstay.tracer.log(n,i,"rule",r.name,"error"),r.warn){i.mainstay.warnings.push(...d.errors);continue}if(a.abortEarly)return u.finalize(e,d.errors,s);t.push(...d.errors)}else i.mainstay.tracer.log(n,i,"rule",r.name,"pass"),i.mainstay.tracer.value(i,"rule",e,d.value,r.name),e=d.value}return u.finalize(e,t,s)},u.rule=function(e,t){return e instanceof c.Report?(u.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&(e[0]instanceof c.Report||e[0]instanceof Error)?(e.forEach(e=>u.error(e,t)),{errors:e,value:null}):{errors:null,value:e}},u.error=function(e,t){return t.message&&e._setTemplate(t.message),e},u.finalize=function(e,t,s){t=t||[];const{schema:i,state:a,prefs:r}=s;if(t.length){const n=u.default("failover",void 0,t,s);void 0!==n&&(a.mainstay.tracer.value(a,"failover",e,n),e=n,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)n(e instanceof Error||e instanceof c.Report,"error() must return an Error object")}else t=[i._flags.error];if(void 0===e){const n=u.default("default",e,t,s);a.mainstay.tracer.value(a,"default",e,n),e=n}if(i._flags.cast&&void 0!==e){const t=i._definition.cast[i._flags.cast];if(t.from(e)){const n=t.to(e,s);a.mainstay.tracer.value(a,"cast",e,n,i._flags.cast),e=n}}if(i.$_terms.externals&&r.externals&&!1!==r._externals)for(const{method:e}of i.$_terms.externals)a.mainstay.externals.push({method:e,path:a.path,label:c.label(i._flags,a,r)});const o={value:e,errors:t.length?t:null};return i._flags.result&&(o.value="strip"===i._flags.result?void 0:s.original,a.mainstay.tracer.value(a,i._flags.result,e,o.value),a.shadow(e,i._flags.result)),i._cache&&!1!==r.cache&&!i._refs.length&&i._cache.set(s.original,o),o},u.prefs=function(e,t){const s=t===o.defaults;return s&&e._preferences[o.symbols.prefs]?e._preferences[o.symbols.prefs]:(t=o.preferences(t,e._preferences),s&&(e._preferences[o.symbols.prefs]=t),t)},u.default=function(e,t,s,{schema:n,state:a,prefs:r}){const c=n._flags[e];if(r.noDefaults||void 0===c)return t;if(a.mainstay.tracer.log(n,a,"rule",e,"full"),!c)return c;if("function"==typeof c){const t=c.length>0?[i(a.ancestors[0]),r]:[];try{return c(...t)}catch(t){return void s.push(n.$_createError(`any.${e}`,null,{error:t},a,r))}}return"object"!=typeof c?c:c[o.symbols.literal]?c.literal:o.isResolvable(c)?c.resolve(t,a,r):i(c)},u.trim=function(e,t){if("string"!=typeof e)return e;const s=t.$_getRule("trim");return s&&s.args.enabled?e.trim():e},u.ignore={active:!1,debug:a,entry:a,filter:a,log:a,resolve:a,value:a}},function(e,t,s){"use strict";const n=s(4),i=s(15),a=s(3),r={value:Symbol("value")};e.exports=r.State=class{constructor(e,t,s){this.path=e,this.ancestors=t,this.mainstay=s.mainstay,this.schemas=s.schemas,this.debug=null}localize(e,t=null,s=null){const n=new r.State(e,t,this);return s&&n.schemas&&(n.schemas=[r.schemas(s),...n.schemas]),n}nest(e,t){const s=new r.State(this.path,this.ancestors,this);return s.schemas=s.schemas&&[r.schemas(e),...s.schemas],s.debug=t,s}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new r.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},r.schemas=function(e){return a.isSchema(e)?{schema:e}:e},r.Shadow=class{constructor(){this._values=null}set(e,t,s){if(!e.length)return;if("strip"===s&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let n=this._values;for(let t=0;t<e.length;++t){const s=e[t];let i=n.get(s);i||(i=new Map,n.set(s,i)),n=i}n[r.value]=t}get(e){const t=this.node(e);if(t)return t[r.value]}node(e){if(this._values)return i(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const s=e.slice(0,-1),n=e[e.length-1],a=i(this._values,s,{iterables:!0});t?a.set(n,t):a&&a.delete(n)}}},function(e,t,s){"use strict";const n=s(1),i=s(17),a=s(15),r=s(8),o=s(3),c=s(19),l={};e.exports=r.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:s,prefs:n}){if(!Array.isArray(e))return;const i=t.$_getRule("sort");return i?l.sort(t,e,i.args.options,s,n):void 0}},validate(e,{schema:t,error:s}){if(!Array.isArray(e)){if(t._flags.single){const t=[e];return t[o.symbols.arraySingle]=!0,{value:t}}return{errors:s("array.base")}}if(t.$_getRule("items")||t.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:s,error:n},{schema:i}){const a=[e,...t.ancestors];for(let n=0;n<e.length;++n){const r=t.localize([...t.path,n],a,i);if(i.$_match(e[n],r,s))return e}const r=i._flags.label;return r?n("array.hasKnown",{patternLabel:r}):n("array.hasUnknown",null)},multi:!0},items:{method(...e){o.verifyFlat(e,"items");const t=this.$_addRule("items");for(let s=0;s<e.length;++s){const n=o.tryWithPath(()=>this.$_compile(e[s]),s,{append:!0});t.$_terms.items.push(n)}return t.$_mutateRebuild()},validate(e,{schema:t,error:s,state:n,prefs:i}){const a=t.$_terms._requireds.slice(),r=t.$_terms.ordered.slice(),c=[...t.$_terms._inclusions,...a],u=!e[o.symbols.arraySingle];delete e[o.symbols.arraySingle];const p=[];let d=e.length;for(let o=0;o<d;++o){const h=e[o];let m=!1,f=!1;const g=u?o:new Number(o),v=[...n.path,g];if(!t._flags.sparse&&void 0===h){if(p.push(s("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly)return p;r.shift();continue}const y=[e,...n.ancestors];for(const e of t.$_terms._exclusions)if(e.$_match(h,n.localize(v,y,e),i,{presence:"ignore"})){if(p.push(s("array.excludes",{pos:o,value:h},n.localize(v))),i.abortEarly)return p;m=!0,r.shift();break}if(m)continue;if(t.$_terms.ordered.length){if(r.length){const a=r.shift(),c=a.$_validate(h,n.localize(v,y,a),i);if(c.errors){if(p.push(...c.errors),i.abortEarly)return p}else if("strip"===a._flags.result)l.fastSplice(e,o),--o,--d;else{if(!t._flags.sparse&&void 0===c.value){if(p.push(s("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly)return p;continue}e[o]=c.value}continue}if(!t.$_terms.items.length){if(p.push(s("array.orderedLength",{pos:o,limit:t.$_terms.ordered.length})),i.abortEarly)return p;break}}const b=[];let x=a.length;for(let r=0;r<x;++r){const c=n.localize(v,y,a[r]);c.snapshot();const u=a[r].$_validate(h,c,i);if(b[r]=u,!u.errors){if(e[o]=u.value,f=!0,l.fastSplice(a,r),--r,--x,!t._flags.sparse&&void 0===u.value&&(p.push(s("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly))return p;break}c.restore()}if(f)continue;const _=i.stripUnknown&&!!i.stripUnknown.arrays||!1;x=c.length;for(const r of c){let c;const u=a.indexOf(r);if(-1!==u)c=b[u];else{const a=n.localize(v,y,r);if(a.snapshot(),!(c=r.$_validate(h,a,i)).errors){"strip"===r._flags.result?(l.fastSplice(e,o),--o,--d):t._flags.sparse||void 0!==c.value?e[o]=c.value:(p.push(s("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),m=!0),f=!0;break}a.restore()}if(1===x){if(_){l.fastSplice(e,o),--o,--d,f=!0;break}if(p.push(...c.errors),i.abortEarly)return p;m=!0;break}}if(!m&&(t.$_terms._inclusions.length&&!f)){if(_){l.fastSplice(e,o),--o,--d;continue}if(p.push(s("array.includes",{pos:o,value:h},n.localize(v))),i.abortEarly)return p}}return a.length&&l.fillMissedErrors(t,p,a,e,n,i),r.length&&l.fillOrderedErrors(t,p,r,e,n,i),p.length?p:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:s},{name:n,operator:i,args:a})=>o.compare(e.length,s,i)?e:t.error("array."+n,{limit:a.limit,value:e}),args:[{name:"limit",ref:!0,assert:o.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){o.verifyFlat(e,"ordered");const t=this.$_addRule("items");for(let s=0;s<e.length;++s){const n=o.tryWithPath(()=>this.$_compile(e[s]),s,{append:!0});l.validateSingle(n,t),t.$_mutateRegister(n),t.$_terms.ordered.push(n)}return t.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){o.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=c.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:s,prefs:n,schema:i},{options:a}){const{value:r,errors:o}=l.sort(i,e,a,s,n);if(o)return o;for(let s=0;s<e.length;++s)if(e[s]!==r[s])return t("array.sort",{order:a.order,by:a.by?a.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),o.assertOptions(t,["ignoreUndefined","separator"]);const s={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const n=o.default(t.separator,".");s.path=n?e.split(n):[e]}else s.comparator=e;return this.$_addRule(s)},validate(e,{state:t,error:s,schema:r},{comparator:o,options:c},{comparator:l,path:u}){const p={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},d=l||i,h=c.ignoreUndefined;for(let i=0;i<e.length;++i){const r=u?a(e[i],u):e[i],c=l?p.custom:p[typeof r];if(n(c,"Failed to find unique map container for type",typeof r),c instanceof Map){const n=c.entries();let a;for(;!(a=n.next()).done;)if(d(a.value[0],r)){const n=t.localize([...t.path,i],[e,...t.ancestors]),r={pos:i,value:e[i],dupePos:a.value[1],dupeValue:e[a.value[1]]};return u&&(r.path=o),s("array.unique",r,n)}c.set(r,i)}else{if((!h||void 0!==r)&&void 0!==c[r]){const n={pos:i,value:e[i],dupePos:c[r],dupeValue:e[c[r]]};return u&&(n.path=o),s("array.unique",n,t.localize([...t.path,i],[e,...t.ancestors]))}c[r]=i}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)l.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)l.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":'"{{#label}}" must be an array',"array.excludes":'"{{#label}}" contains an excluded value',"array.hasKnown":'"{{#label}}" does not contain at least one required match for type "{#patternLabel}"',"array.hasUnknown":'"{{#label}}" does not contain at least one required match',"array.includes":'"{{#label}}" does not match any of the allowed types',"array.includesRequiredBoth":'"{{#label}}" does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)',"array.includesRequiredKnowns":'"{{#label}}" does not contain {{#knownMisses}}',"array.includesRequiredUnknowns":'"{{#label}}" does not contain {{#unknownMisses}} required value(s)',"array.length":'"{{#label}}" must contain {{#limit}} items',"array.max":'"{{#label}}" must contain less than or equal to {{#limit}} items',"array.min":'"{{#label}}" must contain at least {{#limit}} items',"array.orderedLength":'"{{#label}}" must contain at most {{#limit}} items',"array.sort":'"{{#label}}" must be sorted in {#order} order by {{#by}}',"array.sort.mismatching":'"{{#label}}" cannot be sorted due to mismatching types',"array.sort.unsupported":'"{{#label}}" cannot be sorted due to unsupported type {#type}',"array.sparse":'"{{#label}}" must not be a sparse array item',"array.unique":'"{{#label}}" contains a duplicate value'}}),l.fillMissedErrors=function(e,t,s,n,i,a){const r=[];let o=0;for(const e of s){const t=e._flags.label;t?r.push(t):++o}r.length?o?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:r,unknownMisses:o},i,a)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:r},i,a)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:o},i,a))},l.fillOrderedErrors=function(e,t,s,n,i,a){const r=[];for(const e of s)"required"===e._flags.presence&&r.push(e);r.length&&l.fillMissedErrors(e,t,r,n,i,a)},l.fastSplice=function(e,t){let s=t;for(;s<e.length;)e[s++]=e[s];--e.length},l.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},l.sort=function(e,t,s,n,i){const a="ascending"===s.order?1:-1,r=-1*a,o=a,c=(c,u)=>{let p=l.compare(c,u,r,o);if(null!==p)return p;if(s.by&&(c=s.by.resolve(c,n,i),u=s.by.resolve(u,n,i)),null!==(p=l.compare(c,u,r,o)))return p;const d=typeof c;if(d!==typeof u)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==d&&"string"!==d)throw e.$_createError("array.sort.unsupported",t,{type:d},n,i);return"number"===d?(c-u)*a:c<u?r:o};try{return{value:t.slice().sort(c)}}catch(e){return{errors:e}}},l.compare=function(e,t,s,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?s:null}},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3),r=s(65),o={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if("boolean"!=typeof e){if("string"==typeof e){const s=t._flags.sensitive?e:e.toLowerCase();e="true"===s||"false"!==s&&e}return"boolean"!=typeof e&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(!t.$_terms.falsy||!t.$_terms.falsy.has(e,null,null,!t._flags.sensitive))&&e),{value:e}}},validate(e,{error:t}){if("boolean"!=typeof e)return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){a.verifyFlat(e,"truthy");const t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new r;for(let s=0;s<e.length;++s){const i=e[s];n(void 0!==i,"Cannot call truthy with undefined"),t.$_terms.truthy.add(i)}return t}},falsy:{method(...e){a.verifyFlat(e,"falsy");const t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new r;for(let s=0;s<e.length;++s){const i=e[s];n(void 0!==i,"Cannot call falsy with undefined"),t.$_terms.falsy.add(i)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:o.isBool,to:(e,t)=>e?1:0},string:{from:o.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":'"{{#label}}" must be a boolean'}})},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3),r=s(16),o={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:(e,{schema:t})=>({value:o.parse(e,t._flags.format)||e})},validate(e,{schema:t,error:s,prefs:n}){if(e instanceof Date&&!isNaN(e.getTime()))return;const i=t._flags.format;return n.convert&&i&&"string"==typeof e?{value:e,errors:s("date.format",{format:i})}:{value:e,errors:s("date.base")}},rules:{compare:{method:!1,validate(e,t,{date:s},{name:n,operator:i,args:r}){const o="now"===s?Date.now():s.getTime();return a.compare(e.getTime(),o,i)?e:t.error("date."+n,{limit:r.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:o.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:o.isDate,to:(e,t)=>e.getTime()},string:{from:o.isDate,to:(e,{prefs:t})=>r.date(e,t)}},messages:{"date.base":'"{{#label}}" must be a valid date',"date.format":'"{{#label}}" must be in {msg("date.format." + #format) || #format} format',"date.greater":'"{{#label}}" must be greater than "{{#limit}}"',"date.less":'"{{#label}}" must be less than "{{#limit}}"',"date.max":'"{{#label}}" must be less than or equal to "{{#limit}}"',"date.min":'"{{#label}}" must be larger than or equal to "{{#limit}}"',"date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return a.isIsoDate(e)?o.date(e.toString()):null;const s=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return o.date(1*e);if("unix"===t)return o.date(1e3*e);if("string"==typeof s)return null}return o.date(e)},o.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},function(e,t,s){"use strict";const n=s(1),i=s(66);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,{n:s})=>e.length===s?e:t.error("function.arity",{n:s})},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,{n:s})=>e.length>=s?e:t.error("function.minArity",{n:s})},maxArity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,{n:s})=>e.length<=s?e:t.error("function.maxArity",{n:s})}},messages:{"function.arity":'"{{#label}}" must have an arity of {{#n}}',"function.class":'"{{#label}}" must be a class',"function.maxArity":'"{{#label}}" must have an arity lesser or equal to {{#n}}',"function.minArity":'"{{#label}}" must have an arity greater or equal to {{#n}}'}})},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3),r=s(19),o=s(11),c={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,{schema:t,state:s,prefs:i}){n(t.$_terms.link,"Uninitialized link schema");const a=c.generate(t,e,s,i),r=t.$_terms.link[0].ref;return a.$_validate(e,s.nest(a,`link:${r.display}:${a.type}`),i)},generate:(e,t,s,n)=>c.generate(e,t,s,n),rules:{ref:{method(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=r.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){n(this.$_terms.link,"Uninitialized link schema"),n(a.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(n(t.link,"Invalid link description missing link"),e.ref(t.link))}}),c.generate=function(e,t,s,n){let i=s.mainstay.links.get(e);if(i)return i._generate(t,s,n).schema;const a=e.$_terms.link[0].ref,{perspective:r,path:o}=c.perspective(a,s);c.assert(r,"which is outside of schema boundaries",a,e,s,n);try{i=o.length?r.$_reach(o):r}catch(t){c.assert(!1,"to non-existing schema",a,e,s,n)}return c.assert("link"!==i.type,"which is another link",a,e,s,n),e._flags.relative||s.mainstay.links.set(e,i),i._generate(t,s,n).schema},c.perspective=function(e,t){if("local"===e.type){for(const{schema:s,key:n}of t.schemas){if((s._flags.id||n)===e.path[0])return{perspective:s,path:e.path.slice(1)};if(s.$_terms.shared)for(const t of s.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},c.assert=function(e,t,s,i,a,r){e||n(!1,`"${o.label(i._flags,a,r)}" contains link reference "${s.display}" ${t}`)}},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3),r={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:s}){const n=e.match(r.numberRx);if(!n)return;e=e.trim();const i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(r.normalizeExponent(`${i.value/Math.pow(10,n[1])}e${n[1]}`)!==r.normalizeExponent(e))return i.errors=s("number.unsafe"),i}else{const t=i.value.toString();if(t.match(/e/i))return i;if(t!==r.normalizeDecimal(e))return i.errors=s("number.unsafe"),i}return i}},validate(e,{schema:t,error:s,prefs:n}){if(e===1/0||e===-1/0)return{value:e,errors:s("number.infinity")};if(!a.isNumber(e))return{value:e,errors:s("number.base")};const i={value:e};if(0===i.value&&(i.value=0),n.convert){const e=t.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);i.value=Math.round(i.value*t)/t}}return!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(i.errors=s("number.unsafe")),i},rules:{compare:{method:!1,validate:(e,t,{limit:s},{name:n,operator:i,args:r})=>a.compare(e,s,i)?e:t.error("number."+n,{limit:r.limit,value:e}),args:[{name:"limit",ref:!0,assert:a.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:(e,t,{base:s},n)=>e%s==0?e:t.error("number.multiple",{multiple:n.args.base,value:e}),args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:s}){const n=e.toString().match(r.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=s?e:t.error("number.precision",{limit:s,value:e})},convert:!0},sign:{method(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,{sign:s})=>"negative"===s&&e<0||"positive"===s&&e>0?e:t.error(`number.${s}`)},unsafe:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":'"{{#label}}" must be a number',"number.greater":'"{{#label}}" must be greater than {{#limit}}',"number.infinity":'"{{#label}}" cannot be infinity',"number.integer":'"{{#label}}" must be an integer',"number.less":'"{{#label}}" must be less than {{#limit}}',"number.max":'"{{#label}}" must be less than or equal to {{#limit}}',"number.min":'"{{#label}}" must be larger than or equal to {{#limit}}',"number.multiple":'"{{#label}}" must be a multiple of {{#multiple}}',"number.negative":'"{{#label}}" must be a negative number',"number.port":'"{{#label}}" must be a valid port',"number.positive":'"{{#label}}" must be a positive number',"number.precision":'"{{#label}}" must have no more than {{#limit}} decimal places',"number.unsafe":'"{{#label}}" must be a safe number'}}),r.normalizeExponent=function(e){return e.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")},r.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},function(e,t,s){"use strict";const n=s(66);e.exports=n.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},function(e,t,s){"use strict";const n=s(1),i=s(39),a=s(57),r=s(25),o=s(58),c=s(8),l=s(3),u=s(136),p=s(67),d={tlds:o instanceof Set&&{tlds:{allow:o,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:{format:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,base64:{true:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},hexRegex:/^[a-f0-9]+$/i,hostRegex:/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/,ipRegex:u.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=c.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:s,prefs:n}){const i=t.$_getRule("normalize");i&&(e=e.normalize(i.args.form));const a=t.$_getRule("case");a&&(e="upper"===a.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const r=t.$_getRule("trim");if(r&&r.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(const s of t.$_terms.replacements)e=e.replace(s.pattern,s.replacement);const o=t.$_getRule("hex");if(o&&o.args.options.byteAligned&&e.length%2!=0&&(e=`0${e}`),t.$_getRule("isoDate")){const t=d.isoDate(e);t&&(e=t)}if(t._flags.truncate){const i=t.$_getRule("max");if(i){let a=i.args.limit;if(l.isResolvable(a)&&(a=a.resolve(e,s,n),!l.limit(a)))return{value:e,errors:t.$_createError("any.ref",a,{ref:i.args.limit,arg:"limit",reason:"must be a positive integer"},s,n)};e=e.slice(0,a)}}return{value:e}}},validate:(e,{error:t})=>"string"!=typeof e?{value:e,errors:t("string.base")}:""===e?{value:e,errors:t("string.empty")}:void 0,rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(e={}){return l.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,{options:s})=>d.base64Regex[s.paddingRequired][s.urlSafe].test(e)?e:t.error("string.base64")},case:{method(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,{direction:s})=>"lower"===s&&e===e.toLocaleLowerCase()||"upper"===s&&e===e.toLocaleUpperCase()?e:t.error(`string.${s}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let s=e.length,n=0,i=1;for(;s--;){const t=e.charAt(s)*i;n+=t-9*(t>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return l.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:s}){const n=e.match(d.dataUriRegex.format);if(n){if(!n[2])return e;if("base64"!==n[2])return e;if(d.dataUriRegex.base64[s.paddingRequired].test(n[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&l.assertOptions(e,["allowUnicode","minDomainSegments","tlds"]);const t=d.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,s,{address:n})=>i.isValid(e,n)?e:t.error("string.domain")},email:{method(e={}){l.assertOptions(e,["allowUnicode","ignoreLength","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=d.addressOptions(e),s=new RegExp(`\\s*[${e.separator?r(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:s,address:t})},validate(e,t,{options:s},{regex:n,address:i}){const r=s.multiple?e.split(n):[e],o=[];for(const e of r)a.isValid(e,i)||o.push(e);return o.length?t.error("string.email",{value:e,invalids:o}):e}},guid:{alias:"uuid",method(e={}){l.assertOptions(e,["version"]);let t="";if(e.version){const s=[].concat(e.version);n(s.length>=1,"version must have at least 1 valid version specified");const i=new Set;for(let e=0;e<s.length;++e){const a=s[e];n("string"==typeof a,"version at position "+e+" must be a string");const r=d.guidVersions[a.toLowerCase()];n(r,"version at position "+e+" must be one of "+Object.keys(d.guidVersions).join(", ")),n(!i.has(r),"version at position "+e+" must not be a duplicate"),t+=r,i.add(r)}}const s=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:s})},validate(e,t,s,{regex:n}){const i=n.exec(e);return i?d.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return l.assertOptions(e,["byteAligned"]),e={byteAligned:!1,...e},n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,{options:s})=>d.hexRegex.test(e)?s.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>e.length<=255&&d.hostRegex.test(e)||d.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){l.assertOptions(e,["cidr","version"]),e=Object.assign({},e);let t,s=d.ipRegex;if(e.cidr?(n("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),n(d.cidrPresences.includes(e.cidr),"cidr must be one of "+d.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(s=u.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional",e.version){Array.isArray(e.version)||(e.version=[e.version]),n(e.version.length>=1,"version must have at least 1 version specified"),t=[];for(let s=0;s<e.version.length;++s){let i=e.version[s];n("string"==typeof i,"version at position "+s+" must be a string"),i=i.toLowerCase(),n(u.versions[i],"version at position "+s+" must be one of "+Object.keys(u.versions).join(", ")),t.push(i)}t=Array.from(new Set(t)),s=u.createIpRegex(t,e.cidr)}return this.$_addRule({name:"ip",args:{options:e},versions:t,regex:s})},validate:(e,t,{options:s},{versions:n,regex:i})=>i.test(e)?e:n?t.error("string.ipVersion",{value:e,cidr:s.cidr,version:n}):t.error("string.ip",{value:e,cidr:s.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,{error:t})=>d.isoDate(e)?e:t("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>d.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return d.length(this,"length",e,"=",t)},validate(e,t,{limit:s,encoding:n},{name:i,operator:a,args:r}){const o=n?Buffer&&Buffer.byteLength(e,n):e.length;return l.compare(o,s,a)?e:t.error("string."+i,{limit:r.limit,value:e,encoding:n})},args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return d.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return d.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return n(d.normalizationForms.includes(e),"normalization form must be one of "+d.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,{error:t},{form:s})=>e===e.normalize(s)?e:t("string.normalize",{value:e,form:s}),convert:!0},pattern:{alias:"regex",method(e,t={}){n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),l.assertOptions(t,["invert","name"]);const s=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:s})},validate:(e,t,{regex:s,options:n},{errorCode:i})=>s.test(e)^n.invert?e:t.error(i,{name:n.name,regex:s,value:e}),args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(r(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");const s=this.clone();return s.$_terms.replacements||(s.$_terms.replacements=[]),s.$_terms.replacements.push({pattern:e,replacement:t}),s}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,{enabled:s})=>s&&e!==e.trim()?t.error("string.trim"):e,convert:!0},truncate:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){l.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]);const t=Object.keys(e).filter(e=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets","domain"].includes(e));n(0===t.length,`options contain unknown keys: ${t}`),e.domain&&l.assertOptions(e.domain,["allowUnicode","minDomainSegments","tlds"]);const s=p.createRegex(e),i=e.domain?d.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:s,domain:i})},validate(e,t,{options:s},{regex:n,domain:a}){if(["http:/","https:/"].includes(e))return t.error("string.uri");const r=n.exec(e);return r?a&&!i.isValid(r[1],a)?t.error("string.domain",{value:r[1]}):e:s.relativeOnly?t.error("string.uriRelativeOnly"):s.scheme?t.error("string.uriCustomScheme",{scheme:n.scheme,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:s,replacement:n}of t.replacements)e=e.replace(s,n);return e}},messages:{"string.alphanum":'"{{#label}}" must only contain alpha-numeric characters',"string.base":'"{{#label}}" must be a string',"string.base64":'"{{#label}}" must be a valid base64 string',"string.creditCard":'"{{#label}}" must be a credit card',"string.dataUri":'"{{#label}}" must be a valid dataUri string',"string.domain":'"{{#label}}" must contain a valid domain name',"string.email":'"{{#label}}" must be a valid email',"string.empty":'"{{#label}}" is not allowed to be empty',"string.guid":'"{{#label}}" must be a valid GUID',"string.hex":'"{{#label}}" must only contain hexadecimal characters',"string.hexAlign":'"{{#label}}" hex decoded representation must be byte aligned',"string.hostname":'"{{#label}}" must be a valid hostname',"string.ip":'"{{#label}}" must be a valid ip address with a {{#cidr}} CIDR',"string.ipVersion":'"{{#label}}" must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR',"string.isoDate":'"{{#label}}" must be in iso format',"string.isoDuration":'"{{#label}}" must be a valid ISO 8601 duration',"string.length":'"{{#label}}" length must be {{#limit}} characters long',"string.lowercase":'"{{#label}}" must only contain lowercase characters',"string.max":'"{{#label}}" length must be less than or equal to {{#limit}} characters long',"string.min":'"{{#label}}" length must be at least {{#limit}} characters long',"string.normalize":'"{{#label}}" must be unicode normalized in the {{#form}} form',"string.token":'"{{#label}}" must only contain alpha-numeric and underscore characters',"string.pattern.base":'"{{#label}}" with value "{[.]}" fails to match the required pattern: {{#regex}}',"string.pattern.name":'"{{#label}}" with value "{[.]}" fails to match the {{#name}} pattern',"string.pattern.invert.base":'"{{#label}}" with value "{[.]}" matches the inverted pattern: {{#regex}}',"string.pattern.invert.name":'"{{#label}}" with value "{[.]}" matches the inverted {{#name}} pattern',"string.trim":'"{{#label}}" must not have leading or trailing whitespace',"string.uri":'"{{#label}}" must be a valid uri',"string.uriCustomScheme":'"{{#label}}" must be a valid uri with a scheme matching the {{#scheme}} pattern',"string.uriRelativeOnly":'"{{#label}}" must be a valid relative uri',"string.uppercase":'"{{#label}}" must only contain uppercase characters'}}),d.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),e;const s=e.tlds.allow;return s?!0===s?(n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds)):(Array.isArray(s)&&(e=Object.assign({},e,{tlds:{allow:new Set(s)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),e):e},d.isoDate=function(e){if(!l.isIsoDate(e))return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},d.length=function(e,t,s,i,a){return n(!a||Buffer&&Buffer.isEncoding(a),"Invalid encoding:",a),e.$_addRule({name:t,method:"length",args:{limit:s,encoding:a},operator:i})}},function(e,t,s){"use strict";const n=s(67);t.cidrs={ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},t.versions={ipv4:n.ipv4address,ipv6:n.ipv6address,ipvfuture:n.ipvFuture},t.createIpRegex=function(e,s){const n=e.map(e=>t.versions[e]+t.cidrs[e][s]);return new RegExp("^(?:"+n.join("|")+")$")}},function(e,t,s){"use strict";const n=s(1),i=s(8),a={};a.Map=class extends Map{slice(){return new a.Map(this)}},e.exports=i.extend({type:"symbol",terms:{map:{init:new a.Map}},coerce:{method(e,{schema:t,error:s}){const n=t.$_terms.map.get(e);return n&&(e=n),t._flags.only&&"symbol"!=typeof e?{value:e,errors:s("symbol.map",{map:t.$_terms.map})}:{value:e}}},validate(e,{error:t}){if("symbol"!=typeof e)return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),s=[];for(const i of e){n(i&&i[Symbol.iterator],"Entry must be an iterable");const[e,a]=i;n("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof a,"Value must be a Symbol"),t.$_terms.map.set(e,a),s.push(a)}return t.valid(...s)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":'"{{#label}}" must be a symbol',"symbol.map":'"{{#label}}" must be one of {{#map}}'}})},function(e,t,s){"use strict";const n=s(1),i=s(8),a=s(3);e.exports=i.extend({type:"binary",coerce:{from:"string",method(e,{schema:t}){try{return{value:Buffer.from(e,t._flags.encoding)}}catch(e){}}},validate(e,{error:t}){if(!Buffer.isBuffer(e))return{value:e,errors:t("binary.base")}},rules:{encoding:{method(e){return n(Buffer.isEncoding(e),"Invalid encoding:",e),this.$_setFlag("encoding",e)}},length:{method(e){return this.$_addRule({name:"length",method:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:s},{name:n,operator:i,args:r})=>a.compare(e.length,s,i)?e:t.error("binary."+n,{limit:r.limit,value:e}),args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}}},cast:{string:{from:e=>Buffer.isBuffer(e),to:(e,t)=>e.toString()}},messages:{"binary.base":'"{{#label}}" must be a buffer or a string',"binary.length":'"{{#label}}" must be {{#limit}} bytes',"binary.max":'"{{#label}}" must be less than or equal to {{#limit}} bytes',"binary.min":'"{{#label}}" must be at least {{#limit}} bytes'}})},function(e,t,s){"use strict";const n=s(5),i=s(26),a=s(41),r={};e.exports=r.Request=class extends n.Readable{constructor(e){super();let t=e.url;"object"==typeof t&&(t=i.format(t));const s=i.parse(t);this.url=s.path,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={};const a=e.headers||{};Object.keys(a).forEach(e=>{this.headers[e.toLowerCase()]=a[e]}),this.headers["user-agent"]=this.headers["user-agent"]||"shot";this.headers.host=this.headers.host||(s.port?s.host:s.protocol?s.hostname+("https:"===s.protocol?":443":":80"):null)||e.authority||"localhost:80",this.connection={remoteAddress:e.remoteAddress||"127.0.0.1"};let r=e.payload||null;return!r||"string"==typeof r||r instanceof n||Buffer.isBuffer(r)||(r=JSON.stringify(r),this.headers["content-type"]=this.headers["content-type"]||"application/json"),!r||r instanceof n||this.headers.hasOwnProperty("content-length")||(this.headers["content-length"]=(Buffer.isBuffer(r)?r.length:Buffer.byteLength(r)).toString()),this._shot={payload:r,isDone:!1,simulate:e.simulate||{}},this}prepare(e){if(this._shot.payload instanceof n==!1)return e();const t=[];this._shot.payload.on("data",e=>t.push(Buffer.from(e))),this._shot.payload.on("end",()=>{const s=Buffer.concat(t);return this.headers["content-length"]=this.headers["content-length"]||s.length,this._shot.payload=s,e()})}_read(e){setImmediate(()=>{this._shot.isDone?!1!==this._shot.simulate.end&&this.push(null):(this._shot.isDone=!0,this._shot.payload&&(this._shot.simulate.split?(this.push(this._shot.payload.slice(0,1)),this.push(this._shot.payload.slice(1))):this.push(this._shot.payload)),this._shot.simulate.error&&this.emit("error",new Error("Simulated")),this._shot.simulate.close&&this.emit("close"),!1!==this._shot.simulate.end&&this.push(null))})}destroy(){}},r.Request.prototype[a.injection]=!0},function(e,t,s){"use strict";const n=s(28),i=s(5),a=s(41),r={};e.exports=r.Response=class extends n.ServerResponse{constructor(e,t){super({method:e.method,httpVersionMajor:1,httpVersionMinor:1}),this._shot={headers:null,trailers:{},payloadChunks:[]},this.assignSocket(r.nullSocket()),this.once("finish",()=>{const s=r.payload(this);s.raw.req=e,process.nextTick(()=>t(s))})}writeHead(...e){const t=e[e.length-1];if("object"==typeof t&&null!==t){const e=Object.keys(t);for(let s=0;s<e.length;++s){const n=e[s];try{this.setHeader(n,t[n]);break}catch(e){}}}const s=super.writeHead(...e);return this._shot.headers=this.getHeaders(),["Date","Connection","Transfer-Encoding"].forEach(e=>{const t=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),s=this._header.match(t);s&&(this._shot.headers[e.toLowerCase()]=s[1])}),s}write(e,t,s){return super.write(e,t,s),this._shot.payloadChunks.push(Buffer.from(e,t)),!0}end(e,t,s){e&&this.write(e,t),super.end(s),this.emit("finish")}destroy(){}addTrailers(e){for(const t in e)this._shot.trailers[t.toLowerCase().trim()]=e[t].toString().trim()}},r.Response.prototype[a.injection]=!0,r.payload=function(e){const t={raw:{res:e},headers:e._shot.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{}},s=Buffer.concat(e._shot.payloadChunks);return t.rawPayload=s,t.payload=s.toString(),t.trailers=e._shot.trailers,t},r.nullSocket=function(){return new i.Writable({write(e,t,s){setImmediate(s)}})}},function(e,t,s){"use strict";const n=s(28),i=s(70),a=s(42),r=s(13),o=s(2),c=s(6),l=s(142),u=s(71),p=s(148),d=s(149),h=s(0),m=s(150),f=s(29),g=s(68),v=s(152),y=s(75),b=s(156),x=s(20),_=s(31),w=s(45),A=s(173),E=s(81),k=s(44),S=s(175),R={counter:{min:1e4,max:99999},events:[{name:"log",channels:["app","internal"],tags:!0},{name:"request",channels:["app","internal","error"],tags:!0,spread:!0},"response","route","start","stop"],badRequestResponse:Buffer.from("HTTP/1.1 400 Bad Request\r\n\r\n","ascii")};e.exports=R.Core=class{constructor(e){this.root=null;const{settings:t,type:s}=R.setup(e);this.settings=t,this.type=s,this.app={},this.auth=new y(this),this.caches=new Map,this.compression=new b,this.controlled=null,this.decorations={handler:[],request:[],server:[],toolkit:[]},this.dependencies=[],this.events=new f(R.events),this.heavy=new d(this.settings.load),this.instances=new Set,this.methods=new A(this),this.mime=new m(this.settings.mime),this.onConnection=null,this.plugins={},this.queue=new R.Queue(this.settings.load),this.registrations={},this.registring=0,this.requestCounter={value:R.counter.min,min:R.counter.min,max:R.counter.max},this.router=new l.Router(this.settings.router),this.phase="stopped",this.sockets=null,this.actives=new WeakMap,this.started=!1,this.states=new v.Definitions(this.settings.state),this.toolkit=new S,this.extensionsSeq=0,this.extensions={server:{onPreStart:new w("onPreStart",this),onPostStart:new w("onPostStart",this),onPreStop:new w("onPreStop",this),onPostStop:new w("onPostStop",this)},route:{onRequest:new w("onRequest",this),onPreAuth:new w("onPreAuth",this),onCredentials:new w("onCredentials",this),onPostAuth:new w("onPostAuth",this),onPreHandler:new w("onPreHandler",this),onPostHandler:new w("onPostHandler",this),onPreResponse:new w("onPreResponse",this)}},this.Request=class extends E{},this._debug(),this._decorations={handler:{},request:{},server:{},toolkit:{},requestApply:null},this._initializeCache(),this.listener=this._createListener(),this._initializeListener(),this.info=this._info()}_debug(){if(this.settings.debug){const e=(e,t)=>{const s=t.error||t.data;console.error("Debug:",t.tags.join(", "),s?"\n    "+(s.stack||("object"==typeof s?h.stringify(s):s)):"")};if(this.settings.debug.log){const t=this.settings.debug.log.some(e=>"*"===e)?void 0:this.settings.debug.log;this.events.on({name:"log",filter:t},t=>e(null,t))}if(this.settings.debug.request){const t=this.settings.debug.request.some(e=>"*"===e)?void 0:this.settings.debug.request;this.events.on({name:"request",filter:t},e)}}}_initializeCache(){this.settings.cache&&this._createCache(this.settings.cache),this.caches.has("_default")||this._createCache([{provider:p}])}_info(){const e=Date.now(),t="tcp"===this.type?this.settings.tls?"https":"http":this.type,s=this.settings.host||a.hostname()||"localhost",n=this.settings.port;return{created:e,started:0,host:s,port:n,protocol:t,id:a.hostname()+":"+process.pid+":"+e.toString(36),uri:this.settings.uri||t+":"+("tcp"===this.type?"//"+s+(n?":"+n:""):n)}}_createCache(e){h.assert("initializing"!==this.phase,"Cannot provision server cache while server is initializing"),e=x.apply("cache",e);const t=[];for(let s of e){"function"==typeof s&&(s={provider:{constructor:s}});const e=s.name||"_default";h.assert(!this.caches.has(e),"Cannot configure the same cache more than once: ","_default"===e?"default cache":e);let n=null;if(s.provider){let e=s.provider;"function"==typeof e&&(e={constructor:e}),n=new u.Client(e.constructor,e.options||{partition:"hapi-cache"})}else n=new u.Client(s.engine);this.caches.set(e,{client:n,segments:{},shared:s.shared||!1}),t.push(n)}return t}registerServer(e){this.root||(this.root=e,this._defaultRoutes()),this.instances.add(e)}async _start(){if("initialized"!==this.phase&&"started"!==this.phase||this._validateDeps(),"started"!==this.phase){if("stopped"!==this.phase&&"initialized"!==this.phase)throw new Error("Cannot start server while it is in "+this.phase+" phase");"initialized"!==this.phase&&await this._initialize(),this.phase="starting",this.started=!0,this.info.started=Date.now();try{await this._listen()}catch(e){throw this.started=!1,this.phase="invalid",e}this.phase="started",await this.events.emit("start");try{this.controlled&&await Promise.all(this.controlled.map(e=>e.start())),await this._invoke("onPostStart")}catch(e){throw this.phase="invalid",e}}}_listen(){return new Promise((e,t)=>{if(!this.settings.autoListen)return void e();const s=e=>{t(e)};this.listener.once("error",s);const n=()=>{this.listener.removeListener("error",s),e()};if("tcp"!==this.type)this.listener.listen(this.settings.port,n);else{const e=this.settings.address||this.settings.host||"0.0.0.0";this.listener.listen(this.settings.port,e,n)}})}async _initialize(){if(this.registring)throw new Error("Cannot start server before plugins finished registration");if("initialized"!==this.phase){if("stopped"!==this.phase)throw new Error("Cannot initialize server while it is in "+this.phase+" phase");this._validateDeps(),this.phase="initializing";try{const e=[];this.caches.forEach(t=>e.push(t.client.start())),await Promise.all(e),await this._invoke("onPreStart"),this.heavy.start(),this.phase="initialized",this.controlled&&await Promise.all(this.controlled.map(e=>e.initialize()))}catch(e){throw this.phase="invalid",e}}}_validateDeps(){for(const{deps:e,plugin:t}of this.dependencies)for(const s in e){const n=e[s];h.assert(this.registrations[s],"Plugin",t,"missing dependency",s),h.assert("*"===n||g.match(this.registrations[s].version,n),"Plugin",t,"requires",s,"version",n,"but found",this.registrations[s].version)}}async _stop(e={}){if(e.timeout=e.timeout||5e3,-1===["stopped","initialized","started","invalid"].indexOf(this.phase))throw new Error("Cannot stop server while in "+this.phase+" phase");this.phase="stopping";try{await this._invoke("onPreStop"),this.started&&(this.started=!1,this.info.started=0,await this._unlisten(e.timeout));const t=[];this.caches.forEach(e=>t.push(e.client.stop())),await Promise.all(t),await this.events.emit("stop"),this.heavy.stop(),this.controlled&&await Promise.all(this.controlled.map(t=>t.stop(e))),await this._invoke("onPostStop"),this.phase="stopped"}catch(e){throw this.phase="invalid",e}}_unlisten(e){let t=null;if(this.settings.operations.cleanStop){t=setTimeout(()=>{this.sockets.forEach(e=>e.destroy()),this.sockets.clear()},e),this.sockets.forEach(e=>{this.actives.has(e)||e.end()})}return new Promise(e=>{this.listener.close(()=>{this.settings.operations.cleanStop&&(this.listener.removeListener(this.settings.tls?"secureConnection":"connection",this.onConnection),clearTimeout(t)),this._initializeListener(),e()})})}async _invoke(e){const t=this.extensions.server[e];if(t.nodes)for(const s of t.nodes){const t=s.bind||s.realm.settings.bind,n=s.func.call(t,s.server,t);await S.timed(n,{timeout:s.timeout,name:e})}}_defaultRoutes(){this.router.special("notFound",new k({method:"_special",path:"/{p*}",handler:R.notFound},this.root,{special:!0})),this.router.special("badRequest",new k({method:"_special",path:"/{p*}",handler:R.badRequest},this.root,{special:!0})),this.settings.routes.cors&&_.handler(this.root)}_dispatch(e={}){return(t,s)=>{const n=E.generate(this.root,t,s,e);if(t.socket){this.actives.set(t.socket,n);const e={core:this,req:t};s.on("finish",R.onFinish.bind(s,e))}if(this.settings.load.sampleInterval)try{this.heavy.check()}catch(e){return c.rethrow(e,"system"),this._log(["load"],this.heavy.load),void n._reply(e)}this.queue.add(n)}}_createListener(){const e=this.settings.listener||(this.settings.tls?i.createServer(this.settings.tls):n.createServer());return e.on("request",this._dispatch()),e.on("checkContinue",this._dispatch({expectContinue:!0})),e.on("clientError",(e,t)=>{if(this._log(["connection","client","error"],e),t.readable){const e=this.actives.get(t);if(e){const t=o.badRequest();t.output.headers={connection:"close"},e._reply(t)}else t.end(R.badRequestResponse)}else t.destroy(e)}),e}_initializeListener(){this.listener.once("listening",()=>{if("tcp"===this.type){const e=this.listener.address();this.info.address=e.address,this.info.port=e.port,this.info.uri=this.settings.uri||this.info.protocol+"://"+this.info.host+":"+this.info.port}if(this.settings.operations.cleanStop){this.sockets=new Set;const e=this,t=function(){e.sockets.delete(this)};this.onConnection=e=>{this.sockets.add(e),e.on("close",t)},this.listener.on(this.settings.tls?"secureConnection":"connection",this.onConnection)}})}_cachePolicy(e,t,s){e=x.apply("cachePolicy",e);const n=s&&s.plugin,i=e.segment||t||(n?`!${n}`:"");h.assert(i,"Missing cache segment name");const a=e.cache||"_default",r=this.caches.get(a);return h.assert(r,"Unknown cache",a),h.assert(!r.segments[i]||r.shared||e.shared,"Cannot provision the same cache segment more than once"),r.segments[i]=!0,new u.Policy(e,r.client,i)}log(e,t){return this._log(e,t,"app")}_log(e,t,s="internal"){if(!this.events.hasListeners("log"))return;Array.isArray(e)||(e=[e]);const n=Date.now(),i=t instanceof Error?"error":"data";let a={timestamp:n,tags:e,[i]:t,channel:s};"function"==typeof t&&(a=()=>({timestamp:n,tags:e,data:t(),channel:s})),this.events.emit({name:"log",tags:e,channel:s},a)}},R.setup=function(e={}){let t=h.clone(e,{shallow:["cache","listener","routes.bind"]});t.routes=x.enable(t.routes),void 0===(t=x.apply("server",t)).port&&(t.port=0);const s="string"==typeof t.port?"socket":"tcp";return"socket"===s&&(t.port=-1!==t.port.indexOf("/")?r.resolve(t.port):t.port.toLowerCase()),void 0===t.autoListen&&(t.autoListen=!0),h.assert(t.autoListen||!t.port,"Cannot specify port when autoListen is false"),h.assert(t.autoListen||!t.address,"Cannot specify address when autoListen is false"),{settings:t,type:s}},R.notFound=function(){throw o.notFound()},R.badRequest=function(){throw o.badRequest()},R.onFinish=function(e){const{core:t,req:s}=e;t.actives.delete(s.socket),t.started||s.socket.end()},R.Queue=class{constructor(e){this.settings=e,this.active=0,this.queue=[]}add(e){this.settings.concurrent?(this.queue.push(e),this.next()):e._execute()}next(){if(this.queue.length&&this.active<this.settings.concurrent){const e=this.queue.shift();++this.active,e._execute()}}release(){this.settings.concurrent&&(--this.active,this.next())}}},function(e,t,s){"use strict";const n=s(0),i=s(2),a=s(143),r=s(144),o={pathRegex:a.generate(),defaults:{isCaseSensitive:!0}};t.Router=o.Router=function(e){this.settings=n.applyToDefaults(o.defaults,e||{}),this.routes={},this.ids={},this.vhosts=null,this.specials={badRequest:null,notFound:null,options:null}},o.Router.prototype.add=function(e,t){const s=e.method.toLowerCase(),i=e.vhost||"*";"*"!==i&&(this.vhosts=this.vhosts||{},this.vhosts[i]=this.vhosts[i]||{});const a="*"===i?this.routes:this.vhosts[i];a[s]=a[s]||{routes:[],router:new r};const c=e.analysis||this.analyze(e.path),l={path:e.path,route:t||e.path,segments:c.segments,params:c.params,fingerprint:c.fingerprint,settings:this.settings};return a[s].router.add(c.segments,l),a[s].routes.push(l),a[s].routes.sort(o.sort),l.segments[l.segments.length-1].empty&&a[s].router.add(c.segments.slice(0,-1),l),e.id&&(n.assert(!this.ids[e.id],"Route id",e.id,"for path",e.path,"conflicts with existing path",this.ids[e.id]&&this.ids[e.id].path),this.ids[e.id]=l),l},o.Router.prototype.special=function(e,t){n.assert(-1!==Object.keys(this.specials).indexOf(e),"Unknown special route type:",e),this.specials[e]={route:t}},o.Router.prototype.route=function(e,t,s){const n=t.split("/").slice(1),a=this.vhosts&&s&&this.vhosts[s];return a&&this._lookup(t,n,a,e)||this._lookup(t,n,this.routes,e)||"head"===e&&a&&this._lookup(t,n,a,"get")||"head"===e&&this._lookup(t,n,this.routes,"get")||"options"===e&&this.specials.options||a&&this._lookup(t,n,a,"*")||this._lookup(t,n,this.routes,"*")||this.specials.notFound||i.notFound()},o.Router.prototype._lookup=function(e,t,s,n){const i=s[n];if(!i)return null;const a=i.router.lookup(e,t,this.settings);if(!a)return null;const r={},c=[];for(let e=0;e<a.array.length;++e){const t=a.record.params[e],s=o.decode(a.array[e]);if(s.isBoom)return this.specials.badRequest||s;void 0!==r[t]?r[t]=r[t]+"/"+s:r[t]=s,e+1!==a.array.length&&t===a.record.params[e+1]||c.push(r[t])}return{params:r,paramsArray:c,route:a.record.route}},o.decode=function(e){try{return decodeURIComponent(e)}catch(e){return i.badRequest("Invalid request path")}},o.Router.prototype.normalize=function(e){if(e&&-1!==e.indexOf("%")){const t=e.replace(/%[0-9a-fA-F][0-9a-fA-F]/g,e=>e.toUpperCase());e=t.replace(/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g,e=>String.fromCharCode(parseInt(e.substring(1),16)))}if(e&&(-1!==e.indexOf("/.")||"."===e[0])){const t="/"===e[0],s=e.split("/"),n=[];let i;for(let e=0;e<s.length;++e)".."===(i=s[e])?n.pop():"."!==i&&n.push(i);"."!==i&&".."!==i||n.push(""),"/"!==(e=n.join("/"))[0]&&t&&(e="/"+e)}return e},o.Router.prototype.analyze=function(e){n.assert(o.pathRegex.validatePath.test(e),"Invalid path:",e),n.assert(!o.pathRegex.validatePathEncoded.test(e),"Path cannot contain encoded non-reserved path characters:",e);const t=e.split("/"),s=[],i=[],a=[];for(let r=1;r<t.length;++r){let c=t[r];if(-1===c.indexOf("{")){c=this.settings.isCaseSensitive?c:c.toLowerCase(),a.push(c),s.push({literal:c});continue}const l=o.parseParams(c);if(1===l.length){const t=l[0];if(n.assert(-1===i.indexOf(t.name),"Cannot repeat the same parameter name:",t.name,"in:",e),i.push(t.name),t.wilcard)if(t.count)for(let e=0;e<t.count;++e)a.push("?"),s.push({}),e&&i.push(t.name);else a.push("#"),s.push({wildcard:!0});else a.push("?"),s.push({empty:t.empty})}else{const t={length:l.length,first:"string"!=typeof l[0],segments:[]};let r="",o="^";for(let s=0;s<l.length;++s){const a=l[s];"string"==typeof a?(r+=a,o+=n.escapeRegex(a),t.segments.push(a)):(n.assert(-1===i.indexOf(a.name),"Cannot repeat the same parameter name:",a.name,"in:",e),i.push(a.name),r+="?",o=o+"(."+(a.empty?"*":"+")+")")}t.mixed=new RegExp(o+"$",this.settings.isCaseSensitive?"":"i"),a.push(r),s.push(t)}}return{segments:s,fingerprint:"/"+a.join("/"),params:i}},o.parseParams=function(e){const t=[];return e.replace(o.pathRegex.parseParam,(e,s,n,i,a,r)=>(s?t.push(s):t.push({name:n,wilcard:!!i,count:a&&parseInt(a,10),empty:!!r}),"")),t},o.Router.prototype.table=function(e){const t=[],s=e=>{e&&Object.keys(e).forEach(s=>{e[s].routes.forEach(e=>{t.push(e.route)})})};if(this.vhosts){const t=e?[].concat(e):Object.keys(this.vhosts);for(let e=0;e<t.length;++e)s(this.vhosts[t[e]])}return s(this.routes),t},o.sort=function(e,t){const s=e.segments,n=t.segments;if(s.length!==n.length)return s.length>n.length?1:-1;for(let e=0;;++e){if(s[e].literal){if(n[e].literal){if(s[e].literal===n[e].literal)continue;return s[e].literal>n[e].literal?1:-1}return-1}return n[e].literal?1:s[e].wildcard?1:-1}}},function(e,t,s){"use strict";t.generate=function(){return{parseParam:new RegExp("((?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+)|(?:\\{(\\w+)(?:(\\*)(\\d+)?)?(\\?)?\\})","g"),validatePath:new RegExp("(?:^\\/$)|(?:^(?:\\/(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+|(?:\\{\\w+(?:\\*[1-9]\\d*)?\\})|(?:(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+(?:\\{\\w+\\??\\}))+(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})*)|(?:(?:\\{\\w+\\??\\})(?:(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+(?:\\{\\w+\\??\\}))+(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})*)|(?:(?:\\{\\w+\\??\\})(?:[\\w\\!\\$&'\\(\\)\\*\\+\\,;\\=\\:@\\-\\.~]|%[A-F0-9]{2})+)))*(?:\\/(?:\\{\\w+(?:(?:\\*(?:[1-9]\\d*)?)|(?:\\?))?\\})?)?$)"),validatePathEncoded:/%(?:2[146-9A-E]|3[\dABD]|4[\dA-F]|5[\dAF]|6[1-9A-F]|7[\dAE])/g}}},function(e,t,s){"use strict";const n=s(0),i={};e.exports=i.Segment=function(){this._edge=null,this._fulls=null,this._literals=null,this._param=null,this._mixed=null,this._wildcard=null},i.Segment.prototype.add=function(e,t){const s=e[0],a=e.slice(1),r=!a.length,o=[];let c=!0;for(let t=0;t<e.length&&c;++t)c=void 0!==e[t].literal,o.push(e[t].literal);if(c){this._fulls=this._fulls||{};let e="/"+o.join("/");t.settings.isCaseSensitive||(e=e.toLowerCase()),n.assert(!this._fulls[e],"New route",t.path,"conflicts with existing",this._fulls[e]&&this._fulls[e].record.path),this._fulls[e]={segment:s,record:t}}else if(void 0!==s.literal){this._literals=this._literals||{};const e=t.settings.isCaseSensitive?s.literal:s.literal.toLowerCase();this._literals[e]=this._literals[e]||new i.Segment,this._literals[e].add(a,t)}else if(s.wildcard)n.assert(!this._wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),n.assert(!this._param||!this._param._wildcard,"New route",t.path,"conflicts with existing",this._param&&this._param._wildcard&&this._param._wildcard.record.path),this._wildcard={segment:s,record:t};else if(s.mixed){this._mixed=this._mixed||[];let e=this._mixedLookup(s);e||(e={segment:s,node:new i.Segment},this._mixed.push(e),this._mixed.sort(i.mixed)),r?(n.assert(!e.node._edge,"New route",t.path,"conflicts with existing",e.node._edge&&e.node._edge.record.path),e.node._edge={segment:s,record:t}):e.node.add(a,t)}else this._param=this._param||new i.Segment,r?(n.assert(!this._param._edge,"New route",t.path,"conflicts with existing",this._param._edge&&this._param._edge.record.path),this._param._edge={segment:s,record:t}):(n.assert(!this._wildcard||!a[0].wildcard,"New route",t.path,"conflicts with existing",this._wildcard&&this._wildcard.record.path),this._param.add(a,t))},i.Segment.prototype._mixedLookup=function(e){for(let t=0;t<this._mixed.length;++t)if(0===i.mixed({segment:e},this._mixed[t]))return this._mixed[t];return null},i.mixed=function(e,t){const s=e.segment,n=t.segment;if(s.length!==n.length)return s.length>n.length?-1:1;if(s.first!==n.first)return s.first?1:-1;for(let e=0;e<s.segments.length;++e){const t=s.segments[e],i=n.segments[e];if(t!==i)return t.length===i.length?t>i?1:-1:t.length<i.length?1:-1}return 0},i.Segment.prototype.lookup=function(e,t,s){let n=null;if(this._fulls&&(n=this._fulls[s.isCaseSensitive?e:e.toLowerCase()]))return{record:n.record,array:[]};const a=t[0],r=e.slice(a.length+1),o=t.length>1?t.slice(1):null;if(this._literals){const e=s.isCaseSensitive?a:a.toLowerCase();if(n=this._literals.hasOwnProperty(e)&&this._literals[e]){const e=i.deeper(n,r,o,[],s);if(e)return e}}if(this._mixed)for(let e=0;e<this._mixed.length;++e){n=this._mixed[e];const t=a.match(n.segment.mixed);if(t){const e=[];for(let s=1;s<t.length;++s)e.push(t[s]);const a=i.deeper(n.node,r,o,e,s);if(a)return a}}if(this._param&&(a||this._param._edge&&this._param._edge.segment.empty)){const e=i.deeper(this._param,r,o,[a],s);if(e)return e}return this._wildcard?{record:this._wildcard.record,array:[e.slice(1)]}:null},i.deeper=function(e,t,s,n,i){if(s){const a=e.lookup(t,s,i);if(a)return{record:a.record,array:n.concat(a.array)}}else{if(e._edge)return{record:e._edge.record,array:n};if(e._wildcard)return{record:e._wildcard.record,array:n}}return null}},function(e,t,s){"use strict";const n=s(0),i=s(2),a={validate:Symbol("validate"),defaults:{partition:"catbox"}};e.exports=class{constructor(e,t){n.assert(e,"Missing catbox client engine"),n.assert("object"==typeof e||"function"==typeof e,"engine must be an engine object or engine prototype (function)"),n.assert("function"==typeof e||!t,"Can only specify options with function engine config");const s=Object.assign({},a.defaults,t);n.assert(s.partition.match(/^[\w\-]+$/),"Invalid partition name:"+s.partition),this.connection="object"==typeof e?e:new e(s)}async start(){await this.connection.start()}async stop(){await this.connection.stop()}isReady(){return this.connection.isReady()}validateSegmentName(e){return this.connection.validateSegmentName(e)}async get(e){if(this[a.validate](e,null),null===e)return null;const t=await this.connection.get(e);if(!t||void 0===t.item||null===t.item)return null;const s=Date.now(),n=t.stored+t.ttl-s;return n<=0?null:{item:t.item,stored:t.stored,ttl:n}}async set(e,t,s){this[a.validate](e),s<=0||await this.connection.set(e,t,s)}async drop(e){this[a.validate](e),await this.connection.drop(e)}[a.validate](e,t={}){if(!this.isReady())throw i.internal("Disconnected");if(!(e&&"string"==typeof e.id&&e.segment&&"string"==typeof e.segment)&&e!==t)throw i.internal("Invalid key")}}},function(e,t,s){"use strict";const n=s(2),i=s(0),a=s(10),r=s(29),o=s(147),c={day:864e5,events:r.validate([{name:"error",channels:["generate","persist"]}])};c.schema=a.object({expiresIn:a.number().integer().min(1),expiresAt:a.string().regex(/^\d\d?\:\d\d$/),staleIn:[a.number().integer().min(1).when("expiresAt",{is:a.required(),then:a.number().max(864e5-1)}),a.func()],staleTimeout:a.number().integer().min(1),generateFunc:a.func(),generateTimeout:a.number().integer().min(1).allow(!1),generateOnReadError:a.boolean(),generateIgnoreWriteError:a.boolean(),dropOnError:a.boolean(),pendingGenerateTimeout:a.number().integer().min(1),getDecoratedValue:a.boolean().default(!1),privacy:a.any(),cache:a.any(),segment:a.any(),shared:a.any()}).without("expiresIn","expiresAt").with("staleIn","generateFunc").with("generateOnReadError","generateFunc").with("generateIgnoreWriteError","generateFunc").with("dropOnError","generateFunc").and("generateFunc","generateTimeout").and("staleIn","staleTimeout"),e.exports=c.Policy=class{constructor(e,t,s){if(this._events=null,this._cache=t,this._pendings=new Map,this._pendingGenerateCall=new Map,this.rules(e),this.stats={sets:0,gets:0,hits:0,stales:0,generates:0,errors:0},t){const e=t.validateSegmentName(s);i.assert(null===e,"Invalid segment name: "+s+(e?" ("+e.message+")":"")),this._segment=s}}get events(){return this._events||(this._events=new r(c.events)),this._events}_error(e,t){this._events&&this._events.emit({name:"error",channel:e},{source:e,error:t})}rules(e){this.rule=c.Policy.compile(e,!!this._cache)}async get(e){++this.stats.gets;const t=e&&"object"==typeof e?e.id:e;let s=this._pendings.get(t);if(void 0!==s)return await s.join();s=new o(t,this.rule),this._pendings.set(t,s);try{await this._get(s,e)}catch(e){this._send(s,e)}return s.promise}async _get(e,t){const s={},n=new i.Bench;let a=null;if(this._cache)try{a=await this._cache.get({segment:this._segment,id:e.id})}catch(e){s.error=e,++this.stats.errors,this._error("persist",e)}if(s.msec=n.elapsed(),a){s.stored=a.stored,s.ttl=a.ttl;const e="function"==typeof this.rule.staleIn?this.rule.staleIn(a.stored,a.ttl):this.rule.staleIn;a.isStale=!!e&&Date.now()-a.stored>=e,s.isStale=a.isStale,a.isStale&&++this.stats.stales}!this.rule.generateFunc||s.error&&!this.rule.generateOnReadError?this._send(e,s.error,a?a.item:null,a,s):!a||a.isStale?await Promise.race([e.promise,this._generate(e,t,a,s)]):this._send(e,null,a.item,a,s)}_generate(e,t,s,i){if(s&&(s.ttl=s.ttl-this.rule.staleTimeout),s&&s.ttl>0?e.setTimeout(()=>this._send(e,null,s.item,s,i),this.rule.staleTimeout):this.rule.generateTimeout&&e.setTimeout(()=>this._send(e,n.serverUnavailable(),null,null,i),this.rule.generateTimeout),!this._pendingGenerateCall.has(e.id)){if(++this.stats.generates,this.rule.pendingGenerateTimeout){const t=setTimeout(()=>this._pendingGenerateCall.delete(e.id),this.rule.pendingGenerateTimeout);this._pendingGenerateCall.set(e.id,t)}return this._callGenerateFunc(e,t,s,i)}}async _callGenerateFunc(e,t,s,n){const i={};try{var a=await this.rule.generateFunc(t,i)}catch(e){var r=e;this._error("generate",e)}const o=this._pendingGenerateCall.get(e.id);o&&(clearTimeout(o),this._pendingGenerateCall.delete(e.id),e=this._pendings.get(e.id)||e);try{0===i.ttl||r&&this.rule.dropOnError?await this.drop(e.id):r||await this.set(e.id,a,i.ttl)}catch(e){var c=e;this._error("persist",e)}const l=r||(this.rule.generateIgnoreWriteError?null:c);s&&l&&!this.rule.dropOnError?this._send(e,l,s.item,s,n):this._send(e,l,a,null,n)}_send(e,t,s,n,i){e.send(t,s,n,i),this._pendings.delete(e.id),i&&void 0!==i.isStale&&(this.stats.hits=this.stats.hits+e.count)}async set(e,t,s){if(++this.stats.sets,!this._cache)return;s=s||c.Policy.ttl(this.rule);const n=e&&"object"==typeof e?e.id:e;try{await this._cache.set({segment:this._segment,id:n},t,s)}catch(e){throw++this.stats.errors,e}}async drop(e){if(!this._cache)return;const t=e&&"object"==typeof e?e.id:e;try{return void await this._cache.drop({segment:this._segment,id:t})}catch(e){throw++this.stats.errors,e}}ttl(e){return c.Policy.ttl(this.rule,e)}isReady(){return!!this._cache&&this._cache.connection.isReady()}static compile(e,t){const s={};if(!e||!Object.keys(e).length)return s;const n=void 0!==(e=a.attempt(e,c.schema,"Invalid cache policy configuration")).expiresIn&&null!==e.expiresIn,r=void 0!==e.expiresAt&&null!==e.expiresAt;if(i.assert(!n||!e.staleIn||"function"==typeof e.staleIn||e.staleIn<e.expiresIn,"staleIn must be less than expiresIn"),i.assert(!e.staleIn||t,"Cannot use stale options without server-side caching"),i.assert(!e.staleTimeout||!n||e.staleTimeout<e.expiresIn,"staleTimeout must be less than expiresIn"),i.assert(!e.staleTimeout||!n||"function"==typeof e.staleIn||e.staleTimeout<e.expiresIn-e.staleIn,"staleTimeout must be less than the delta between expiresIn and staleIn"),i.assert(!e.staleTimeout||!e.pendingGenerateTimeout||e.staleTimeout<e.pendingGenerateTimeout,"pendingGenerateTimeout must be greater than staleTimeout if specified"),r){const t=/^(\d\d?):(\d\d)$/.exec(e.expiresAt);s.expiresAt={hours:parseInt(t[1],10),minutes:parseInt(t[2],10)}}else s.expiresIn=e.expiresIn||0;return e.generateFunc&&(s.generateFunc=e.generateFunc,s.generateTimeout=e.generateTimeout,e.staleIn&&(s.staleIn=e.staleIn,s.staleTimeout=e.staleTimeout),s.dropOnError=void 0===e.dropOnError||e.dropOnError,s.pendingGenerateTimeout=void 0!==e.pendingGenerateTimeout?e.pendingGenerateTimeout:0),s.generateOnReadError=void 0===e.generateOnReadError||e.generateOnReadError,s.generateIgnoreWriteError=void 0===e.generateIgnoreWriteError||e.generateIgnoreWriteError,s.getDecoratedValue=e.getDecoratedValue,s}static ttl(e,t,s){const n=(s=s||Date.now())-(t=t||s);if(n<0)return 0;if(e.expiresIn)return Math.max(e.expiresIn-n,0);if(e.expiresAt){if(n>c.day)return 0;const i=new Date(t);i.setHours(e.expiresAt.hours),i.setMinutes(e.expiresAt.minutes),i.setSeconds(0),i.setMilliseconds(0);let a=i.getTime();return a<=t&&(a+=c.day),s>=a?0:a-s}return 0}}},function(e,t,s){"use strict";e.exports=class{constructor(e,t){this.id=e,this.timeoutTimer=null,this.count=1,this.rule=t,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}join(){return++this.count,this.promise}send(e,t,s,n){clearTimeout(this.timeoutTimer),!e||s?this.rule.getDecoratedValue?(e&&(n.error=e),this.resolve({value:t,cached:s,report:n})):this.resolve(t):this.reject(e)}setTimeout(e,t){clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(e,t)}}},function(e,t,s){"use strict";const n=s(2),i=s(0),a={maxTimer:2147483647,entrySize:144,defaults:{maxByteSize:104857600,minCleanupIntervalMsec:1e3,cloneBuffersOnGet:!1}};e.exports=a.Connection=class{constructor(e={}){i.assert(this.constructor===a.Connection,"Memory cache client must be instantiated using new"),i.assert(void 0===e.maxByteSize||e.maxByteSize>=0,"Invalid cache maxByteSize value"),i.assert(void 0===e.allowMixedContent,"allowMixedContent no longer supported"),i.assert(void 0===e.minCleanupIntervalMsec||e.minCleanupIntervalMsec<a.maxTimer,"Invalid cache minCleanupIntervalMsec value"),i.assert(void 0===e.cloneBuffersOnGet||"boolean"==typeof e.cloneBuffersOnGet,"Invalid cloneBuffersOnGet value"),this.settings=i.applyToDefaults(a.defaults,e),this.cache=null,this._timer=null,this._timerDue=null}start(){this.cache||(this.cache=new Map,this.byteSize=0)}_scheduleCleanup(e){const t=Date.now(),s=Math.min(Math.max(this.settings.minCleanupIntervalMsec,e),a.maxTimer);if(this._timer){if(this._timerDue-t<e)return;clearTimeout(this._timer)}this._timerDue=t+s,this._timer=setTimeout(()=>{this._timer=null,this._timerDue=null;const e=Date.now();let t=1/0;for(const[,s]of this.cache)for(const[n,i]of s){const a=i.stored+i.ttl-e;a<=0?(s.delete(n),this.byteSize-=i.byteSize):t=Math.min(t,a)}t!==1/0&&this._scheduleCleanup(t)},s)}stop(){clearTimeout(this._timer),this._timer=null,this._timerDue=null,this.cache=null,this.byteSize=0}isReady(){return!!this.cache}validateSegmentName(e){if(!e)throw new n("Empty string");if(-1!==e.indexOf("\0"))throw new n("Includes null character");return null}get(e){if(!this.cache)throw new n("Connection not started");const t=this.cache.get(e.segment);if(!t)return null;const s=t.get(e.id);if(!s)return null;if(s.stored+s.ttl<Date.now())return this.drop(e),null;let i=null;if(Buffer.isBuffer(s.item)){if(i=s.item,this.settings.cloneBuffersOnGet){const e=Buffer.alloc(i.length);i.copy(e),i=e}}else try{i=JSON.parse(s.item)}catch(e){throw new n("Bad value content")}return{item:i,stored:s.stored,ttl:s.ttl}}set(e,t,s){if(!this.cache)throw new n("Connection not started");const i=new a.MemoryCacheEntry(e,t,s);let r=this.cache.get(e.segment);r||(r=new Map,this.cache.set(e.segment,r));const o=r.get(e.id);if(o&&(this.byteSize-=o.byteSize),this.settings.maxByteSize&&this.byteSize+i.byteSize>this.settings.maxByteSize)throw new n("Cache size limit reached");this._scheduleCleanup(s),r.set(e.id,i),this.byteSize+=i.byteSize}drop(e){if(!this.cache)throw new n("Connection not started");const t=this.cache.get(e.segment);if(t){const s=t.get(e.id);s&&(this.byteSize-=s.byteSize,t.delete(e.id))}}},a.MemoryCacheEntry=class{constructor(e,t,s){let n=0;Buffer.isBuffer(t)?(this.item=Buffer.alloc(t.length),t.copy(this.item),n=this.item.length):(this.item=JSON.stringify(t),n=Buffer.byteLength(this.item)),this.stored=Date.now(),this.ttl=s,this.byteSize=a.entrySize+n+Buffer.byteLength(e.segment)+Buffer.byteLength(e.id),this.timeoutId=null}}},function(e,t,s){"use strict";const n=s(2),i=s(0),a=s(10),r={};r.schema=a.object({sampleInterval:a.number().min(0),maxHeapUsedBytes:a.number().min(0),maxEventLoopDelay:a.number().min(0),maxRssBytes:a.number().min(0)}).unknown(),r.defaults={sampleInterval:0,maxHeapUsedBytes:0,maxRssBytes:0,maxEventLoopDelay:0},e.exports=r.Heavy=function(e){e=e||{},a.assert(e,r.schema,"Invalid load monitoring options"),this.settings=i.applyToDefaults(r.defaults,e),i.assert(this.settings.sampleInterval||!this.settings.maxEventLoopDelay&&!this.settings.maxHeapUsedBytes&&!this.settings.maxRssBytes,"Load sample interval must be set to enable load limits"),this._eventLoopTimer=null,this._loadBench=new i.Bench,this.load={eventLoopDelay:0,heapUsed:0,rss:0}},r.Heavy.prototype.start=function(){if(!this.settings.sampleInterval)return;const e=()=>{this._loadBench.reset();this._eventLoopTimer=setTimeout(()=>{const t=process.memoryUsage();this.load.eventLoopDelay=this._loadBench.elapsed()-this.settings.sampleInterval,this.load.heapUsed=t.heapUsed,this.load.rss=t.rss,e()},this.settings.sampleInterval)};e()},r.Heavy.prototype.stop=function(){clearTimeout(this._eventLoopTimer),this._eventLoopTimer=null},r.Heavy.prototype.check=function(){if(!this.settings.sampleInterval)return;i.assert(this._eventLoopTimer,"Cannot check load when sampler is not started");const e=this._loadBench.elapsed(),t=this.load;if(e>this.settings.sampleInterval&&(t.eventLoopDelay=Math.max(t.eventLoopDelay,e-this.settings.sampleInterval)),this.settings.maxEventLoopDelay&&t.eventLoopDelay>this.settings.maxEventLoopDelay)throw n.serverUnavailable("Server under heavy load (event loop)",t);if(this.settings.maxHeapUsedBytes&&t.heapUsed>this.settings.maxHeapUsedBytes)throw n.serverUnavailable("Server under heavy load (heap)",t);if(this.settings.maxRssBytes&&t.rss>this.settings.maxRssBytes)throw n.serverUnavailable("Server under heavy load (rss)",t)}},function(e,t,s){"use strict";const n=s(13),i=s(0),a=s(151),r={compressibleRx:/^text\/|\+json$|\+text$|\+xml$/,compile:function(e){const t=i.clone(a);i.merge(t,e,{nullOverride:!0,mergeArrays:!1});const s={byType:t,byExtension:{}},n=Object.keys(s.byType);for(let e=0;e<n.length;++e){const t=n[e],a=s.byType[t];a.type=a.type||t,a.source=a.source||"mime-db",a.extensions=a.extensions||[],a.compressible=void 0!==a.compressible?a.compressible:r.compressibleRx.test(t),i.assert(!a.predicate||"function"==typeof a.predicate,"predicate option must be a function");for(let e=0;e<a.extensions.length;++e){const t=a.extensions[e];s.byExtension[t]=a}}return s}};e.exports=class{constructor(e){const t=(e=e||{}).override?r.compile(e.override):r.base;this._byType=t.byType,this._byExtension=t.byExtension}path(e){const t=n.extname(e).slice(1).toLowerCase(),s=this._byExtension[t]||{};return s.predicate?s.predicate(i.clone(s)):s}type(e){e=e.split(";",1)[0].trim().toLowerCase();let t=this._byType[e];return t?t.predicate?t.predicate(i.clone(t)):t:(t={type:e,source:"mimos",extensions:[],compressible:r.compressibleRx.test(e)},this._byType[e]=t,t)}},r.base=r.compile()},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true},"application/atsc-held+xml":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cbor":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true},"application/fhir+json":{"source":"iana","compressible":true},"application/fhir+xml":{"source":"iana","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true},"application/mmt-usd+xml":{"source":"iana","compressible":true},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","compressible":true},"application/msc-mixer+xml":{"source":"iana","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana"},"application/news-groupinfo":{"source":"iana"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana"},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","compressible":true},"application/pidf-diff+xml":{"source":"iana","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true},"application/route-s-tsid+xml":{"source":"iana","compressible":true},"application/route-usd+xml":{"source":"iana","compressible":true},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true},"application/urc-targetdesc+xml":{"source":"iana","compressible":true},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["keynote"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","compressible":true},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"apache","extensions":["der","crt","pem"]},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true},"application/xcap-caps+xml":{"source":"iana","compressible":true},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana"},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana"},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,s){"use strict";const n=s(72),i=s(2),a=s(6),r=s(18),o=s(73),c=s(0),l=s(153),u=s(10),p={};p.schema=u.object({strictHeader:u.boolean(),ignoreErrors:u.boolean(),isSecure:u.boolean(),isHttpOnly:u.boolean(),isSameSite:u.valid("Strict","Lax").allow(!1),path:u.string().allow(null),domain:u.string().allow(null),ttl:u.number().allow(null),encoding:u.string().valid("base64json","base64","form","iron","none"),sign:u.object({password:[u.string(),u.binary(),u.object()],integrity:u.object()}),iron:u.object(),password:[u.string(),u.binary(),u.object()],clearInvalid:u.boolean(),autoValue:u.any(),passThrough:u.boolean()}),p.defaults={strictHeader:!0,ignoreErrors:!1,isSecure:!0,isHttpOnly:!0,isSameSite:"Strict",path:null,domain:null,ttl:null,encoding:"none"},t.Definitions=p.Definitions=function(e){this.settings=c.applyToDefaults(p.defaults,e||{}),u.assert(this.settings,p.schema,"Invalid state definition defaults"),this.cookies={},this.names=[]},p.Definitions.prototype.add=function(e,t){c.assert(e&&"string"==typeof e,"Invalid name"),c.assert(!this.cookies[e],"State already defined:",e);const s=c.applyToDefaults(this.settings,t||{},{nullOverride:!0});u.assert(s,p.schema,"Invalid state definition: "+e),this.cookies[e]=s,this.names.push(e)},p.empty=new p.Definitions,p.parseRx=/\s*([^=\s]*)\s*=\s*(?:(?:"([^\"]*)")|([^\;]*))(?:(?:;\s*)|$)/g,p.validateRx={nameRx:{strict:/^[^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+$/,loose:/^[^=\s]*$/},valueRx:{strict:/^[^\x00-\x20\"\,\;\\\x7F]*$/,loose:/^(?:"([^\"]*)")|(?:[^\;]*)$/},domainRx:/^\.?[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d]))(?:\.[a-z\d]+(?:(?:[a-z\d]*)|(?:[a-z\d\-]*[a-z\d])))*$/,domainLabelLenRx:/^\.?[a-z\d\-]{1,63}(?:\.[a-z\d\-]{1,63})*$/,pathRx:/^\/[^\x00-\x1F\;]*$/},p.pairsRx=/\s*([^=\s]*)\s*=\s*([^\;]*)(?:(?:;\s*)|$)/g,p.Definitions.prototype.parse=async function(e){const t={},s=[],n=e.replace(p.parseRx,(e,n,i,a)=>{const r=n,o=i||a||"";return t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(o)):(t[r]=o,s.push(r)),""}),r=[];if(""!==n){if(!this.settings.ignoreErrors)throw i.badRequest("Invalid cookie header");r.push({settings:this.settings,reason:`Header contains unexpected syntax: ${n}`})}const o=[],c=(e,t,s,n)=>{const i={name:t,value:s,settings:n,reason:"string"==typeof e?e:e.message};r.push(i),n.ignoreErrors||o.push(i)},l={};for(let e=0;e<s.length;++e){const n=s[e],i=t[n],r=this.cookies[n]||this.settings;if(r.strictHeader){const e=p.validate(n,t);if(e){c(e,n,i,r);continue}}if("none"===r.encoding){l[n]=i;continue}if(!Array.isArray(i)){try{const e=await p.unsign(n,i,r),t=await p.decode(e,r);l[n]=t}catch(e){a.rethrow(e,"system"),c(e,n,i,r)}continue}const o=[];for(let e=0;e<i.length;++e){const t=i[e];try{const e=await p.unsign(n,t,r),s=await p.decode(e,r);o.push(s)}catch(e){a.rethrow(e,"system"),c(e,n,i,r)}}l[n]=o}if(o.length){const e=i.badRequest("Invalid cookie value",o);throw e.states=l,e.failed=r,e}return{states:l,failed:r}},p.validate=function(e,t){if(!e.match(p.validateRx.nameRx.strict))return"Invalid cookie name";const s=[].concat(t[e]);for(let e=0;e<s.length;++e)if(!s[e].match(p.validateRx.valueRx.strict))return"Invalid cookie value";return null},p.macPrefix="hapi.signed.cookie.1",p.unsign=async function(e,t,s){if(!s.sign)return t;const n=t.lastIndexOf(".");if(-1===n)throw i.badRequest("Missing signature separator");const a=t.slice(0,n),r=t.slice(n+1);if(!r)throw i.badRequest("Missing signature");const u=r.split("*");if(2!==u.length)throw i.badRequest("Invalid signature format");const d=u[0],h=u[1],m=c.clone(s.sign.integrity||l.defaults.integrity);m.salt=d;const f=await l.hmacWithPassword(s.sign.password,m,[p.macPrefix,e,a].join("\n"));if(!o.fixedTimeComparison(f.digest,h))throw i.badRequest("Invalid hmac value");return a},p.decode=async function(e,t){if(!e&&"form"===t.encoding)return{};if(c.assert("string"==typeof e,"Invalid string"),"iron"===t.encoding)return await l.unseal(e,t.password,t.iron||l.defaults);if("base64json"===t.encoding){const t=Buffer.from(e,"base64").toString("binary");try{return r.parse(t)}catch(e){throw i.badRequest("Invalid JSON payload")}}return"base64"===t.encoding?Buffer.from(e,"base64").toString("binary"):n.parse(e)},p.Definitions.prototype.format=async function(e){if(!e||Array.isArray(e)&&!e.length)return[];Array.isArray(e)||(e=[e]);const s=[];for(let n=0;n<e.length;++n){const a=e[n],r=this.cookies[a.name]||this.settings,o=a.options?c.applyToDefaults(r,a.options,{nullOverride:!0}):r;if(!(o.strictHeader?p.validateRx.nameRx.strict:p.validateRx.nameRx.loose).test(a.name))throw i.badImplementation("Invalid cookie name: "+a.name);const l=await t.prepareValue(a.name,a.value,o),u=o.strictHeader?p.validateRx.valueRx.strict:p.validateRx.valueRx.loose;if(l&&("string"!=typeof l||!l.match(u)))throw i.badImplementation("Invalid cookie value: "+a.value);let d=a.name+"="+(l||"");if(null!==o.ttl&&void 0!==o.ttl){const e=new Date(o.ttl?Date.now()+o.ttl:0);d=d+"; Max-Age="+Math.floor(o.ttl/1e3)+"; Expires="+e.toUTCString()}if(o.isSecure&&(d+="; Secure"),o.isHttpOnly&&(d+="; HttpOnly"),o.isSameSite&&(d+=`; SameSite=${o.isSameSite}`),o.domain){const e=o.domain.toLowerCase();if(!e.match(p.validateRx.domainLabelLenRx))throw i.badImplementation("Cookie domain too long: "+o.domain);if(!e.match(p.validateRx.domainRx))throw i.badImplementation("Invalid cookie domain: "+o.domain);d=d+"; Domain="+e}if(o.path){if(!o.path.match(p.validateRx.pathRx))throw i.badImplementation("Invalid cookie path: "+o.path);d=d+"; Path="+o.path}s.push(d)}return s},t.prepareValue=async function(e,t,s){c.assert(s&&"object"==typeof s,"Missing or invalid options");try{const n=await p.encode(t,s);return await p.sign(e,n,s.sign)}catch(t){throw i.badImplementation("Failed to encode cookie ("+e+") value: "+t.message)}},p.encode=function(e,t){if(void 0===e||"none"===t.encoding)return e;if("iron"===t.encoding)return l.seal(e,t.password,t.iron||l.defaults);if("base64"===t.encoding)return Buffer.from(e,"binary").toString("base64");if("base64json"===t.encoding){const t=JSON.stringify(e);return Buffer.from(t,"binary").toString("base64")}return n.stringify(e)},p.sign=async function(e,t,s){if(void 0===t||!s)return t;const n=await l.hmacWithPassword(s.password,s.integrity||l.defaults.integrity,[p.macPrefix,e,t].join("\n"));return t+"."+n.salt+"*"+n.digest},p.Definitions.prototype.passThrough=function(e,s){if(!this.names.length)return e;const n=[];for(let e=0;e<this.names.length;++e){const t=this.names[e],i=this.cookies[t];(void 0!==i.passThrough?i.passThrough:s)||n.push(t)}return t.exclude(e,n)},t.exclude=function(e,t){let s="";return""===e.replace(p.pairsRx,(e,n,i)=>(-1===t.indexOf(n)&&(s=s+(s?";":"")+n+"="+i),""))?s:i.badRequest("Invalid cookie header")}},function(e,t,s){"use strict";const n=s(30),i=s(74),a=s(2),r=s(18),o=s(73),c=s(0),l={};t.defaults={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},t.algorithms={"aes-128-ctr":{keyBits:128,ivBits:128},"aes-256-cbc":{keyBits:256,ivBits:128},sha256:{keyBits:256}},t.macFormatVersion="2",t.macPrefix="Fe26."+t.macFormatVersion,t.generateKey=async function(e,s){if(!e)throw new a("Empty password");if(!s||"object"!=typeof s)throw new a("Bad options");const n=t.algorithms[s.algorithm];if(!n)throw new a("Unknown algorithm: "+s.algorithm);const i={};if(Buffer.isBuffer(e)){if(e.length<n.keyBits/8)throw new a("Key buffer (password) too small");i.key=e,i.salt=""}else{if(e.length<s.minPasswordlength)throw new a("Password string too short (min "+s.minPasswordlength+" characters required)");let t=s.salt;if(!t){if(!s.saltBits)throw new a("Missing salt and saltBits options");t=o.randomBits(s.saltBits).toString("hex")}const r=await l.pbkdf2(e,t,s.iterations,n.keyBits/8,"sha1");i.key=r,i.salt=t}return s.iv?i.iv=s.iv:n.ivBits&&(i.iv=o.randomBits(n.ivBits)),i},t.encrypt=async function(e,s,i){const a=await t.generateKey(e,s),r=n.createCipheriv(s.algorithm,a.key,a.iv);return{encrypted:Buffer.concat([r.update(i,"utf8"),r.final()]),key:a}},t.decrypt=async function(e,s,i){const a=await t.generateKey(e,s),r=n.createDecipheriv(s.algorithm,a.key,a.iv);let o=r.update(i,null,"utf8");return o+=r.final("utf8")},t.hmacWithPassword=async function(e,s,i){const a=await t.generateKey(e,s);return{digest:n.createHmac(s.algorithm,a.key).update(i).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),salt:a.salt}},l.normalizePassword=function(e){return e&&"object"==typeof e&&!Buffer.isBuffer(e)?{id:e.id,encryption:e.secret||e.encryption,integrity:e.secret||e.integrity}:{encryption:e,integrity:e}},t.seal=async function(e,s,n){n=Object.assign({},n);const r=Date.now()+(n.localtimeOffsetMsec||0),o=l.stringify(e);let c="";if((s=l.normalizePassword(s)).id){if(!/^\w+$/.test(s.id))throw new a("Invalid password id");c=s.id}const{encrypted:u,key:p}=await t.encrypt(s.encryption,n.encryption,o),d=i.base64urlEncode(u),h=i.base64urlEncode(p.iv),m=n.ttl?r+n.ttl:"",f=t.macPrefix+"*"+c+"*"+p.salt+"*"+h+"*"+d+"*"+m,g=await t.hmacWithPassword(s.integrity,n.integrity,f);return f+"*"+g.salt+"*"+g.digest},t.unseal=async function(e,s,n){n=Object.assign({},n);const u=Date.now()+(n.localtimeOffsetMsec||0),p=e.split("*");if(8!==p.length)throw new a("Incorrect number of sealed components");const d=p[0],h=p[1],m=p[2],f=p[3],g=p[4],v=p[5],y=p[6],b=p[7],x=d+"*"+h+"*"+m+"*"+f+"*"+g+"*"+v;if(d!==t.macPrefix)throw new a("Wrong mac prefix");if(v){if(!v.match(/^\d+$/))throw new a("Invalid expiration");if(parseInt(v,10)<=u-1e3*n.timestampSkewSec)throw new a("Expired seal")}if(!s)throw new a("Empty password");if("object"==typeof s&&!Buffer.isBuffer(s)&&!(s=s[h||"default"]))throw new a("Cannot find password: "+h);s=l.normalizePassword(s);const _=c.clone(n.integrity);_.salt=y;const w=await t.hmacWithPassword(s.integrity,_,x);if(!o.fixedTimeComparison(w.digest,b))throw new a("Bad hmac value");try{var A=i.base64urlDecode(g,"buffer")}catch(e){throw a.boomify(e)}const E=c.clone(n.encryption);E.salt=m;try{E.iv=i.base64urlDecode(f,"buffer")}catch(e){throw a.boomify(e)}const k=await t.decrypt(s.encryption,E,A);try{return r.parse(k)}catch(e){throw new a("Failed parsing sealed object JSON: "+e.message)}},l.stringify=function(e){try{return JSON.stringify(e)}catch(e){throw new a("Failed to stringify object: "+e.message)}},l.pbkdf2=function(...e){return new Promise((t,s)=>{e.push((e,n)=>{if(e)return s(a.boomify(e));t(n)}),n.pbkdf2(...e)})}},function(e,t,s){"use strict";const n=s(5),i=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];t.decode=function(e){const t=i,s=e.length,n=3*Math.ceil(s/4),a=Buffer.alloc(n);let r,o,c,l,u=0;for(let n=0;n<s;){do{r=t[255&e[n++]]}while(n<s&&-1===r);if(-1===r)break;do{o=t[255&e[n++]]}while(n<s&&-1===o);if(-1===o)break;a[u++]=r<<2|(48&o)>>4;do{if(61===(c=255&e[n++]))return a.slice(0,u);c=t[c]}while(n<s&&-1===c);if(-1===c)break;a[u++]=(15&o)<<4|(60&c)>>2;do{if(61===(l=255&e[n++]))return a.slice(0,u);l=t[l]}while(n<s&&-1===l);-1!==l&&(a[u++]=(3&c)<<6|l)}return u===n?a:a.slice(0,u)},t.Decoder=class extends n.Transform{constructor(){super(),this._reminder=null}_transform(e,s,n){let i=this._reminder?Buffer.concat([this._reminder,e]):e;const a=i.length%4;return a?(this._reminder=i.slice(i.length-a),i=i.slice(0,i.length-a)):this._reminder=null,this.push(t.decode(i)),n()}_flush(e){return this._reminder&&this.push(t.decode(this._reminder)),e()}}},function(e,t,s){"use strict";const n=s(5);t.encode=function(e){return Buffer.from(e.toString("base64"))},t.Encoder=class extends n.Transform{constructor(){super(),this._reminder=null}_transform(e,s,n){let i=this._reminder?Buffer.concat([this._reminder,e]):e;const a=i.length%3;return a?(this._reminder=i.slice(i.length-a),i=i.slice(0,i.length-a)):this._reminder=null,this.push(t.encode(i)),n()}_flush(e){return this._reminder&&this.push(t.encode(this._reminder)),e()}}},function(e,t,s){"use strict";const n=s(43),i=s(157),a=s(6),r=s(0),o={common:["gzip, deflate","deflate, gzip","gzip","deflate","gzip, deflate, br"]};e.exports=o.Compression=class{constructor(){this.encodings=["identity","gzip","deflate"],this._encoders={identity:null,gzip:e=>n.createGzip(e),deflate:e=>n.createDeflate(e)},this._decoders={gzip:e=>n.createGunzip(e),deflate:e=>n.createInflate(e)},this._updateCommons()}_updateCommons(){this._common=new Map,o.common.forEach(e=>{this._common.set(e,i.encoding(e,this.encodings))})}addEncoder(e,t){r.assert(void 0===this._encoders[e],`Cannot override existing encoder for ${e}`),r.assert("function"==typeof t,`Invalid encoder function for ${e}`),this._encoders[e]=t,this.encodings.unshift(e),this._updateCommons()}addDecoder(e,t){r.assert(void 0===this._decoders[e],`Cannot override existing decoder for ${e}`),r.assert("function"==typeof t,`Invalid decoder function for ${e}`),this._decoders[e]=t}accept(e){const t=e.headers["accept-encoding"],s=this._common.get(t);if(s)return s;try{return i.encoding(t,this.encodings)}catch(s){return a.rethrow(s,"system"),s.header=t,e._log(["accept-encoding","error"],s),"identity"}}encoding(e,t){if(e.settings.compressed)return e.headers["content-encoding"]=e.settings.compressed,null;const s=e.request;return!s._core.settings.compression||null!==t&&t<s._core.settings.compression.minBytes?null:s._core.mime.type(e.headers["content-type"]||"application/octet-stream").compressible?(e.vary("accept-encoding"),e.headers["content-encoding"]?null:"identity"===s.info.acceptEncoding?null:s.info.acceptEncoding):null}encoder(e,t){const s=this._encoders[t];return r.assert(void 0!==s,`Unknown encoding ${t}`),s(e.route.settings.compression[t])}}},function(e,t,s){"use strict";const n=s(158),i=s(159),a={options:{charset:{type:"accept-charset"},encoding:{type:"accept-encoding",default:"identity",equivalents:{"x-compress":"compress","x-gzip":"gzip"}},language:{type:"accept-language",specificity:!0}}};for(const e in a.options)t[e]=(t,s)=>n.selection(t,s,a.options[e]),t[`${e}s`]=(t,s)=>n.selections(t,s,a.options[e]);t.mediaType=(e,t)=>i.selection(e,t),t.mediaTypes=(e,t)=>i.selections(e,t),t.parseAll=function(e){return{charsets:t.charsets(e["accept-charset"]),encodings:t.encodings(e["accept-encoding"]),languages:t.languages(e["accept-language"]),mediaTypes:t.mediaTypes(e.accept)}}},function(e,t,s){"use strict";const n=s(0),i=s(2),a={};t.selection=function(e,s,n){const i=t.selections(e,s,n);return i.length?i[0]:""},t.selections=function(e,t,s){return n.assert(!t||Array.isArray(t),"Preferences must be an array"),a.parse(e||"",t,s)},a.parse=function(e,t,s){const n=e.replace(/[ \t]/g,""),r=Object.create(null);if(t)for(let e=0;e<t.length;++e){const s=t[e];r[s.toLowerCase()]={orig:s,pos:e}}const o=n.split(","),c=[],l={};for(let e=0;e<o.length;++e){const n=o[e];if(!n)continue;const a=n.split(";");if(a.length>2)throw i.badRequest(`Invalid ${s.type} header`);let u=a[0].toLowerCase();if(!u)throw i.badRequest(`Invalid ${s.type} header`);s.equivalents&&s.equivalents[u]&&(u=s.equivalents[u]);const p={token:u,pos:e,q:1,specificity:s.specificity?u.split("-"):null};if(t&&r[u]&&(p.pref=r[u].pos),l[p.token]=p,2===a.length){const e=a[1],[t,n]=e.split("=");if(!n||"q"!==t&&"Q"!==t)throw i.badRequest(`Invalid ${s.type} header`);const r=parseFloat(n);if(0===r)continue;Number.isFinite(r)&&r<=1&&r>=.001&&(p.q=r)}c.push(p)}c.sort(a.sort);const u=c.map(e=>e.token);if(s.default&&!l[s.default]&&u.push(s.default),!t||!t.length)return u;const p=[];for(const e of u)if("*"===e)for(const e of Object.keys(r))l[e]||p.push(r[e].orig);else{const t=e.toLowerCase();r[t]&&p.push(r[t].orig)}return p},a.sort=function(e,t){return t.q!==e.q?t.q-e.q:t.pref!==e.pref?void 0===e.pref?1:void 0===t.pref?-1:e.pref-t.pref:e.specificity&&e.specificity[0]===t.specificity[0]&&e.specificity.length!==t.specificity.length?t.specificity.length-e.specificity.length:e.pos-t.pos}},function(e,t,s){"use strict";const n=s(0),i=s(2),a={};t.selection=function(e,s){const n=t.selections(e,s);return n.length?n[0]:""},t.selections=function(e,t){return n.assert(!t||Array.isArray(t),"Preferences must be an array"),a.parse(e,t)},a.validMediaRx=/^(?:\*\/\*)|(?:[\w\!#\$%&'\*\+\-\.\^`\|~]+\/\*)|(?:[\w\!#\$%&'\*\+\-\.\^`\|~]+\/[\w\!#\$%&'\*\+\-\.\^`\|~]+)$/,a.parse=function(e,t){const{header:s,quoted:n}=a.normalize(e),r=s.split(","),o=[],c={};for(let e=0;e<r.length;++e){const t=r[e];if(!t)continue;const s=t.split(";"),l=s.shift().toLowerCase();if(!a.validMediaRx.test(l))continue;const u={token:l,params:{},exts:{},pos:e};let p="params";for(const e of s){const t=e.split("=");if(2!==t.length||!t[1])throw i.badRequest("Invalid accept header");const s=t[0];let a=t[1];"q"===s||"Q"===s?(p="exts",a=parseFloat(a),(!Number.isFinite(a)||a>1||a<.001&&0!==a)&&(a=1),u.q=a):('"'===a[0]&&(a=`"${n[a]}"`),u[p][t[0]]=a)}const d=Object.keys(u.params);u.original=[""].concat(d.map(e=>`${e}=${u.params[e]}`)).join(";"),u.specificity=d.length,void 0===u.q&&(u.q=1);const h=u.token.split("/");u.type=h[0],u.subtype=h[1],c[u.token]=u,u.q&&o.push(u)}return o.sort(a.sort),a.preferences(c,o,t)},a.normalize=function(e){const t={header:e=e||"*/*",quoted:{}};if(e.includes('"')){let s=0;t.header=e.replace(/="([^"]*)"/g,(e,n)=>{const i='"'+ ++s;return t.quoted[i]=n,"="+i})}return t.header=t.header.replace(/[ \t]/g,""),t},a.sort=function(e,t){return t.q!==e.q?t.q-e.q:e.type!==t.type?a.innerSort(e,t,"type"):e.subtype!==t.subtype?a.innerSort(e,t,"subtype"):e.specificity!==t.specificity?t.specificity-e.specificity:e.pos-t.pos},a.innerSort=function(e,t,s){return"*"===e[s]?1:"*"===t[s]?-1:e[s]<t[s]?-1:1},a.preferences=function(e,t,s){if(!s||!s.length)return t.map(e=>e.token+e.original);const i=Object.create(null),a=Object.create(null);let r=!1;for(const e of s){const t=e.toLowerCase();a[t]=e;const s=t.split("/"),o=s[0],c=s[1];"*"!==o?(i[o]=i[o]||Object.create(null),i[o][c]=e):(n.assert("*"===c,"Invalid media type preference contains wildcard type with a subtype"),r=!0)}const o=[];for(const s of t){const t=s.token,{type:n,subtype:c}=e[t],l=i[n];if("*"!==n)if(r)o.push((a[t]||t)+s.original);else if("*"===c){if(l)for(const t of Object.keys(l))e[`${n}/${t}`]||o.push(l[t])}else{const e=a[t];(e||l&&l["*"])&&o.push((e||t)+s.original)}else{for(const t of Object.keys(a))e[t]||o.push(a[t]);r&&o.push("*/*")}}return o}},function(e,t,s){"use strict";const n=s(76),i=s(42),a=s(72),r=s(5),o=s(43),c=s(2),l=s(18),u=s(77),p=s(161),d=s(0),h=s(162),m=s(165),f={decoders:{gzip:e=>o.createGunzip(e),deflate:e=>o.createInflate(e)}};t.parse=async function(e,t,s){d.assert(s,"Missing options"),d.assert(void 0!==s.parse,"Missing parse option setting"),d.assert(void 0!==s.output,"Missing output option setting");const n=e.headers["content-length"];if(void 0!==s.maxBytes&&n&&parseInt(n,10)>s.maxBytes)throw c.entityTooLarge("Payload content length greater than maximum allowed: "+s.maxBytes);const i=u.type(s.override||e.headers["content-type"]||s.defaultContentType||"application/octet-stream");try{if(s.allow&&-1===s.allow.indexOf(i.mime))throw c.unsupportedMediaType();const n={mime:i.mime};return!0===s.parse?(n.payload=await f.parse(e,t,s,i),n):(n.payload=await f.raw(e,t,s),n)}catch(e){throw e.mime=i.mime,e}},f.parse=async function(e,t,s,n){const i=s.output;let a=f.decoder(e,s);if(t&&(a=f.pipe(a,t)),"multipart/form-data"===n.mime){if(!1===s.multipart)throw c.unsupportedMediaType();return await f.multipart(e,s,a,n)}if("stream"===i)return a;if("file"===i){return(await f.writeFile(e,s,a)).item}const r=await m.read(a,{timeout:s.timeout,maxBytes:s.maxBytes});return f.object(s,r,n.mime)},f.decoder=function(e,t){const s=e.headers["content-encoding"],n=(t.decoders||f.decoders)[s];if(!n)return e;const i=n(t.compression&&t.compression[s]||null),a=i.emit;return i.emit=(e,...t)=>("error"===e&&(t=[c.badRequest("Invalid compressed payload",t[0])]),a.call(i,e,...t)),f.pipe(e,i)},f.raw=async function(e,t,s){const n=s.output;let i=e;if("gunzip"===s.parse&&(i=f.decoder(i,s)),t&&(i=f.pipe(i,t)),"stream"===n)return i;if("file"===n){return(await f.writeFile(e,s,i)).item}return await m.read(i,{timeout:s.timeout,maxBytes:s.maxBytes})},f.object=function(e,t,s){if("application/octet-stream"===s)return t.length?t:null;if(s.match(/^text\/.+$/))return t.toString("utf8");if(/^application\/(?:.+\+)?json$/.test(s)){if(!t.length)return null;try{return l.parse(t.toString("utf8"),{protoAction:e.protoAction})}catch(e){const s=c.badRequest("Invalid request payload JSON format",e);throw s.raw=t,s}}if("application/x-www-form-urlencoded"===s){const s=e.querystring||a.parse;return t.length?s(t.toString("utf8")):{}}const n=c.unsupportedMediaType();throw n.raw=t,n},f.multipart=function(e,t,s,n){return new Promise((i,a)=>{const r=t.timeout,o=r?setTimeout(()=>a(c.clientTimeout()),r):null,l=d.applyToDefaults(n,{maxBytes:t.maxBytes}),u=new h.Dispenser(l),p=e=>a(c.badRequest("Invalid multipart payload format",e));u.once("error",p);const m={},g=[],v=(e,t)=>{m.hasOwnProperty(e)?Array.isArray(m[e])?m[e].push(t):m[e]=[m[e],t]:m[e]=t},y=t.multipart?t.multipart.output:t.output,b=s=>{"file"===y?g.push(f.writeFile(e,t,s)):f.part(s,y,v,t)};u.on("part",b);const x=(e,t)=>v(e,t);u.on("field",x);const _=()=>(async()=>{clearTimeout(o),u.removeListener("error",p),u.removeListener("part",b),u.removeListener("field",x),u.removeListener("close",_);try{const e=await Promise.all(g);for(const{item:t,name:s}of e)v(s,t)}catch(e){return void a(e)}i(m)})();u.once("close",_),s.pipe(u)})},f.writeFile=function(e,t,s){const a=new Promise((a,r)=>{const o=p.uniqueFilename(t.uploads||i.tmpdir()),l=n.createWriteStream(o,{flags:"wx"}),u=new f.Counter(t),d=t=>{if(e.removeListener("aborted",h),l.removeListener("close",d),l.removeListener("error",d),t)return s.unpipe(u),u.unpipe(l),l.destroy(),void n.unlink(o,()=>r(t));const i={item:{path:o,bytes:u.bytes}};s.name&&(i.name=s.name,i.item.filename=s.filename,i.item.headers=s.headers),a(i)};l.once("close",d),l.once("error",d);const h=()=>d(c.badRequest("Client connection aborted"));e.once("aborted",h),f.pipe(s,u),f.pipe(u,l)});return a.catch(d.ignore),a},f.part=async function(e,t,s,n){const i=await m.read(e);if("stream"===t){const t=m.toReadableStream(i);return t.hapi={filename:e.filename,headers:e.headers},s(e.name,t)}const a=(e.headers["content-type"]||"").split(";")[0].trim().toLowerCase(),r=n=>s(e.name,"annotated"===t?{filename:e.filename,headers:e.headers,payload:n}:n);if(!a)return r(i);if(!i.length)return r({});try{r(f.object(n,i,a))}catch(e){r(i)}},f.pipe=function(e,t){return e.once("error",s=>{e.unpipe(t),t.emit("error",s)}),e.pipe(t)},f.Counter=class extends r.Transform{constructor(e){super(),this.bytes=0,this._maxBytes=e.maxBytes}_transform(e,t,s){return this.bytes=this.bytes+e.length,void 0!==this._maxBytes&&this.bytes>this._maxBytes?s(c.entityTooLarge("Payload content length greater than maximum allowed: "+this._maxBytes)):s(null,e)}}},function(e,t,s){"use strict";const n=s(30),i=s(13);t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=i.resolve(e);const s=[Date.now(),process.pid,n.randomBytes(8).toString("hex")].join("-")+t;return i.join(e,s)}},function(e,t,s){"use strict";const n=s(5),i=s(74),a=s(2),r=s(77),o=s(0),c=s(163),l={state:{preamble:0,boundary:1,header:2,payload:3,epilogue:4},defaults:{maxBytes:1/0}};t.Dispenser=l.Dispenser=class extends n.Writable{constructor(e){super(),o.assert(null!==e&&"object"==typeof e,"options must be an object");const t=o.applyToDefaults(l.defaults,e);this._boundary=t.boundary,this._state=l.state.preamble,this._held="",this._stream=null,this._headers={},this._name="",this._pendingHeader="",this._error=null,this._bytes=0,this._maxBytes=t.maxBytes,this._parts=new c.Stream(Buffer.from("--"+t.boundary)),this._lines=new c.Stream(Buffer.from("\r\n")),this._parts.on("needle",()=>this._onPartEnd()),this._parts.on("haystack",e=>this._onPart(e)),this._lines.on("needle",()=>this._onLineEnd()),this._lines.on("haystack",e=>this._onLine(e)),this.once("finish",()=>this._parts.end()),this._parts.once("close",()=>this._lines.end());let s=null,n=e=>{if(s&&(s.removeListener("data",r),s.removeListener("error",n),s.removeListener("aborted",i)),e)return this._abort(e);this._emit("close")};n=o.once(n),this._lines.once("close",()=>{this._state===l.state.epilogue?this._held&&(this._emit("epilogue",this._held),this._held=""):this._state===l.state.boundary?this._held?"--"!==this._held&&this._abort(a.badRequest("Only white space allowed after boundary at end")):this._abort(a.badRequest("Missing end boundary")):this._abort(a.badRequest("Incomplete multipart payload")),setImmediate(n)});const i=()=>{n(a.badRequest("Client request aborted"))},r=e=>{this._bytes+=Buffer.byteLength(e),this._bytes>this._maxBytes&&n(a.entityTooLarge("Maximum size exceeded"))};this.once("pipe",e=>{s=e,e.on("data",r),e.once("error",n),e.once("aborted",i)})}},l.Dispenser.prototype._write=function(e,t,s){return this._error?s():(this._parts.write(e),s())},l.Dispenser.prototype._emit=function(...e){this._error||this.emit(...e)},l.Dispenser.prototype._abort=function(e){this._emit("error",e),this._error=e},l.Dispenser.prototype._onPartEnd=function(){if(this._lines.flush(),this._state===l.state.preamble){if(this._held){const e=this._held.length-1;if("\n"!==this._held[e]||"\r"!==this._held[e-1])return this._abort(a.badRequest("Preamble missing CRLF terminator"));this._emit("preamble",this._held.slice(0,-2)),this._held=""}this._parts.needle(Buffer.from("\r\n--"+this._boundary))}this._state=l.state.boundary,this._stream?(this._stream.end(),this._stream=null):this._name&&(this._emit("field",this._name,this._held),this._name="",this._held="")},l.Dispenser.prototype._onPart=function(e){this._state===l.state.preamble?this._held=this._held+e.toString():this._state===l.state.payload?this._stream?this._stream.write(e):this._held=this._held+e.toString():this._lines.write(e)},l.Dispenser.prototype._onLineEnd=function(){if(this._state===l.state.boundary)return this._held&&(this._held=this._held.replace(/[\t ]/g,""),this._held)?"--"===this._held?(this._state=l.state.epilogue,void(this._held="")):this._abort(a.badRequest("Only white space allowed after boundary")):void(this._state=l.state.header);if(this._state!==l.state.header)this._held=this._held+"\r\n";else{if(this._held)return" "===this._held[0]||"\t"===this._held[0]?this._pendingHeader?(this._pendingHeader=this._pendingHeader+" "+this._held.slice(1),void(this._held="")):this._abort(a.badRequest("Invalid header continuation without valid declaration on previous line")):(this._flushHeader(),this._pendingHeader=this._held,void(this._held=""));let e;this._flushHeader(),this._state=l.state.payload;try{e=r.disposition(this._headers["content-disposition"])}catch(e){return this._abort(e)}if(void 0!==e.filename){const t=new n.PassThrough,s=this._headers["content-transfer-encoding"];s&&"base64"===s.toLowerCase()?(this._stream=new i.Decoder,this._stream.pipe(t)):this._stream=t,t.name=e.name,t.filename=e.filename,t.headers=this._headers,this._headers={},this._emit("part",t)}else this._name=e.name;this._lines.flush()}},l.Dispenser.prototype._onLine=function(e){this._stream?this._stream.write(e):this._held=this._held+e.toString()},l.Dispenser.prototype._flushHeader=function(){if(!this._pendingHeader)return;const e=this._pendingHeader.indexOf(":");return-1===e?this._abort(a.badRequest("Invalid header missing colon separator")):e?(this._headers[this._pendingHeader.slice(0,e).toLowerCase()]=this._pendingHeader.slice(e+1).trim(),void(this._pendingHeader="")):this._abort(a.badRequest("Invalid header missing field name"))}},function(e,t,s){"use strict";const n=s(5),i=s(0),a=s(164),r={};t.compile=function(e){i.assert(e&&e.length,"Missing needle"),i.assert(Buffer.isBuffer(e),"Needle must be a buffer");const t={value:e,lastPos:e.length-1,last:e[e.length-1],length:e.length,badCharShift:Buffer.alloc(256)};for(let e=0;e<256;++e)t.badCharShift[e]=t.length;const s=t.length-1;for(let e=0;e<s;++e)t.badCharShift[t.value[e]]=s-e;return t},t.horspool=function(e,s,n){i.assert(e,"Missing haystack"),s=s.badCharShift?s:t.compile(s);for(let t=n=n||0;t<=e.length-s.length;){const n=e.readUInt8(t+s.lastPos);if(n===s.last&&r.startsWith(e,s,t))return t;t+=s.badCharShift[n]}return-1},r.startsWith=function(e,t,s){if(e.startsWith)return e.startsWith(t.value,s,t.lastPos);for(let n=0;n<t.lastPos;++n)if(t.value[n]!==e.readUInt8(s+n))return!1;return!0},t.all=function(e,s,n){s=t.compile(s);const i=[];for(let a=n=n||0;-1!==a&&a<e.length;)-1!==(a=t.horspool(e,s,a))&&(i.push(a),a+=s.length);return i},r._indexOf=function(e,t){i.assert(e,"Missing haystack");for(let s=0;s<=e.length-t.length;++s)if(e.startsWith(t.value,s))return s;return-1},t.Stream=r.Stream=class extends n.Writable{constructor(e){super(),this.needle(e),this._haystack=new a,this._indexOf=this._needle.length>2?t.horspool:r._indexOf,this.on("finish",()=>{const e=this._haystack.chunks();for(let t=0;t<e.length;++t)this.emit("haystack",e[t]);setImmediate(()=>this.emit("close"))})}needle(e){this._needle=t.compile(e)}_write(e,t,s){this._haystack.push(e);let n=this._indexOf(this._haystack,this._needle);for(-1===n&&e.length>=this._needle.length&&this._flush(this._haystack.length-e.length);-1!==n;)this._flush(n),this._haystack.shift(this._needle.length),this.emit("needle"),n=this._indexOf(this._haystack,this._needle);if(this._haystack.length){let e=this._haystack.length-this._needle.length+1;for(;e<this._haystack.length&&!this._haystack.startsWith(this._needle.value,e,this._haystack.length-e);++e);this._flush(e)}return s()}_flush(e){const t=this._haystack.shift(e);for(let e=0;e<t.length;++e)this.emit("haystack",t[e])}flush(){const e=this._haystack.shift(this._haystack.length);for(let t=0;t<e.length;++t)this.emit("haystack",e[t])}}},function(e,t,s){"use strict";const n=s(0),i={};e.exports=i.Vise=function(e){if(this.length=0,this._chunks=[],this._offset=0,e){e=[].concat(e);for(let t=0;t<e.length;++t)this.push(e[t])}},i.Vise.prototype.push=function(e){n.assert(Buffer.isBuffer(e),"Chunk must be a buffer");const t={data:e,length:e.length,offset:this.length+this._offset,index:this._chunks.length};this._chunks.push(t),this.length+=e.length},i.Vise.prototype.shift=function(e){if(!e)return[];const t=this._offset,s=this._chunkAt(e);let n=this._chunks.length;this._offset=0,s&&(n=s.chunk.index,this._offset=s.offset);const i=[];for(let e=0;e<n;++e){const s=this._chunks.shift();0===e&&t?i.push(s.data.slice(t)):i.push(s.data)}this._offset&&i.push(s.chunk.data.slice(n?0:t,this._offset)),this.length=0;for(let e=0;e<this._chunks.length;++e){const t=this._chunks[e];t.offset=this.length,t.index=e,this.length+=t.length}return this.length-=this._offset,i},i.Vise.prototype.at=i.Vise.prototype.readUInt8=function(e){const t=this._chunkAt(e);return t?t.chunk.data[t.offset]:void 0},i.Vise.prototype._chunkAt=function(e){if(e<0)return null;e+=this._offset;for(let t=0;t<this._chunks.length;++t){const s=this._chunks[t],n=e-s.offset;if(n<s.length)return{chunk:s,offset:n}}return null},i.Vise.prototype.chunks=function(){const e=[];for(let t=0;t<this._chunks.length;++t){const s=this._chunks[t];0===t&&this._offset?e.push(s.data.slice(this._offset)):e.push(s.data)}return e},i.Vise.prototype.startsWith=function(e,t,s){if((t=t||0)+(s=s?Math.min(e.length,s):e.length)>this.length)return!1;const n=this._chunkAt(t);if(!n)return!1;let i=n.chunk.index;for(let t=0;i<this._chunks.length&&t<s;++i){const a=this._chunks[i];let r=i===n.chunk.index?n.offset:0;for(;r<a.length&&t<s;++r,++t)if(a.data[r]!==e[t])return!1}return!0}},function(e,t,s){"use strict";const n=s(166),i=s(28),a=s(70),r=s(5),o=s(26),c=s(43),l=s(2),u=s(18),p=s(0),d=s(78),h=s(167),m=s(168),f={jsonRegex:/^application\/([a-z0-9.]*[+-]json|json)$/,shallowOptions:["agent","agents","beforeRedirect","downstreamRes","payload","redirected"],Client:function(e={}){p.assert(!e.agents||e.agents.https&&e.agents.http&&e.agents.httpsAllowUnauthorized,'Option agents must include "http", "https", and "httpsAllowUnauthorized"'),this._defaults=p.clone(e,{shallow:f.shallowOptions}),this.agents=this._defaults.agents||{https:new a.Agent({maxSockets:1/0}),http:new i.Agent({maxSockets:1/0}),httpsAllowUnauthorized:new a.Agent({maxSockets:1/0,rejectUnauthorized:!1})},e.events&&(this.events=new n.EventEmitter,this._emit=function(...e){this.events.emit(...e)})}};f.Client.prototype.defaults=function(e){return p.assert(e&&"object"==typeof e,"options must be provided to defaults"),e=p.applyToDefaults(this._defaults,e,{shallow:f.shallowOptions}),new f.Client(e)},f.resolveUrl=function(e,t){if(!t)return e;const s=new o.URL(t,e);return o.format(s)},f.Client.prototype.request=function(e,t,s={}){try{s=p.applyToDefaults(this._defaults,s,{shallow:f.shallowOptions}),p.assert(void 0===s.payload||"string"==typeof s.payload||"object"==typeof s.payload,"options.payload must be a string, a Buffer, a Stream, or an Object"),p.assert(void 0===s.agent||null===s.agent||"boolean"!=typeof s.rejectUnauthorized,"options.agent cannot be set to an Agent at the same time as options.rejectUnauthorized is set"),p.assert(void 0===s.beforeRedirect||null===s.beforeRedirect||"function"==typeof s.beforeRedirect,"options.beforeRedirect must be a function"),p.assert(void 0===s.redirected||null===s.redirected||"function"==typeof s.redirected,"options.redirected must be a function"),p.assert(void 0===s.gunzip||"boolean"==typeof s.gunzip||"force"===s.gunzip,'options.gunzip must be a boolean or "force"')}catch(e){return Promise.reject(e)}s.beforeRedirect=s.beforeRedirect||((e,t,s,n,i,a)=>a()),s.baseUrl&&(t=f.resolveUrl(s.baseUrl,t),delete s.baseUrl);const n={},i=this._request(e,t,s,n),a=new Promise((e,t)=>{n.callback=(s,n)=>{s?t(s):e(n)}});return a.req=i,a},f.Client.prototype._request=function(e,t,s,n,c){const u={};if(s.socketPath){u.socketPath=s.socketPath;const e=new o.URL(t,`unix://${s.socketPath}`);f.applyUrlToOptions(u,{host:"",protocol:"http:",hash:e.hash,search:e.search,searchParams:e.searchParams,pathname:e.pathname,href:e.href})}else{u.setHost=!1;const e=new o.URL(t);f.applyUrlToOptions(u,e)}u.method=e.toUpperCase(),u.headers=s.headers||{},f.findHeader("host",u.headers)||(u.headers.host=u.host);const d=void 0!==f.findHeader("content-length",u.headers);!s.payload||"object"!=typeof s.payload||s.payload instanceof r||Buffer.isBuffer(s.payload)||(s.payload=JSON.stringify(s.payload),f.findHeader("content-type",u.headers)||(u.headers["content-type"]="application/json")),s.gunzip&&void 0===f.findHeader("accept-encoding",u.headers)&&(u.headers["accept-encoding"]="gzip");const h="GET"!==u.method&&"HEAD"!==u.method&&null!==s.payload&&void 0!==s.payload;!h||"string"!=typeof s.payload&&!Buffer.isBuffer(s.payload)||d||(u.headers=p.clone(u.headers),u.headers["content-length"]=Buffer.isBuffer(s.payload)?s.payload.length:Buffer.byteLength(s.payload));let g=!!s.hasOwnProperty("redirects")&&s.redirects;(c=c||[]).push({method:u.method,url:t});const v="https:"===u.protocol?a:i;void 0!==s.rejectUnauthorized&&"https:"===u.protocol?u.agent=s.rejectUnauthorized?this.agents.https:this.agents.httpsAllowUnauthorized:s.agent||!1===s.agent?u.agent=s.agent:u.agent="https:"===u.protocol?this.agents.https:this.agents.http,void 0!==s.secureProtocol&&(u.secureProtocol=s.secureProtocol),void 0!==s.ciphers&&(u.ciphers=s.ciphers),this._emit&&this._emit("preRequest",u,s);const y=Date.now(),b=v.request(u);this._emit&&this._emit("request",b);let x,_=null;const w=e=>(e.trace=c,E(l.badGateway("Client request error",e)));b.once("error",w);const A=e=>{const t=e.statusCode,n=f.redirectMethod(t,u.method,s);if(!1===g||!n)return E(null,e);if(e.destroy(),0===g)return E(l.badGateway("Maximum redirections reached",c));let i=e.headers.location;if(!i)return E(l.badGateway("Received redirection without location",c));/^https?:/i.test(i)||(i=o.resolve(u.href,i));const a=p.clone(s,{shallow:f.shallowOptions});return a.payload=_||s.payload,a.redirects=--g,s.beforeRedirect(n,t,i,e.headers,a,()=>{const e=this._request(n,i,a,{callback:E},c);s.redirected&&s.redirected(t,i,e)})},E=p.once((e,t)=>(e&&b.abort(),b.abort=k,b.removeListener("response",A),b.removeListener("error",w),b.on("error",p.ignore),clearTimeout(x),this._emit&&this._emit("response",e,{req:b,res:t,start:y,uri:u}),n.callback(e,t)));b.once("response",A),s.timeout&&(x=setTimeout(()=>E(l.gatewayTimeout("Client request timeout")),s.timeout),delete s.timeout);const k=b.abort;let S=!1;if(b.abort=()=>(S||b.res||b.socket||process.nextTick(()=>{const e=new Error("socket hang up");e.code="ECONNRESET",E(e)}),S=!0,k.call(b)),h){if(s.payload instanceof r){let e=s.payload;if(g){const t=new m;t.once("finish",()=>{_=t.collect()}),e=s.payload.pipe(t)}return f.deferPipeUntilSocketConnects(b,e),b}b.write(s.payload)}return b.end(),b},f.deferPipeUntilSocketConnects=function(e,t){const s=()=>{t.pipe(e),t.removeListener("error",n)},n=t=>{e.emit("error",t)};e.once("socket",e=>{if(!e.connecting)return s();e.once("connect",s)}),t.on("error",n)},f.redirectMethod=function(e,t,s){switch(e){case 301:case 302:return s.redirectMethod||t;case 303:if(s.redirect303)return"GET";break;case 307:case 308:return t}return null},f.Client.prototype.read=function(e,t={}){return new Promise((s,n)=>{this._read(e,t,(e,t)=>{e?n(e):s(t)})})},f.Client.prototype._read=function(e,t,s){t=p.applyToDefaults(this._defaults,t,{shallow:f.shallowOptions});let n=null;const i=p.once((i,a)=>{if(clearTimeout(n),u.removeListener("error",d),u.removeListener("finish",m),e.removeListener("error",r),e.removeListener("close",o),e.removeListener("aborted",o),e.on("error",p.ignore),i)return s(i);if(!t.json)return s(null,a);if("force"===t.json)return f.tryParseBuffer(a,s);const c=(e.headers&&f.findHeader("content-type",e.headers)||"").split(";")[0].trim().toLowerCase();return f.jsonRegex.test(c)?f.tryParseBuffer(a,s):"strict"===t.json?s(l.notAcceptable("The content-type is not JSON compatible")):s(null,a)}),a=t.timeout;a&&a>0&&(n=setTimeout(()=>{i(l.clientTimeout())},a));const r=e=>i(e.isBoom?e:l.internal("Payload stream error",e)),o=()=>{if(!e.complete)return i(l.internal("Payload stream closed prematurely"))};e.once("error",r),e.once("close",o),e.once("aborted",o);const u=new h({maxBytes:t.maxBytes}),d=t=>(e.destroy&&e.destroy(),i(t));u.once("error",d);const m=()=>i(null,u.collect());if(u.once("finish",m),t.gunzip){const s="force"===t.gunzip?"gzip":e.headers&&f.findHeader("content-encoding",e.headers)||"";if(/^(x-)?gzip(\s*,\s*identity)?$/.test(s)){const t=c.createGunzip();return t.once("error",d),void e.pipe(t).pipe(u)}}e.pipe(u)},f.Client.prototype.toReadableStream=function(e,t){return new d(e,t)},f.Client.prototype.parseCacheControl=function(e){const t={},s=e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,s,n,i)=>{const a=n||i;return t[s]=!a||a.toLowerCase(),""});if(t["max-age"])try{const e=parseInt(t["max-age"],10);if(isNaN(e))return null;t["max-age"]=e}catch(e){}return s?null:t},f.Client.prototype.get=function(e,t){return this._shortcut("GET",e,t)},f.Client.prototype.post=function(e,t){return this._shortcut("POST",e,t)},f.Client.prototype.patch=function(e,t){return this._shortcut("PATCH",e,t)},f.Client.prototype.put=function(e,t){return this._shortcut("PUT",e,t)},f.Client.prototype.delete=function(e,t){return this._shortcut("DELETE",e,t)},f.Client.prototype._shortcut=async function(e,t,s={}){const n=await this.request(e,t,s);let i;try{i=await this.read(n,s)}catch(e){throw e.data=e.data||{},e.data.res=n,e}if(n.statusCode<400)return{res:n,payload:i};const a={isResponseError:!0,headers:n.headers,res:n,payload:i};throw new l(`Response Error: ${n.statusCode} ${n.statusMessage}`,{statusCode:n.statusCode,data:a})},f.tryParseBuffer=function(e,t){if(0===e.length)return t(null,null);let s;try{s=u.parse(e.toString())}catch(s){return t(l.badGateway(s.message,{payload:e}))}return t(null,s)},f.findHeader=function(e,t){const s=Object.keys(t).find(t=>t.toLowerCase()===e.toLowerCase());return s&&t[s]},f.applyUrlToOptions=(e,t)=>(e.host=t.host,e.origin=t.origin,e.searchParams=t.searchParams,e.protocol=t.protocol,e.hostname=t.hostname,e.hash=t.hash,e.search=t.search,e.pathname=t.pathname,e.path=`${t.pathname}${t.search||""}`,e.href=t.href,""!==t.port&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`,e.username=t.username,e.password=t.password),e),e.exports=new f.Client},function(e,t){e.exports=require("events")},function(e,t,s){"use strict";const n=s(5),i=s(2);e.exports={}.Recorder=class extends n.Writable{constructor(e){super(),this.settings=e,this.buffers=[],this.length=0}_write(e,t,s){if(this.settings.maxBytes&&this.length+e.length>this.settings.maxBytes)return this.emit("error",i.entityTooLarge("Payload content length greater than maximum allowed: "+this.settings.maxBytes));this.length=this.length+e.length,this.buffers.push(e),s()}collect(){return 0===this.buffers.length?Buffer.alloc(0):1===this.buffers.length?this.buffers[0]:Buffer.concat(this.buffers,this.length)}}},function(e,t,s){"use strict";const n=s(5),i=s(78);e.exports={}.Tap=class extends n.Transform{constructor(){super(),this.buffers=[]}_transform(e,t,s){this.buffers.push(e),s(null,e)}collect(){return new i(this.buffers)}}},function(e,t,s){"use strict";const n=s(0),i={};t.execute=async function(e){if(e._route._prerequisites)for(const t of e._route._prerequisites){const s=[];for(const n of t)s.push(i.handler(e,n.method,n));const n=await Promise.all(s);for(const e of n)if(void 0!==e)return e}const t=await i.handler(e,e.route.settings.handler);if(t._takeover||"symbol"==typeof t)return t;e._setResponse(t)},i.handler=async function(e,t,s){const n=e.route.settings.bind,i=e.route.realm;let a=await e._core.toolkit.execute(t,e,{bind:n,realm:i,continue:"null"});if(!s){if(a.isBoom)throw e._log(["handler","error"],a),a;return a}return a.isBoom&&(a.assign=s.assign,a=await e._core.toolkit.failAction(e,s.failAction,a,{tags:["pre","error"],retain:!0})),"symbol"==typeof a?a:(s.assign&&(e.pre[s.assign]=a.isBoom?a:a.source,e.preResponses[s.assign]=a),a._takeover?a:void 0)},t.defaults=function(e,t,s){let i=null;if("object"==typeof t){const a=Object.keys(t)[0],r=s._decorations.handler[a];n.assert(r,"Unknown handler:",a),r.defaults&&(i="function"==typeof r.defaults?r.defaults(e):r.defaults)}return i||{}},t.configure=function(e,t){if("object"==typeof e){const s=Object.keys(e)[0],i=t._core._decorations.handler[s];return n.assert(i,"Unknown handler:",s),i(t.public,e[s])}return e},t.prerequisitesConfig=function(e){if(!e)return null;const t=[];for(let s of e){s=[].concat(s);const e=[];for(let t of s){"object"!=typeof t&&(t={method:t});const s={method:t.method,assign:t.assign,failAction:t.failAction||"error"};e.push(s)}t.push(e)}return t.length?t:null}},function(e,t,s){"use strict";const n=s(5),i=s(2),a=s(32),r={};t.cache=function(e){const t=e.response;if(t.headers["cache-control"])return;const s=e.route.settings.cache;if(s&&e._route._cache&&(s._statuses.has(t.statusCode)||304===t.statusCode&&s._statuses.has(200))||t.settings.ttl){const n=null!==t.settings.ttl?t.settings.ttl:e._route._cache.ttl(),i=e.auth.isAuthenticated||t.headers["set-cookie"]?"private":s.privacy||"default";t._header("cache-control","max-age="+Math.floor(n/1e3)+", must-revalidate"+("default"!==i?", "+i:""))}else s&&t._header("cache-control",s.otherwise)},t.content=async function(e){const s=e.response;s._isPayloadSupported()||"head"===e.method?(await s._marshal(),e.jsonp&&s._payload.jsonp&&(s._header("content-type","text/javascript"+(s.settings.charset?"; charset="+s.settings.charset:"")),s._header("x-content-type-options","nosniff"),s._payload.jsonp(e.jsonp)),s._payload.size&&"function"==typeof s._payload.size&&s._header("content-length",s._payload.size(),{override:!1}),s._isPayloadSupported()||(s._close(e),s._payload=new r.Empty),t.type(e,!0)):(s._close(e),s._payload=new r.Empty,delete s.headers["content-length"])},t.state=async function(e){const t=e.response,s=[];for(const t in e._states)s.push(e._states[t]);try{for(const t in e._core.states.cookies){const n=e._core.states.cookies[t].autoValue;if(!n||t in e._states||t in e.state)continue;if("function"!=typeof n){s.push({name:t,value:n});continue}const i=await n(e);s.push({name:t,value:i})}if(!s.length)return;let n=await e._core.states.format(s);const i=t.headers["set-cookie"];i&&(n=(Array.isArray(i)?i:[i]).concat(n)),t._header("set-cookie",n)}catch(t){const s=i.boomify(t);throw e._log(["state","response","error"],s),e._states={},s}},t.type=function(e,t){const s=e.response;let n=s.headers["content-type"];if(n){if(n=n.trim(),(!s._contentType||!t)&&s.settings.charset&&n.match(/^(?:text\/)|(?:application\/(?:json)|(?:javascript))/)&&!n.match(/; *charset=/)){const e=";"===n[n.length-1];s.type(n+(e?" ":"; ")+"charset="+s.settings.charset)}}else if(s._contentType){const e=s.settings.charset&&"application/octet-stream"!==s._contentType?"; charset="+s.settings.charset:"";s.type(s._contentType+e)}},t.entity=function(e){if(!e._entity)return;const t=e.response;e._entity.etag&&!t.headers.etag&&t.etag(e._entity.etag,{vary:e._entity.vary}),e._entity.modified&&!t.headers["last-modified"]&&t.header("last-modified",e._entity.modified)},t.unmodified=function(e){const t=e.response;if(304===t.statusCode)return;const s={etag:t.headers.etag,vary:t.settings.varyEtag,modified:t.headers["last-modified"]},n=a.unmodified(e,s);n&&(t.code(304),!0!==n&&(t.headers.etag=n))},r.Empty=class extends n.Readable{_read(){this.push(null)}writeToStream(e){e.end()}}},function(e,t,s){"use strict";t.route=function(e){if(!e)return null;const t=e;return t.hsts&&(!0===t.hsts?t._hsts="max-age=15768000":"number"==typeof t.hsts?t._hsts="max-age="+t.hsts:(t._hsts="max-age="+(t.hsts.maxAge||15768e3),(t.hsts.includeSubdomains||t.hsts.includeSubDomains)&&(t._hsts=t._hsts+"; includeSubDomains"),t.hsts.preload&&(t._hsts=t._hsts+"; preload"))),t.xframe&&(!0===t.xframe?t._xframe="DENY":"string"==typeof t.xframe?t._xframe=t.xframe.toUpperCase():"allow-from"===t.xframe.rule?t.xframe.source?t._xframe="ALLOW-FROM "+t.xframe.source:t._xframe="SAMEORIGIN":t._xframe=t.xframe.rule.toUpperCase()),t},t.headers=function(e){const t=e.response,s=t.request.route.settings.security;s._hsts&&t._header("strict-transport-security",s._hsts,{override:!1}),s._xframe&&t._header("x-frame-options",s._xframe,{override:!1}),s.xss&&t._header("x-xss-protection","1; mode=block",{override:!1}),s.noOpen&&t._header("x-download-options","noopen",{override:!1}),s.noSniff&&t._header("x-content-type-options","nosniff",{override:!1}),!1!==s.referrer&&t._header("referrer-policy",s.referrer,{override:!1})}},function(e,t,s){"use strict";const n=s(2),i=s(0),a=s(21),r={};t.compile=function(e){return!1===e?a.object({}).allow(null):"function"==typeof e?e:e&&!0!==e?"function"==typeof e.validate?e:a.compile(e):null},t.headers=function(e){return r.input("headers",e)},t.params=function(e){return r.input("params",e)},t.payload=function(e){if("get"!==e.method&&"head"!==e.method)return r.input("payload",e)},t.query=function(e){return r.input("query",e)},t.state=function(e){return r.input("state",e)},r.input=async function(e,t){const s={context:{headers:t.headers,params:t.params,query:t.query,payload:t.payload,state:t.state,auth:t.auth,app:{route:t.route.settings.app,request:t.app}}};delete s.context[e],i.merge(s,t.route.settings.validate.options);try{const n=t.route.settings.validate[e],i=t.route.settings.bind;var a=await("function"!=typeof n?r.validate(t[e],n,s):n.call(i,t[e],s));return}catch(e){var o=e}finally{t.orig[e]=t[e],void 0!==a&&(t[e]=a)}if("ignore"===t.route.settings.validate.failAction)return;const c=o.isBoom?o:n.badRequest(`Invalid request ${e} input`),l=n.boomify(o,{statusCode:400,override:!1});if(l.output.payload.validation={source:e,keys:[]},o.details)for(const e of o.details){const t=e.path;l.output.payload.validation.keys.push(i.escapeHtml(t.join(".")))}if(t.route.settings.validate.errorFields)for(const e in t.route.settings.validate.errorFields)l.output.payload[e]=t.route.settings.validate.errorFields[e];return t._core.toolkit.failAction(t,t.route.settings.validate.failAction,c,{details:l,tags:["validation","error",e]})},t.response=async function(e){if(e.route.settings.response.sample){if(Math.ceil(100*Math.random())>e.route.settings.response.sample)return}const t=e.response,s=t.isBoom?t.output.statusCode:t.statusCode,a=e.route.settings.response.status[s];if(s>=400&&!a)return;const o=void 0!==a?a:e.route.settings.response.schema;if(null===o)return;if(!t.isBoom&&"plain"!==e.response.variety)throw n.badImplementation("Cannot validate non-object response");const c={context:{headers:e.headers,params:e.params,query:e.query,payload:e.payload,state:e.state,auth:e.auth,app:{route:e.route.settings.app,request:e.app}}},l=t.isBoom?t.output.payload:t.source;i.merge(c,e.route.settings.response.options);try{let s;void 0!==(s="function"!=typeof o?await r.validate(l,o,c):await o(l,c))&&e.route.settings.response.modify&&(t.isBoom?t.output.payload=s:t.source=s)}catch(t){return e._core.toolkit.failAction(e,e.route.settings.response.failAction,t,{tags:["validation","response","error"]})}},r.validate=function(e,t,s){return"function"==typeof t.validateAsync?t.validateAsync(e,s):t.validate(e,s)}},function(e,t,s){"use strict";const n=s(2),i=s(0),a=s(20),r={methodNameRx:/^[_$a-zA-Z][$\w]*(?:\.[_$a-zA-Z][$\w]*)*$/};e.exports=r.Methods=class{constructor(e){this.core=e,this.methods={}}add(e,t,s,n){if("object"!=typeof e)return this._add(e,t,s,n);const i=[].concat(e);for(let e of i)e=a.apply("methodObject",e),this._add(e.name,e.method,e.options||{},n)}_add(e,t,s,o){i.assert("function"==typeof t,"method must be a function"),i.assert("string"==typeof e,"name must be a string"),i.assert(e.match(r.methodNameRx),"Invalid name:",e),i.assert(!i.reach(this.methods,e,{functions:!1}),"Server method function name already exists:",e),s=a.apply("method",s,e);const c=i.clone(s,{shallow:["bind"]});c.generateKey=c.generateKey||r.generateKey;const l=c.bind||o.settings.bind||null,u=l?(...e)=>t.apply(l,e):t;if(!c.cache)return this._assign(e,u);i.assert(!c.cache.generateFunc,"Cannot set generateFunc with method caching:",e),i.assert(void 0!==c.cache.generateTimeout,"Method caching requires a timeout value in generateTimeout:",e),c.cache.generateFunc=(e,t)=>u(...e.args,t);const p=this.core._cachePolicy(c.cache,"#"+e),d=function(...t){const s=c.generateKey.apply(l,t);return"string"!=typeof s?Promise.reject(n.badImplementation("Invalid method key when invoking: "+e,{name:e,args:t})):p.get({id:s,args:t})};d.cache={drop:function(...t){const s=c.generateKey.apply(l,t);return"string"!=typeof s?Promise.reject(n.badImplementation("Invalid method key when invoking: "+e,{name:e,args:t})):p.drop(s)},stats:p.stats},this._assign(e,d,d)}_assign(e,t){const s=e.split(".");let n=this.methods;for(let e=0;e<s.length;++e)n[s[e]]||(n[s[e]]=e+1===s.length?t:{}),n=n[s[e]]}},r.supportedArgs=["string","number","boolean"],r.generateKey=function(...e){let t="";for(let s=0;s<e.length;++s){const n=e[s];if(!r.supportedArgs.includes(typeof n))return null;t=t+(s?":":"")+encodeURIComponent(n.toString())}return t}},function(e,t,s){"use strict";const n=s(28),i=s(82),a=s(2),r=s(6),o=s(0),c=s(60),l=s(80),u=s(20),p=s(32),d={};t.send=async function(e){const t=e.response;try{if(t.isBoom)return void await d.fail(e,t);await d.marshal(e),await d.transmit(t)}catch(t){return r.rethrow(t,"system"),e._setResponse(t),d.fail(e,t)}},d.marshal=async function(e){for(const t of e._route._marshalCycle)await t(e)},d.fail=async function(e,t){const s=d.error(e,t);e.response=s;try{await d.marshal(e)}catch(e){r.rethrow(e,"system");const i={statusCode:s.statusCode,error:n.STATUS_CODES[s.statusCode],message:t.message};s._payload=new p.Payload(JSON.stringify(i),{})}return d.transmit(s)},d.error=function(e,t){const s=t.output,n=new p(s.payload,e);return n._error=t,n.code(s.statusCode),n.headers=o.clone(s.headers),n},d.transmit=function(e){const t=e.request,s=d.length(e),n=t._core.compression.encoding(e,s),i=n?null:d.range(e,s),a=d.encoding(e,n),r=c.isInjection(t.raw.req);(!r&&!t._core.started||t._isPayloadPending&&!t.raw.req._readableState.ended)&&e._header("connection","close"),d.writeHead(e),r&&(t.raw.res[u.symbol]={request:t},"plain"===e.variety&&(t.raw.res[u.symbol].result=e._isPayloadSupported()?e.source:null));const o=d.chain([e._payload,e._tap(),a,i]);return d.pipe(t,o)},d.length=function(e){const t=e.request,s=e.headers["content-length"];if(void 0===s)return null;let n=s;return"string"!=typeof n||(n=parseInt(s,10),isFinite(n))?(0!==n||e._statusCode||200!==e.statusCode||204!==t.route.settings.response.emptyStatusCode||(e.code(204),delete e.headers["content-length"]),n):(delete e.headers["content-length"],null)},d.range=function(e,t){const s=e.request;if(!t||!s.route.settings.response.ranges||"get"!==s.method||200!==e.statusCode)return null;if(e._header("accept-ranges","bytes"),!s.headers.range)return null;if(s.headers["if-range"]&&s.headers["if-range"]!==e.headers.etag)return null;const n=i.header(s.headers.range,t);if(!n){const e=a.rangeNotSatisfiable();throw e.output.headers["content-range"]="bytes */"+t,e}if(1!==n.length)return null;const r=n[0];return e.code(206),e.bytes(r.to-r.from+1),e._header("content-range","bytes "+r.from+"-"+r.to+"/"+t),new i.Stream(r)},d.encoding=function(e,t){const s=e.request,n=e.headers["content-encoding"]||t;if(n&&e.headers.etag&&e.settings.varyEtag&&(e.headers.etag=e.headers.etag.slice(0,-1)+"-"+n+'"'),!t||206===e.statusCode||!e._isPayloadSupported())return null;delete e.headers["content-length"],e._header("content-encoding",t);const i=s._core.compression.encoder(s,t);return"stream"===e.variety&&"function"==typeof e._payload.setCompressor&&e._payload.setCompressor(i),i},d.pipe=function(e,t){const s=new l,n={stream:t,request:e,team:s},i=d.end.bind(null,n,"aborted"),a=d.end.bind(null,n,"close"),r=d.end.bind(null,n,null);return e.raw.req.on("aborted",i),e.raw.req.on("close",a),e.raw.res.on("close",a),e.raw.res.on("error",r),e.raw.res.on("finish",r),t.writeToStream?t.writeToStream(e.raw.res):(t.on("error",r),t.pipe(e.raw.res)),s.work},d.end=function(e,t,s){const{request:n,stream:i,team:r}=e;if(!r)return;if(e.team=null,n.raw.res.finished)return"aborted"!==t&&(n.info.responded=Date.now()),void r.attend();s&&(n.raw.res.destroy(),p.drain(i)),s=s||new a(`Request ${t}`,{statusCode:n.route.settings.response.disconnectStatusCode});const o=d.error(n,a.boomify(s));n._setResponse(o),n.raw.res[u.symbol]&&(n.raw.res.statusCode=o.statusCode,n.raw.res[u.symbol].result=o.source),t?n._log(["response","error",t]):n._log(["response","error"],s),n.raw.res.end(),r.attend()},d.writeHead=function(e){const t=e.request.raw.res,s=Object.keys(e.headers);let n=0;try{for(;n<s.length;++n){const i=s[n],a=e.headers[i];void 0!==a&&t.setHeader(i,a)}}catch(e){for(--n;n>=0;--n)t.removeHeader(s[n]);throw a.boomify(e)}e.settings.message&&(t.statusMessage=e.settings.message);try{t.writeHead(e.statusCode)}catch(e){throw a.boomify(e)}},d.chain=function(e){let t=e[0];for(let s=1;s<e.length;++s){const n=e[s];n&&(t.on("error",d.errorPipe.bind(t,n)),t=t.pipe(n))}return t},d.errorPipe=function(e,t){e.emit("error",t)}},function(e,t,s){"use strict";const n=s(2),i=s(6),a=s(0),r=s(32),o={reserved:["abandon","authenticated","close","context","continue","entity","redirect","realm","request","response","state","unauthenticated","unstate"]};e.exports=o.Manager=class{constructor(){this.abandon=Symbol("abandon"),this.close=Symbol("close"),this.continue=Symbol("continue"),this.reserved=o.reserved}async execute(e,t,s){const a=new o.Toolkit(t,this,s),c=s.bind||null;try{let n;n=c?e.call(c,t,a):s.args?e(t,a,...s.args):e(t,a);var l=await o.Manager.timed(n,s)}catch(e){l=i.isSystem(e)?n.badImplementation(e):i.isError(e)?n.boomify(e):n.badImplementation("Cannot throw non-error object",e)}if(void 0===l&&(l=n.badImplementation(`${e.name} method did not return a value, a promise, or throw an error`)),s.continue&&l===this.continue){if("undefined"===s.continue)return;l=null}return s.auth&&l instanceof o.Auth?l:("symbol"!=typeof l&&((l=r.wrap(l,t)).isBoom||(l=await l._prepare())),l)}failAction(e,t,s,n){const i=n.retain?s:void 0;if("ignore"===t)return i;if("log"===t)return e._log(n.tags,s),i;if("error"===t)throw s;return this.execute(t,e,{realm:e.route.realm,args:[n.details||s]})}static timed(e,t){if(!t.timeout)return e;const s=new Promise((e,s)=>{setTimeout(()=>{s(n.internal(`${t.name} timed out`))},t.timeout)});return Promise.race([s,e])}},o.Toolkit=class{constructor(e,t,s){this.abandon=t.abandon,this.close=t.close,this.continue=t.continue,this.context=s.bind,this.realm=s.realm,this.request=e,s.auth&&(this.authenticated=o.authenticated,this.unauthenticated=o.unauthenticated);for(const t of e._core.decorations.toolkit)this[t]=e._core._decorations.toolkit[t]}response(e){return a.assert(!e||"object"!=typeof e||"function"!=typeof e.then,"Cannot wrap a promise"),a.assert(e instanceof Error==!1,"Cannot wrap an error"),a.assert("symbol"!=typeof e,"Cannot wrap a symbol"),r.wrap(e,this.request)}redirect(e){return this.response("").redirect(e)}entity(e){a.assert(e,"Entity method missing required options"),a.assert(e.etag||e.modified,"Entity methods missing required options key"),this.request._entity=e;const t=r.entity(e.etag,e);if(r.unmodified(this.request,t))return this.response().code(304).takeover()}state(e,t,s){this.request._setState(e,t,s)}unstate(e,t){this.request._clearState(e,t)}},o.authenticated=function(e){return a.assert(e&&e.credentials,"Authentication data missing credentials information"),new o.Auth(null,e)},o.unauthenticated=function(e,t){return a.assert(!t||t.credentials,"Authentication data missing credentials information"),new o.Auth(e,t)},o.Auth=class{constructor(e,t){this.isAuth=!0,this.error=e,this.data=t}}},function(e){e.exports=JSON.parse('{"name":"@hapi/hapi","description":"HTTP Server framework","homepage":"https://hapijs.com","version":"18.4.0","repository":"git://github.com/hapijs/hapi","main":"lib/index.js","keywords":["framework","http","api","web"],"dependencies":{"@hapi/accept":"3.x.x","@hapi/ammo":"3.x.x","@hapi/boom":"7.x.x","@hapi/bounce":"1.x.x","@hapi/call":"5.x.x","@hapi/catbox":"10.x.x","@hapi/catbox-memory":"4.x.x","@hapi/heavy":"6.x.x","@hapi/hoek":"8.x.x","@hapi/joi":"15.x.x","@hapi/mimos":"4.x.x","@hapi/podium":"3.x.x","@hapi/shot":"4.x.x","@hapi/somever":"2.x.x","@hapi/statehood":"6.x.x","@hapi/subtext":"6.x.x","@hapi/teamwork":"3.x.x","@hapi/topo":"3.x.x"},"devDependencies":{"@hapi/code":"6.x.x","@hapi/inert":"5.x.x","@hapi/joi-next-test":"npm:@hapi/joi@16.x.x","@hapi/lab":"20.x.x","@hapi/wreck":"15.x.x","@hapi/vision":"5.x.x","handlebars":"4.x.x"},"scripts":{"test":"lab -a @hapi/code -t 100 -L -m 5000","test-tap":"lab -a @hapi/code -r tap -o tests.tap -m 5000","test-cov-html":"lab -a @hapi/code -r html -o coverage.html -m 5000"},"license":"BSD-3-Clause"}')},function(e,t,s){"use strict";const n=s(13),i=s(2),a=s(6),r=s(0),o=s(10),c=s(83),l=s(85),u={};u.schema=o.object({path:o.alternatives(o.array().items(o.string()).single(),o.func()).required(),index:o.alternatives(o.boolean(),o.array().items(o.string()).single()).default(!0),listing:o.boolean(),showHidden:o.boolean(),redirectToSlash:o.boolean(),lookupCompressed:o.boolean(),lookupMap:o.object().min(1).pattern(/.+/,o.string()),etagMethod:o.string().valid("hash","simple").allow(!1),defaultExtension:o.string().alphanum()}),u.resolvePathOption=function(e){if(e instanceof Error)throw e;if("string"==typeof e)return[e];if(Array.isArray(e))return e;throw i.internal("Invalid path function")},t.handler=function(e,t){const s=o.attempt(t,u.schema,"Invalid directory handler options ("+e.path+")");r.assert("}"===e.path[e.path.length-1],"The route path for a directory handler must end with a parameter:",e.path);const l=/\w+/.exec(e.path.slice(e.path.lastIndexOf("{")))[0],p=e.settings.files.relativeTo,d=Array.isArray(s.path)?s.path:null,h=!0===s.index?["index.html"]:s.index||[];return async(e,t)=>{const r=d||u.resolvePathOption(s.path.call(null,e)),o=e.params[l];if(o&&!s.showHidden&&u.isFileHidden(o))throw i.notFound(null,{});o||!e.server.settings.router.stripTrailingSlash&&e.path.endsWith("/")||(e.path+="/");const m=e.path,f=m.endsWith("/"),g={confine:null,lookupCompressed:s.lookupCompressed,lookupMap:s.lookupMap,etagMethod:s.etagMethod},v=async r=>{g.confine=r;let l,d=o||"";try{return await c.load(d,e,g)}catch(e){a.ignore(e,"boom"),l=e}if(u.isNotFound(l)){if(!s.defaultExtension)throw l;return f&&(d=d.slice(0,-1)),await c.load(d+"."+s.defaultExtension,e,g)}if(u.isDirectory(l)){if(!1!==s.redirectToSlash&&!e.server.settings.router.stripTrailingSlash&&!f)return t.redirect(m+"/");for(const t of h){const s=n.join(d,t);try{return await c.load(s,e,g)}catch(e){if(a.ignore(e,"boom"),!u.isNotFound(e))throw i.internal(t+" is a directory",e)}}if(s.listing)return u.generateListing(n.join(p,r,d),m,o,f,s,e)}throw l};for(let e=0;e<r.length;++e)try{return await v(r[e])}catch(t){if(a.ignore(t,"boom"),!u.isNotFound(t)||e===r.length-1)throw t}throw i.notFound(null,{})}},u.generateListing=async function(e,t,s,n,o,c){let p;try{p=await l.readdir(e)}catch(e){throw a.rethrow(e,"system"),i.internal("Error accessing directory",e)}t=decodeURIComponent(t);const d=r.escapeHtml(t);let h="<html><head><title>"+d+"</title></head><body><h1>Directory: "+d+"</h1><ul>";if(s){const e=t.substring(0,t.lastIndexOf("/",t.length-(n?2:1)))+"/";h=h+'<li><a href="'+u.pathEncode(e)+'">Parent Directory</a></li>'}for(let e=0;e<p.length;++e)!o.showHidden&&u.isFileHidden(p[e])||(h=h+'<li><a href="'+u.pathEncode(t+(n?"":"/")+p[e])+'">'+r.escapeHtml(p[e])+"</a></li>");return h+="</ul></body></html>",c.generateResponse(h)},u.isFileHidden=function(e){return/(^|[\\\/])\.([^.\\\/]|\.[^\\\/])/.test(e)},u.pathEncode=function(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/%5C/g,"\\")},u.isNotFound=function(e){return 404===e.output.statusCode},u.isDirectory=function(e){return 403===e.output.statusCode&&"EISDIR"===e.data.code}},function(e,t,s){"use strict";e.exports=v;var n,i=s(179),a=s(27),r=s(181),o=(n="function"==typeof Symbol&&"1"!==process.env._nodeLRUCacheForceNoSymbol?function(e){return Symbol(e)}:function(e){return"_"+e})("max"),c=n("length"),l=n("lengthCalculator"),u=n("allowStale"),p=n("maxAge"),d=n("dispose"),h=n("noDisposeOnSet"),m=n("lruList"),f=n("cache");function g(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[o]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[o]=1/0);var s=e.length||g;"function"!=typeof s&&(s=g),this[l]=s,this[u]=e.stale||!1,this[p]=e.maxAge||0,this[d]=e.dispose,this[h]=e.noDisposeOnSet||!1,this.reset()}function y(e,t,s,n){var i=s.value;x(e,i)&&(w(e,s),e[u]||(i=void 0)),i&&t.call(n,i.value,i.key,e)}function b(e,t,s){var n=e[f].get(t);if(n){var i=n.value;x(e,i)?(w(e,n),e[u]||(i=void 0)):s&&e[m].unshiftNode(n),i&&(i=i.value)}return i}function x(e,t){if(!t||!t.maxAge&&!e[p])return!1;var s=Date.now()-t.now;return t.maxAge?s>t.maxAge:e[p]&&s>e[p]}function _(e){if(e[c]>e[o])for(var t=e[m].tail;e[c]>e[o]&&null!==t;){var s=t.prev;w(e,t),t=s}}function w(e,t){if(t){var s=t.value;e[d]&&e[d](s.key,s.value),e[c]-=s.length,e[f].delete(s.key),e[m].removeNode(t)}}function A(e,t,s,n,i){this.key=e,this.value=t,this.length=s,this.now=n,this.maxAge=i||0}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[o]=e,_(this)},get:function(){return this[o]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[u]=!!e},get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[p]=e,_(this)},get:function(){return this[p]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=g),e!==this[l]&&(this[l]=e,this[c]=0,this[m].forEach((function(e){e.length=this[l](e.value,e.key),this[c]+=e.length}),this)),_(this)},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[m].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var s=this[m].tail;null!==s;){var n=s.prev;y(this,e,s,t),s=n}},v.prototype.forEach=function(e,t){t=t||this;for(var s=this[m].head;null!==s;){var n=s.next;y(this,e,s,t),s=n}},v.prototype.keys=function(){return this[m].toArray().map((function(e){return e.key}),this)},v.prototype.values=function(){return this[m].toArray().map((function(e){return e.value}),this)},v.prototype.reset=function(){this[d]&&this[m]&&this[m].length&&this[m].forEach((function(e){this[d](e.key,e.value)}),this),this[f]=new i,this[m]=new r,this[c]=0},v.prototype.dump=function(){return this[m].map((function(e){if(!x(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}}),this).toArray().filter((function(e){return e}))},v.prototype.dumpLru=function(){return this[m]},v.prototype.inspect=function(e,t){var s="LRUCache {",n=!1;this[u]&&(s+="\n  allowStale: true",n=!0);var i=this[o];i&&i!==1/0&&(n&&(s+=","),s+="\n  max: "+a.inspect(i,t),n=!0);var r=this[p];r&&(n&&(s+=","),s+="\n  maxAge: "+a.inspect(r,t),n=!0);var d=this[l];d&&d!==g&&(n&&(s+=","),s+="\n  length: "+a.inspect(this[c],t),n=!0);var h=!1;return this[m].forEach((function(e){h?s+=",\n  ":(n&&(s+=",\n"),h=!0,s+="\n  ");var i=a.inspect(e.key).split("\n").join("\n  "),o={value:e.value};e.maxAge!==r&&(o.maxAge=e.maxAge),d!==g&&(o.length=e.length),x(this,e)&&(o.stale=!0),o=a.inspect(o,t).split("\n").join("\n  "),s+=i+" => "+o})),(h||n)&&(s+="\n"),s+="}"},v.prototype.set=function(e,t,s){var n=(s=s||this[p])?Date.now():0,i=this[l](t,e);if(this[f].has(e)){if(i>this[o])return w(this,this[f].get(e)),!1;var a=this[f].get(e).value;return this[d]&&(this[h]||this[d](e,a.value)),a.now=n,a.maxAge=s,a.value=t,this[c]+=i-a.length,a.length=i,this.get(e),_(this),!0}var r=new A(e,t,i,n,s);return r.length>this[o]?(this[d]&&this[d](e,t),!1):(this[c]+=r.length,this[m].unshift(r),this[f].set(e,this[m].head),_(this),!0)},v.prototype.has=function(e){return!!this[f].has(e)&&!x(this,this[f].get(e).value)},v.prototype.get=function(e){return b(this,e,!0)},v.prototype.peek=function(e){return b(this,e,!1)},v.prototype.pop=function(){var e=this[m].tail;return e?(w(this,e),e.value):null},v.prototype.del=function(e){w(this,this[f].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),s=e.length-1;s>=0;s--){var n=e[s],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var a=i-t;a>0&&this.set(n.k,n.v,a)}}},v.prototype.prune=function(){var e=this;this[f].forEach((function(t,s){b(e,s,!1)}))}},function(e,t,s){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=s(180):e.exports=Map},function(e,t){var s=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach((function(e,t){this.set(t,e)}),this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach((function(e){this.set(e[0],e[1])}),this)}}function i(e,t){return e===t||e!=e&&t!=t}function a(e,t,s){this.key=e,this.value=t,this._index=s}function r(e,t){for(var n=0,a="_"+t,r=a;s.call(e,r);r=a+n++)if(i(e[r].key,t))return e[r]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach((function(s){"size"!==s&&e.call(t,this._data[s].value,this._data[s].key)}),this)},n.prototype.has=function(e){return!!r(this._data,e)},n.prototype.get=function(e){var t=r(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var r=0,o="_"+t,c=o;s.call(e,c);c=o+r++)if(i(e[c].key,t))return void(e[c].value=n);e.size++,e[c]=new a(t,n,c)}(this._data,e,t)},n.prototype.delete=function(e){var t=r(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function s(e){var t=this;if(t instanceof s||(t=new s),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,s,n){if(!(this instanceof a))return new a(e,t,s,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}e.exports=s,s.Node=a,s.create=s,s.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,s=e.prev;t&&(t.prev=s),s&&(s.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=s),e.list.length--,e.next=null,e.prev=null,e.list=null},s.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},s.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},s.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},s.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},s.prototype.forEach=function(e,t){t=t||this;for(var s=this.head,n=0;null!==s;n++)e.call(t,s.value,n,this),s=s.next},s.prototype.forEachReverse=function(e,t){t=t||this;for(var s=this.tail,n=this.length-1;null!==s;n--)e.call(t,s.value,n,this),s=s.prev},s.prototype.get=function(e){for(var t=0,s=this.head;null!==s&&t<e;t++)s=s.next;if(t===e&&null!==s)return s.value},s.prototype.getReverse=function(e){for(var t=0,s=this.tail;null!==s&&t<e;t++)s=s.prev;if(t===e&&null!==s)return s.value},s.prototype.map=function(e,t){t=t||this;for(var n=new s,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},s.prototype.mapReverse=function(e,t){t=t||this;for(var n=new s,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},s.prototype.reduce=function(e,t){var s,n=this.head;if(arguments.length>1)s=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,s=this.head.value}for(var i=0;null!==n;i++)s=e(s,n.value,i),n=n.next;return s},s.prototype.reduceReverse=function(e,t){var s,n=this.tail;if(arguments.length>1)s=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,s=this.tail.value}for(var i=this.length-1;null!==n;i--)s=e(s,n.value,i),n=n.prev;return s},s.prototype.toArray=function(){for(var e=new Array(this.length),t=0,s=this.head;null!==s;t++)e[t]=s.value,s=s.next;return e},s.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,s=this.tail;null!==s;t++)e[t]=s.value,s=s.prev;return e},s.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)n.push(a.value);return n},s.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new s;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)n.push(a.value);return n},s.prototype.reverse=function(){for(var e=this.head,t=this.tail,s=e;null!==s;s=s.prev){var n=s.prev;s.prev=s.next,s.next=n}return this.head=t,this.tail=e,this}},function(e){e.exports=JSON.parse('{"name":"@hapi/inert","description":"Static file and directory handlers plugin for hapi.js","version":"5.2.2","repository":"https://github.com/hapijs/inert.git","main":"lib/index.js","keywords":["file","directory","handler","hapi","plugin"],"dependencies":{"@hapi/ammo":"3.x.x","@hapi/boom":"7.x.x","@hapi/bounce":"1.x.x","@hapi/hoek":"8.x.x","@hapi/joi":"16.x.x","lru-cache":"4.1.x"},"devDependencies":{"@hapi/code":"6.x.x","@hapi/file":"1.x.x","@hapi/hapi":"18.x.x","@hapi/lab":"20.x.x"},"scripts":{"test":"lab -f -a @hapi/code -t 100 -L","test-cov-html":"lab -f -a @hapi/code -r html -o coverage.html"},"license":"BSD-3-Clause"}')},function(e,t,s){"use strict";
/** @license React v16.10.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(86),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function _(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||b}function w(){}function A(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var E=A.prototype=new w;E.constructor=A,n(E,_.prototype),E.isPureReactComponent=!0;var k={current:null},S={suspense:null},R={current:null},j=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,s){var n,i={},r=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)j.call(t,n)&&!O.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(1===c)i.children=s;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===i[n]&&(i[n]=c[n]);return{$$typeof:a,type:e,key:r,ref:o,props:i,_owner:R.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var T=/\/+/g,$=[];function N(e,t,s,n){if($.length){var i=$.pop();return i.result=e,i.keyPrefix=t,i.func=s,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:s,context:n,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>$.length&&$.push(e)}function P(e,t,s){return null==e?0:function e(t,s,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var c=!1;if(null===t)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case a:case r:c=!0}}if(c)return n(i,t,""===s?"."+B(t,0):s),1;if(c=0,s=""===s?".":s+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=s+B(o=t[l],l);c+=e(o,u,n,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=v&&t[v]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(o=t.next()).done;)c+=e(o=o.value,u=s+B(o,l++),n,i);else if("object"===o)throw n=""+t,y(Error(31),"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return c}(e,"",t,s)}function B(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function q(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,s){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?M(e,n,s,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+s)),n.push(e))}function M(e,t,s,n,i){var a="";null!=s&&(a=(""+s).replace(T,"$&/")+"/"),P(e,D,t=N(t,a,n,i)),L(t)}function F(){var e=k.current;if(null===e)throw y(Error(321));return e}var z={Children:{map:function(e,t,s){if(null==e)return e;var n=[];return M(e,n,null,t,s),n},forEach:function(e,t,s){if(null==e)return e;P(e,q,t=N(null,null,t,s)),L(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return M(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:A,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,s){return F().useImperativeHandle(e,t,s)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,s){return F().useReducer(e,t,s)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:o,Profiler:l,StrictMode:c,Suspense:h,unstable_SuspenseList:m,createElement:C,cloneElement:function(e,t,s){if(null==e)throw y(Error(267),e);var i=n({},e.props),r=e.key,o=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,c=R.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)j.call(t,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=s;else if(1<u){l=Array(u);for(var p=0;p<u;p++)l[p]=arguments[p+2];i.children=l}return{$$typeof:a,type:e.type,key:r,ref:o,props:i,_owner:c}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.10.2",unstable_withSuspenseConfig:function(e,t){var s=S.suspense;S.suspense=void 0===t?null:t;try{e()}finally{S.suspense=s}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentBatchConfig:S,ReactCurrentOwner:R,IsSomeRendererActing:{current:!1},assign:n}},U={default:z},H=U&&z||U;e.exports=H.default||H},function(e,t,s){"use strict";e.exports=s(185)},function(e,t,s){"use strict";
/** @license React v16.10.2
 * react-dom-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(86),i=s(14),a=s(5);function r(e){for(var t=e.message,s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var o="function"==typeof Symbol&&Symbol.for,c=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,p=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,m=o?Symbol.for("react.concurrent_mode"):60111,f=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.suspense_list"):60120,y=o?Symbol.for("react.memo"):60115,b=o?Symbol.for("react.lazy"):60116,x=o?Symbol.for("react.fundamental"):60117,_=o?Symbol.for("react.scope"):60119,w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return"Context.Consumer";case d:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return A(e.type);case b:if(e=1===e._status?e._result:null)return A(e)}return null}w.hasOwnProperty("ReactCurrentDispatcher")||(w.ReactCurrentDispatcher={current:null}),w.hasOwnProperty("ReactCurrentBatchConfig")||(w.ReactCurrentBatchConfig={suspense:null});var E={};function k(e,t){for(var s=0|e._threadCount;s<=t;s++)e[s]=e._currentValue2,e._threadCount=s+1}for(var S=new Uint16Array(16),R=0;15>R;R++)S[R]=R+1;S[15]=0;var j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O=Object.prototype.hasOwnProperty,C={},I={};function T(e){return!!O.call(I,e)||!O.call(C,e)&&(j.test(e)?I[e]=!0:(C[e]=!0,!1))}function $(e,t,s,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){N[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];N[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){N[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){N[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){N[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){N[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){N[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){N[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){N[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var L=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(L,P);N[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(L,P);N[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(L,P);N[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){N[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),N.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){N[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var B=/["'&<>]/;function q(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=B.exec(e);if(t){var s,n="",i=0;for(s=t.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==s&&(n+=e.substring(i,s)),i=s+1,n+=t}e=i!==s?n+e.substring(i,s):n}return e}function D(e,t){var s,n=N.hasOwnProperty(e)?N[e]:null;return(s="style"!==e)&&(s=null!==n?0===n.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),s||function(e,t,s,n){if(null==t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,n,!1)?"":null!==n?(e=n.attributeName,3===(s=n.type)||4===s&&!0===t?e+'=""':(n.sanitizeURL&&(t=""+t),e+'="'+q(t)+'"')):T(e)?e+'="'+q(t)+'"':""}var M="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},F=null,z=null,U=null,H=!1,G=!1,W=null,V=0;function X(){if(null===F)throw r(Error(321));return F}function K(){if(0<V)throw r(Error(312));return{memoizedState:null,queue:null,next:null}}function Y(){return null===U?null===z?(H=!1,z=U=K()):(H=!0,U=z):null===U.next?(H=!1,U=U.next=K()):(H=!0,U=U.next),U}function J(e,t,s,n){for(;G;)G=!1,V+=1,U=null,s=e(t,n);return z=F=null,V=0,U=W=null,s}function Z(e,t){return"function"==typeof t?t(e):t}function Q(e,t,s){if(F=X(),U=Y(),H){var n=U.queue;if(t=n.dispatch,null!==W&&void 0!==(s=W.get(n))){W.delete(n),n=U.memoizedState;do{n=e(n,s.action),s=s.next}while(null!==s);return U.memoizedState=n,[n,t]}return[U.memoizedState,t]}return e=e===Z?"function"==typeof t?t():t:void 0!==s?s(t):t,U.memoizedState=e,e=(e=U.queue={last:null,dispatch:null}).dispatch=ee.bind(null,F,e),[U.memoizedState,e]}function ee(e,t,s){if(!(25>V))throw r(Error(301));if(e===F)if(G=!0,e={action:s,next:null},null===W&&(W=new Map),void 0===(s=W.get(t)))W.set(t,e);else{for(t=s;null!==t.next;)t=t.next;t.next=e}}function te(){}var se=0,ne={readContext:function(e){var t=se;return k(e,t),e[t]},useContext:function(e){X();var t=se;return k(e,t),e[t]},useMemo:function(e,t){if(F=X(),t=void 0===t?null:t,null!==(U=Y())){var s=U.memoizedState;if(null!==s&&null!==t){e:{var n=s[1];if(null===n)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!M(t[i],n[i])){n=!1;break e}n=!0}}if(n)return s[0]}}return e=e(),U.memoizedState=[e,t],e},useReducer:Q,useRef:function(e){F=X();var t=(U=Y()).memoizedState;return null===t?(e={current:e},U.memoizedState=e):t},useState:function(e){return Q(Z,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}}},ie={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var re={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe=n({menuitem:!0},re),ce={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=["Webkit","ms","Moz","O"];Object.keys(ce).forEach((function(e){le.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ce[t]=ce[e]}))}));var ue=/([A-Z])/g,pe=/^ms-/,de=i.Children.toArray,he=w.ReactCurrentDispatcher,me={listing:!0,pre:!0,textarea:!0},fe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge={},ve={};var ye=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function xe(e,t){if(void 0===e)throw r(Error(152),A(t)||"Component")}function _e(e,t,s){function a(i,a){var o=a.prototype&&a.prototype.isReactComponent,c=function(e,t,s,n){if(n&&("object"==typeof(n=e.contextType)&&null!==n))return k(n,s),n[s];if(e=e.contextTypes){for(var i in s={},e)s[i]=t[i];t=s}else t=E;return t}(a,t,s,o),l=[],u=!1,p={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){u=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}};if(o){if(o=new a(i.props,c,p),"function"==typeof a.getDerivedStateFromProps){var d=a.getDerivedStateFromProps.call(null,i.props,o.state);null!=d&&(o.state=n({},o.state,d))}}else if(F={},o=a(i.props,c,p),null==(o=J(a,i.props,o,c))||null==o.render)return void xe(e=o,a);if(o.props=i.props,o.context=c,o.updater=p,void 0===(p=o.state)&&(o.state=p=null),"function"==typeof o.UNSAFE_componentWillMount||"function"==typeof o.componentWillMount)if("function"==typeof o.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&o.UNSAFE_componentWillMount(),l.length){p=l;var h=u;if(l=null,u=!1,h&&1===p.length)o.state=p[0];else{d=h?p[0]:o.state;var m=!0;for(h=h?1:0;h<p.length;h++){var f=p[h];null!=(f="function"==typeof f?f.call(o,d,i.props,c):f)&&(m?(m=!1,d=n({},d,f)):n(d,f))}o.state=d}}else l=null;if(xe(e=o.render(),a),"function"==typeof o.getChildContext&&"object"==typeof(i=a.childContextTypes)){var g=o.getChildContext();for(var v in g)if(!(v in i))throw r(Error(108),A(a)||"Unknown",v)}g&&(t=n({},t,g))}for(;i.isValidElement(e);){var o=e,c=o.type;if("function"!=typeof c)break;a(o,c)}return{child:e,context:t}}var we=function(){function e(e,t){i.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:de(e)):e=de(e),e={type:null,domNamespace:ie.html,children:e,childIndex:0,context:E,footer:""};var s=S[0];if(0===s){var n=S,a=2*(s=n.length);if(!(65536>=a))throw r(Error(304));var o=new Uint16Array(a);for(o.set(n),(S=o)[0]=s+1,n=s;n<a-1;n++)S[n]=n+1;S[a-1]=0}else S[0]=S[s];this.threadID=s,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;S[e]=S[0],S[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,s=e.type._context,n=this.threadID;k(s,n);var i=s[n];this.contextStack[t]=s,this.contextValueStack[t]=i,s[n]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],s=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=s},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=se;se=this.threadID;var s=he.current;he.current=ne;try{for(var n=[""],i=!1;n[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;S[a]=S[0],S[0]=a;break}var o=this.stack[this.stack.length-1];if(i||o.childIndex>=o.children.length){var c=o.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===o.type)this.currentSelectValue=null;else if(null!=o.type&&null!=o.type.type&&o.type.type.$$typeof===d)this.popProvider(o.type);else if(o.type===g){this.suspenseDepth--;var l=n.pop();if(i){i=!1;var u=o.fallbackFrame;if(!u)throw r(Error(303));this.stack.push(u),n[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}n[this.suspenseDepth]+=l}n[this.suspenseDepth]+=c}else{var p=o.children[o.childIndex++],h="";try{h+=this.render(p,o.context,o.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw r(Error(294));throw e}n.length<=this.suspenseDepth&&n.push(""),n[this.suspenseDepth]+=h}}return n[0]}finally{he.current=s,se=t}},t.render=function(e,t,s){if("string"==typeof e||"number"==typeof e)return""===(s=""+e)?"":this.makeStaticMarkup?q(s):this.previousWasTextNode?"\x3c!-- --\x3e"+q(s):(this.previousWasTextNode=!0,q(s));if(e=(t=_e(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((s=e.$$typeof)===c)throw r(Error(257));throw r(Error(258),s.toString())}return e=de(e),this.stack.push({type:null,domNamespace:s,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"==typeof a)return this.renderDOM(e,t,s);switch(a){case u:case m:case p:case v:case l:return e=de(e.props.children),this.stack.push({type:null,domNamespace:s,children:e,childIndex:0,context:t,footer:""}),"";case g:throw r(Error(294))}if("object"==typeof a&&null!==a)switch(a.$$typeof){case f:F={};var o=a.render(e.props,e.ref);return o=J(a.render,e.props,o,e.ref),o=de(o),this.stack.push({type:null,domNamespace:s,children:o,childIndex:0,context:t,footer:""}),"";case y:return e=[i.createElement(a.type,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:s,children:e,childIndex:0,context:t,footer:""}),"";case d:return s={type:e,domNamespace:s,children:a=de(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(s),"";case h:a=e.type,o=e.props;var w=this.threadID;return k(a,w),a=de(o.children(a[w])),this.stack.push({type:e,domNamespace:s,children:a,childIndex:0,context:t,footer:""}),"";case x:throw r(Error(338));case b:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a=e.type),a._status){case 1:return e=[i.createElement(a._result,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:s,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw a._result;default:throw r(Error(295))}case _:throw r(Error(343))}throw r(Error(130),null==a?a:typeof a,"")},t.renderDOM=function(e,t,s){var a=e.type.toLowerCase();if(s===ie.html&&ae(a),!ge.hasOwnProperty(a)){if(!fe.test(a))throw r(Error(65),a);ge[a]=!0}var o=e.props;if("input"===a)o=n({type:void 0},o,{defaultChecked:void 0,defaultValue:void 0,value:null!=o.value?o.value:o.defaultValue,checked:null!=o.checked?o.checked:o.defaultChecked});else if("textarea"===a){var c=o.value;if(null==c){c=o.defaultValue;var l=o.children;if(null!=l){if(null!=c)throw r(Error(92));if(Array.isArray(l)){if(!(1>=l.length))throw r(Error(93));l=l[0]}c=""+l}null==c&&(c="")}o=n({},o,{value:void 0,children:""+c})}else if("select"===a)this.currentSelectValue=null!=o.value?o.value:o.defaultValue,o=n({},o,{value:void 0});else if("option"===a){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(o.children);if(null!=l){var p=null!=o.value?o.value+"":u;if(c=!1,Array.isArray(l)){for(var d=0;d<l.length;d++)if(""+l[d]===p){c=!0;break}}else c=""+l===p;o=n({selected:void 0,children:void 0},o,{selected:c,children:u})}}if(c=o){if(oe[a]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw r(Error(137),a,"");if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw r(Error(60));if(!("object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML))throw r(Error(61))}if(null!=c.style&&"object"!=typeof c.style)throw r(Error(62),"")}for(x in c=o,l=this.makeStaticMarkup,u=1===this.stack.length,p="<"+e.type,c)if(ye.call(c,x)){var h=c[x];if(null!=h){if("style"===x){d=void 0;var m="",f="";for(d in h)if(h.hasOwnProperty(d)){var g=0===d.indexOf("--"),v=h[d];if(null!=v){if(g)var y=d;else if(y=d,ve.hasOwnProperty(y))y=ve[y];else{var b=y.replace(ue,"-$1").toLowerCase().replace(pe,"-ms-");y=ve[y]=b}m+=f+y+":",f=d,m+=g=null==v||"boolean"==typeof v||""===v?"":g||"number"!=typeof v||0===v||ce.hasOwnProperty(f)&&ce[f]?(""+v).trim():v+"px",f=";"}}h=m||null}d=null;e:if(g=a,v=c,-1===g.indexOf("-"))g="string"==typeof v.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?be.hasOwnProperty(x)||(d=T(d=x)&&null!=h?d+'="'+q(h)+'"':""):d=D(x,h),d&&(p+=" "+d)}}l||u&&(p+=' data-reactroot=""');var x=p;c="",re.hasOwnProperty(a)?x+="/>":(x+=">",c="</"+e.type+">");e:{if(null!=(l=o.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=o.children)||"number"==typeof l){l=q(l);break e}l=null}return null!=l?(o=[],me[a]&&"\n"===l.charAt(0)&&(x+="\n"),x+=l):o=de(o.children),e=e.type,s=null==s||"http://www.w3.org/1999/xhtml"===s?ae(e):"http://www.w3.org/2000/svg"===s&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":s,this.stack.push({domNamespace:s,type:a,children:o,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,x},e}();var Ae=function(e){function t(t,s){var n=e.call(this,{})||this;return n.partialRenderer=new we(t,s),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var s=t.prototype;return s._destroy=function(e,t){this.partialRenderer.destroy(),t(e)},s._read=function(e){try{this.push(this.partialRenderer.read(e))}catch(e){this.destroy(e)}},t}(a.Readable),Ee={renderToString:function(e){e=new we(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new we(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(e){return new Ae(e,!1)},renderToStaticNodeStream:function(e){return new Ae(e,!0)},version:"16.10.2"},ke={default:Ee},Se=ke&&Ee||ke;e.exports=Se.default||Se}]);